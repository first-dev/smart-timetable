(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{645:function(e,t,n){"use strict";n.d(t,"a",(function(){return Wr}));var r=n(3),c=n.n(r),o=n(28),i={background:o.a.grey100,primary:o.a.amber800,accent:o.a.deepOrange300,highlight:o.a.amber600,blackFont:o.a.black,text:o.a.grey700,secondaryText:o.a.grey600,faintText:o.a.grey400,error:o.a.red800},a=4,s=8,l=12,u=16,j=24,b={tiny:12,small:14,regular:16,title:20},d=n(578),O=n(0),f=n(5),h=n(242),p=n(2),y=n(34),m=n(101),g=n(1),v=function(){var e=Object(y.b)().colors;return Object(g.jsx)(p.a,{style:x.container,children:Object(g.jsx)(m.a,{style:{color:e.primary,fontSize:24},children:"Smart Timetable"})})},x=f.a.create({container:{flex:1,justifyContent:"center",alignItems:"flex-start",padding:20}}),w={OverviewScreen:"home",TimetableScreen:"timetable",CalendarScreen:"calendar-today",AgendaScreen:"view-agenda",SubjectsScreen:"school",SettingsScreen:"settings"},S=f.a.create({container:{borderRightWidth:1,borderRightColor:o.a.grey200},item:{paddingVertical:4},divider:{marginHorizontal:8}}),P=function(e){var t=e.navigation,n=e.descriptors,r=e.state;return Object(g.jsxs)(d.a,{style:S.container,children:[Object(g.jsx)(v,{}),Object(g.jsx)(h.a,{style:S.divider}),r.routes.map((function(e){var r,c=e.key,a=e.name;return Object(g.jsxs)(O.Fragment,{children:["AgendaScreen"===a&&Object(g.jsx)(h.a,{style:S.divider}),Object(g.jsx)(o.b.Item,{style:S.item,label:null!=(r=n[c].options.title)?r:a,icon:w[a],onPress:function(){return t.navigate(a)},active:n[c].navigation.isFocused(),theme:{colors:{text:i.blackFont}}})]},c)}))]})},D=n(10),C=n.n(D),I=n(36),k=function(e){var t=Object(O.useState)(I.a.get(e)),n=C()(t,2),r=n[0],c=n[1],o=function(t){var n=t.window,r=t.screen;c("window"===e?n:r)};return Object(O.useEffect)((function(){return I.a.addEventListener("change",o),function(){I.a.removeEventListener("change",o)}}),[]),r},E=function(e){var t=Object(O.useState)(e(I.a.get("window"),I.a.get("screen"))),n=C()(t,2),r=n[0],c=n[1],o=function(t){var n=t.window,r=t.screen;c(e(n,r))};return Object(O.useEffect)((function(){return I.a.addEventListener("change",o),function(){I.a.removeEventListener("change",o)}}),[]),r},A=(n(118),n(217)),M=n.n(A);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={title:"Second semester",id:"S2",sessions:[{dayIndex:1,subjectId:"M11-1",start:8.5,end:12.5,shelfLife:{start:null,end:null}},{dayIndex:1,subjectId:"M12-1",start:14.5,end:18.5,shelfLife:{start:null,end:null}}].map((function(e){return z(z({},e),{},{id:M.a.v4()})}))},H={title:"First semester",id:"S1",sessions:[{dayIndex:1,subjectId:"M16-1",start:8.5,end:10.5,shelfLife:{start:null,end:null}},{dayIndex:1,subjectId:"M16-2",start:14.5,end:16.5,shelfLife:{start:null,end:null}}].map((function(e){return z(z({},e),{},{id:M.a.v4()})}))},V=[{id:"M11-1",name:"CAO",room:"Salle1",color:o.a.purple500,teacher:"Y. FARHANE"},{id:"M12-1",name:"Circuits reprogrammables",room:"Salle1",color:o.a.red500,teacher:"A. MANSOURI"},{id:"M12-2",name:"Conception des C.I par langage VHDL",room:"Salle1",color:o.a.cyan500,teacher:"A. MANSOURI"},{id:"M9",name:"Recherche op\xe9rationnelle",room:"Salle1",color:o.a.indigoA400,teacher:"S. ELHAJ-BEN-ALI"},{id:"M16-1",name:"Anglais",room:"Salle1",color:o.a.teal500,teacher:"DAHBI"},{id:"M16-2",name:"TEC2",room:"Salle1",color:o.a.brown500,teacher:"KHADIJA ALAOUI"},{id:"M13-1",name:"Microcontr\xf4leur avanc\xe9",room:"Salle1",color:o.a.redA400,teacher:"A. MANSOURI"},{id:"M13-2",name:"Automate programmable API",room:"Salle1",color:o.a.blue500,teacher:"A.ELBDOURI"},{id:"M10-1",name:"Syst\xe8me d'Information : Conception des syst\xe8mes d'information",room:"Salle1",color:o.a.pinkA400,teacher:"L. OUGHDIR"},{id:"M10-2",name:"Syst\xe8me d'Information : Bases de donn\xe9es",room:"Salle1",color:o.a.lightGreenA400,teacher:"A.BOULAALAM"},{id:"M14",name:"JAVA, API",room:"Salle1",color:o.a.deepPurpleA400,teacher:"Y. KHAMLICHI"},{id:"M15-1",name:"Gestion comptable",room:"Salle1",color:o.a.deepOrangeA400,teacher:"BOULAICH"},{id:"M15-2",name:"Droit des soci\xe9t\xe9s",room:"Salle1",color:o.a.lightBlue500,teacher:"BOULAICH"},{id:"M11-2",name:"Traitement du Signal",room:"Salle1",color:o.a.orangeA400,teacher:"H.BELKBIR"}],R=n(21),B=n.n(R),F=n(125),N=n(47),W=function(e,t){return function(n){var r,c,o=n.onSet,i=n.setSelf,a=n.trigger,s=null!=(r=null==t?void 0:t.parse)?r:JSON.parse,l=null!=(c=null==t?void 0:t.stringify)?c:JSON.stringify,u=Object(N.cloneDeep)(null==t?void 0:t.defaultValue);"get"===a&&function(){var t,n;B.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,B.a.awrap(F.a.getItem(e));case 3:(t=r.sent)&&(n=u?Object(N.merge)(u,s(t)):s(t),i(n)),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),console.error("failed to recover "+e+" from AsyncStorage"),console.error(r.t0);case 11:case"end":return r.stop()}}),null,null,[[0,7]],Promise)}(),o((function(t,n,r){r?F.a.removeItem(e):F.a.setItem(e,l(t))}))}},U=n(70),G=Object(U.b)({key:"subjectsState",default:V,effects:[W("subjectsState")]});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(){var e=Object(U.c)(G),t=C()(e,2),n=t[0],r=t[1],c=Object(U.d)(G),o=Object(O.useCallback)((function(e){r((function(t){var n=Object(N.cloneDeep)(t),r=n.findIndex((function(t){return t.id===e.id}));return-1!=r?n[r]=e:n.push(e),n}))}),[r]),i=Object(O.useCallback)((function(e){return r((function(t){return t.filter((function(t){return t.id!==e}))}))}),[r]),a=Object(O.useCallback)((function(e){return n.find((function(t){return t.id===e}))}),[n]),s=Object(O.useCallback)((function(e,t){r((function(n){var r=Object(N.cloneDeep)(n),c=r.findIndex((function(t){return t.id===e})),o=r[c];return-1!=c&&(r[c]=q(q({},t),{},{id:o.id})),r}))}),[r]);return{subjects:n,setSubjects:r,resetState:c,addSubject:o,deleteSubject:i,getSubjectById:a,editSubject:s}},$=n(927),K=function(e){var t=e.index,n=e.sessions;return{index:t,sessions:n.filter((function(e){var t=e.shelfLife,n=t.start,r=t.end;return Object($.a)((new Date).getTime(),{start:null!=n?n:0,end:null!=r?r:1e15})})).map((function(e){var n=e.id,r=e.start,c=e.end;return{id:n,start:r,end:c,subjectId:e.subjectId,highlighted:Y(r,c)&&Z(t)}})),highlighted:Z(t)}},Y=function(e,t){var n=new Date,r=n.getHours()+n.getMinutes()/60;return e<=r&&r<=t},Z=function(e){return e===(new Date).getDay()},Q=Object(U.b)({key:"timetablesState",default:{active:"S2",timetables:[T,H]},effects:[W("timetablesState",{parse:function(e){return JSON.parse(e,(function(e,t){return["start","end"].includes(e)&&"string"===typeof t?new Date(t):t}))}})]}),X=function(e){var t=Object(O.useState)(new Date),n=C()(t,2),r=n[0],c=n[1];return Object(O.useEffect)((function(){var t=setInterval((function(){c(new Date)}),e);return function(){return clearInterval(t)}}),[e]),r};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(){var e=Object(U.c)(Q),t=C()(e,2),n=t[0],r=t[1],c=Object(U.d)(Q),o=X(6e4).getMinutes(),i=n.timetables,a=n.active,s=Object(O.useMemo)((function(){return n.timetables.find((function(e){return e.id===n.active}))}),[n.active,n.timetables]),l=Object(O.useMemo)((function(){return s?function(e){var t=e.title,n=e.id,r=e.sessions;return{title:t,id:n,days:Object(N.range)(0,7).map((function(e){return K({index:e,sessions:r.filter((function(t){return t.dayIndex===e}))})}))}}(s):void 0}),[s,o]),u=Object(O.useCallback)((function(e){r((function(t){var n=Object(N.cloneDeep)(t);return n.timetables.push(e),n}))}),[r]),j=Object(O.useCallback)((function(e){r("string"===typeof e?function(t){return te(te({},t),{},{active:e})}:function(t){return te(te({},t),{},{active:e(t.timetables.map((function(e){return e.id})))})})}),[r]),b=Object(O.useCallback)((function(e){r((function(t){var n=Object(N.cloneDeep)(t),r=n.timetables.findIndex((function(e){return e.id===a}));return s&&-1!==r&&(n.timetables[r]=function(e,t){var n=Object(N.cloneDeep)(e);return n.sessions.push(t),n}(s,e)),n}))}),[s,a,r]),d=Object(O.useCallback)((function(e){r((function(t){var n=Object(N.cloneDeep)(t);return n.timetables=n.timetables.filter((function(t){return t.id!==e})),n.active=void 0,n}))}),[r]),f=Object(O.useCallback)((function(e,t){r((function(n){var r=Object(N.cloneDeep)(n);return r.timetables.forEach((function(n){n.id===e&&(n.title=t)})),r}))}),[r]),h=Object(O.useCallback)((function(e){return i.find((function(t){return t.id===e}))}),[i]),p=Object(O.useCallback)((function(e){return null==s?void 0:s.sessions.find((function(t){return t.id===e}))}),[null==s?void 0:s.sessions]),y=Object(O.useCallback)((function(e){return r((function(t){var n=Object(N.cloneDeep)(t),r=n.timetables.findIndex((function(e){return e.id===a}));return s&&-1!==r&&(n.timetables[r]=function(e,t){var n=Object(N.cloneDeep)(e);return n.sessions=n.sessions.filter((function(e){return e.id!==t})),n}(s,e)),n}))}),[s,a,r]),m=Object(O.useCallback)((function(e,t){return r((function(n){var r=Object(N.cloneDeep)(n),c=r.timetables.findIndex((function(e){return e.id===a}));return s&&-1!==c&&(r.timetables[c]=function(e,t,n){var r=Object(N.cloneDeep)(e),c=r.sessions.find((function(e){return e.id===t}));return c&&(c.subjectId=n.subjectId,c.dayIndex=n.dayIndex,c.start=n.start,c.end=n.end,c.shelfLife=n.shelfLife),r}(s,e,t)),r}))}),[s,a,r]);return{resetTimetablesState:c,timetables:i,activeTimetableId:a,activeTimetable:s,activeStaticTimetable:l,addTimetable:u,setActiveTimetableId:j,addSession:b,deleteTimetable:d,editTimetableTitle:f,getTimetableById:h,getSessionById:p,deleteSession:y,editSession:m}},re={general:{theme:"System preference",hourFormat:"12-hour"},timetable:{firstDayIndex:"0",lastDayIndex:"6"}},ce=Object(U.b)({key:"settingsState",default:re,effects:[W("settingsState",{defaultValue:re})]}),oe=function(){var e=Object(U.c)(ce),t=C()(e,2),n=t[0],r=t[1],c=Object(U.d)(ce);return{settings:n,updateSettings:Object(O.useCallback)((function(e){r((function(t){var n=Object(N.cloneDeep)(t);return e(n),n}))}),[r]),resetState:c}},ie=function(){var e=Object(O.useState)(!1),t=C()(e,2),n=t[0],r=t[1],c=Object(O.useState)(),o=C()(c,2),i=o[0],a=o[1];return{event:i,onLayout:Object(O.useCallback)((function(e){a(e.nativeEvent.layout),r(!0)}),[]),isSet:n}},ae=(Object(U.b)({key:"eventsState",default:[{date:new Date(2022,4,9),id:"eventId1",name:"event 1",note:"no notes for you",subjectId:"M12-1",type:"exam"},{date:new Date(2022,4,9),id:"eventId2",name:"event 2",note:"no notes for you",subjectId:"M12-2",type:"exam"},{date:new Date(2022,4,9),id:"eventId3",name:"event 3",note:"no notes for you",subjectId:"M11-1",type:"exam"},{date:new Date(2022,4,10),id:"eventId4",name:"event 4",note:"no notes for you",subjectId:"M13-1",type:"exam"},{date:new Date(2022,4,20),id:"eventId4",name:"event 4",note:"no notes for you",subjectId:"M9",type:"exam"}],effects:[W("eventsState")]}),n(946)),se=n(947),le=n(16),ue=n.n(le),je=n(283),be=n(940),de=n(928),Oe=n(929),fe=n(930),he=n(931),pe=n(932),ye=n(950),me=n(933),ge=n(934),ve=n(935),xe=n(571),we=n(936),Se=n(937),Pe=n(938),De=n(939),Ce={AntDesign:de.a,Entypo:Oe.a,EvilIcons:fe.a,Feather:he.a,FontAwesome:pe.a,FontAwesome5:ye.a,Fontisto:me.a,Foundation:ge.a,Ionicons:ve.a,MaterialCommunityIcons:xe.a,MaterialIcons:we.a,Octicons:Se.a,SimpleLineIcons:Pe.a,Zocial:De.a},Ie=function(e){var t=e.icon,n=e.pack,r=e.color,c=e.size,o=void 0===c?24:c,i=e.style,a=Object(y.b)().colors,s=Ce[n];return Object(g.jsx)(s,{name:t,color:null!=r?r:a.text,size:o,style:i})},ke=n(80),Ee=n(12),Ae=n(78);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e){return"android"===Ee.a.OS?Object(g.jsx)(ke.d,Le({},e)):Object(g.jsx)(Ae.a,Le({activeOpacity:.8},e))},Te=["value","label","style","placeholder","icon","error","valueComponent","contentAlignment","valueStyle","labelStyle"];function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=Object(ke.e)((function(e){var t=e.value,n=e.label,r=e.style,c=e.placeholder,o=e.icon,i=e.error,a=e.valueComponent,s=e.contentAlignment,l=void 0===s?"horizontal":s,d=e.valueStyle,h=e.labelStyle,v=ue()(e,Te),x=Object(y.b)().colors,w="horizontal"===l,S=Object(O.useMemo)((function(){return f.a.create({container:{paddingVertical:j,paddingHorizontal:u,flexDirection:"row",alignItems:"center",flexShrink:1},iconContainer:{marginRight:u,width:24,aspectRatio:1},contentContainer:{flexDirection:w?"row":"column",flex:1},labelContainer:{width:w?60:void 0,marginRight:u},label:{fontSize:b.regular,lineHeight:b.regular+2},value:{flexShrink:1,fontSize:b.regular,lineHeight:b.regular+2,color:x.accent}})}),[x.accent,w]);return Object(g.jsxs)(ze,Ve(Ve({style:[S.container,r]},v),{},{children:[Object(g.jsx)(p.a,{style:S.iconContainer,children:o}),Object(g.jsxs)(p.a,{style:S.contentContainer,children:[n&&Object(g.jsx)(p.a,{style:S.labelContainer,children:Object(g.jsx)(m.a,{style:[S.label,h],numberOfLines:1,children:n})}),Object(g.jsx)(p.a,{children:a||(t?Object(g.jsx)(m.a,{style:[S.value,d],children:t}):w?Object(g.jsx)(m.a,{style:[S.value,{color:x.placeholder}],children:c}):null)})]}),Object(g.jsx)(p.a,{children:i&&Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"close-circle",color:x.error})})]}))}),{flex:void 0}),Be=["value","label","style","placeholder","onChange"];function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=function(e){var t=e.value,n=e.label,r=e.style,c=e.placeholder,o=void 0===c?"Pick a date":c,i=e.onChange,a=ue()(e,Be),s=Object(O.useState)(!1),l=C()(s,2),u=l[0],j=l[1],b=void 0!=t?Object(be.a)(t):void 0;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Re,Ne({value:b&&Object(ae.a)(b,"yyyy / MM / dd"),onPress:function(){return j(!0)},icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"calendar-range"}),placeholder:o,label:n,style:r},a)),u&&Object(g.jsx)(je.a,{value:null!=b?b:new Date,mode:"date",onChange:function(e,t){j(!1),t&&(null==i||i(t.toISOString()))},textColor:"red"})]})},Ue=n(52),Ge=n(257),_e=n(551),qe=n(550),Je=["style","placeholder","value","onChange","maxValue","minValue","title"];function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ze=function(e){var t,n=e.style,r=e.placeholder,c=void 0===r?"Pick a day":r,o=e.value,i=e.onChange,a=e.maxValue,s=void 0===a?"6":a,l=e.minValue,u=void 0===l?"0":l,j=e.title,b=ue()(e,Je),d=Object(O.useState)(!1),f=C()(d,2),h=f[0],p=f[1],m=function(){return p(!1)},v=Object(y.b)().colors;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Re,Ke({value:void 0!=o?Ye[parseInt(o)]:void 0,onPress:function(){return p(!0)},icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"calendar"}),placeholder:c,style:n},b)),Object(g.jsx)(Ge.a,{children:Object(g.jsxs)(_e.a,{visible:h,onDismiss:m,style:Qe.dialog,children:[Object(g.jsx)(_e.a.Title,{children:null!=j?j:"Pick a day"}),Object(g.jsx)(_e.a.ScrollArea,{style:{paddingHorizontal:0},children:Object(g.jsx)(Ue.a,{children:Object(g.jsx)(qe.a.Group,{value:null!=(t=String(o))?t:"",onValueChange:function(e){null==i||i(e),m()},children:Ye.map((function(e,t){var n=parseInt(u)>t||parseInt(s)<t;return Object(g.jsx)(qe.a.Item,{label:e,value:String(t),disabled:n,labelStyle:{textAlign:void 0,color:n?v.disabled:v.text},style:{backgroundColor:void 0,marginHorizontal:0}},t)}))})})})]})})]})},Qe=f.a.create({dialog:{marginVertical:100}}),Xe=n(74);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=function(e){return Object(g.jsx)(Xe.a,tt(tt({},e),{},{iconSize:24,IconComponent:we.a,color:i.primary}))},rt=(de.a,Oe.a,fe.a,he.a,pe.a,ye.a,me.a,ge.a,ve.a,xe.a,we.a,Se.a,Pe.a,De.a,f.a.create({container:{justifyContent:"center",alignItems:"center"}}),["style"]);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(ke.e)((function(e){var t=e.style,n=ue()(e,rt);return Object(g.jsx)(ke.d,{style:[it.container,t],onPress:n.onPress,children:Object(g.jsxs)(p.a,{style:it.innerContainer,pointerEvents:"none",children:[Object(g.jsx)(m.a,{style:void 0,children:n.label}),Object(g.jsx)(qe.a.Item,ot(ot({},n),{},{style:it.radioItem,onPress:void 0,position:"leading"}))]})})}),{flex:0});var it=f.a.create({container:{padding:24,flexShrink:1},innerContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"red"},radioItem:{padding:0,margin:0,backgroundColor:"blue"}}),at=n(621),st=function(e){var t=e.children,n=e.optimize,r=void 0!==n&&n,c=e.scrollable,o=void 0!==c&&c,i=e.style,a=o?Ue.a:p.a;return Object(g.jsx)(a,{style:[{flex:1},i],children:r?Object(g.jsx)(at.OptimizedHeavyScreen,{children:t}):t})},lt=function(e){var t=e.height,n=void 0===t?40:t,r=e.topDivider,c=e.bottomDivider;return Object(g.jsxs)(g.Fragment,{children:[r&&Object(g.jsx)(h.a,{}),Object(g.jsx)(p.a,{style:{alignSelf:"stretch",height:n}}),c&&Object(g.jsx)(h.a,{})]})},ut=n(271),jt=n(129);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot=dt(dt({},jt.a),{},{colors:dt(dt({},jt.a.colors),{},{primary:i.primary,accent:i.accent,text:i.text,placeholder:i.faintText,error:i.error}),fonts:{regular:{fontFamily:"Poppins_400Regular",fontWeight:"normal"},light:{fontFamily:"Poppins_200ExtraLight",fontWeight:"normal"},medium:{fontFamily:"Poppins_500Medium",fontWeight:"normal"},thin:{fontFamily:"Poppins_200Extra",fontWeight:"normal"}}}),ft=dt(dt({},ut.a),{},{colors:dt(dt({},ut.a.colors),{},{primary:i.primary,text:i.primary,background:"white",border:"transparent"})}),ht=n(176),pt=["style","icon","error"];function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt="web"===Ee.a.OS?{outlineStyle:"none"}:{},vt=function(e){var t=e.style,n=e.icon,r=e.error,c=ue()(e,pt),o=Object(y.b)().colors;return Object(g.jsxs)(p.a,{style:[xt.container,t],children:[n&&Object(g.jsx)(Ie,{style:[xt.icon,{paddingRight:u}],pack:"MaterialIcons",icon:n}),Object(g.jsx)(ht.a,mt({style:[xt.textInput,gt],placeholderTextColor:o.placeholder},c)),r&&Object(g.jsx)(Ie,{style:[xt.icon,{paddingLeft:u}],pack:"MaterialCommunityIcons",icon:"close-circle",color:o.error})]})},xt=f.a.create({container:{flexDirection:"row",alignItems:"center",paddingHorizontal:u},textInput:{flex:1,fontSize:b.regular,fontFamily:Ot.fonts.regular.fontFamily,height:"100%"},icon:{paddingVertical:j}}),wt=["value","label","style","placeholder","onChange"];function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt=function(e){var t=e.value,n=e.label,r=e.style,c=e.placeholder,o=void 0===c?"Pick a time":c,i=e.onChange,a=ue()(e,wt),s=Object(O.useState)(!1),l=C()(s,2),u=l[0],j=l[1],b=void 0!=t?Object(be.a)(t):void 0;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Re,Pt({value:b&&Object(ae.a)(b,"h:m a"),onPress:function(){return j(!0)},icon:Object(g.jsx)(Ie,{pack:"MaterialIcons",icon:"access-time"}),placeholder:o,label:n,style:r},a)),u&&Object(g.jsx)(je.a,{value:null!=b?b:new Date,mode:"time",onChange:function(e,t){j(!1),t&&(null==i||i(t.toISOString()))},textColor:"red",timeZoneOffsetInMinutes:0})]})},Ct=n(390),It=function(e){var t=e.style,n=e.children,r=e.onConfirm,c=e.onDismiss,o=e.visible,a=void 0!==o&&o,s=e.deleteButton,l=void 0!==s&&s,u=e.title;return Object(g.jsx)(Ge.a,{children:Object(g.jsxs)(_e.a,{style:[kt.dialog,t],visible:a,onDismiss:c,children:[Object(g.jsx)(_e.a.Title,{children:u}),Object(g.jsx)(_e.a.Content,{children:n}),Object(g.jsxs)(_e.a.Actions,{style:kt.actions,children:[Object(g.jsx)(Ct.a,{color:l?i.error:void 0,onPress:function(){null==r||r(),null==c||c()},children:l?"Delete":"Confirm"}),Object(g.jsx)(Ct.a,{onPress:c,children:"Cancel"})]})]})})},kt=f.a.create({dialog:{alignSelf:"center"},actions:{justifyContent:"space-between"}}),Et=["onChange","children","title"],At=["labelStyle"];function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=function(e){var t=e.onChange,n=e.children,r=e.title,c=ue()(e,Et),o=c.value,i=Object(O.useState)(!1),a=C()(i,2),s=a[0],l=a[1],u=function(){return l(!1)};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Re,Lt({onPress:function(){return l(!0)}},c)),Object(g.jsx)(Ge.a,{children:Object(g.jsxs)(_e.a,{visible:s,onDismiss:u,style:Ht.dialog,children:[r&&Object(g.jsx)(_e.a.Title,{children:r}),Object(g.jsx)(_e.a.ScrollArea,{style:{paddingHorizontal:0},children:Object(g.jsx)(Ue.a,{children:Object(g.jsx)(qe.a.Group,{value:null!=o?o:"",onValueChange:function(e){null==t||t(e),u()},children:n})})})]})})]})};zt.Item=Object(y.c)((function(e){var t,n,r=e.labelStyle,c=ue()(e,At),o=c.theme,i=c.disabled;return Object(g.jsx)(qe.a.Item,Lt({labelStyle:[{color:i?null==o||null==(t=o.colors)?void 0:t.disabled:null==o||null==(n=o.colors)?void 0:n.text},r]},c))}));var Tt=zt,Ht=f.a.create({dialog:{marginVertical:100}}),Vt=["style","icon","title"];function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft=f.a.create({container:{paddingVertical:j,paddingHorizontal:u,flexDirection:"row",alignItems:"center",flexShrink:1},iconContainer:{marginRight:u,width:24,aspectRatio:1},contentContainer:{flex:1},title:{fontSize:b.regular,lineHeight:b.regular+2}}),Nt=Object(ke.e)((function(e){var t=e.style,n=e.icon,r=e.title,c=ue()(e,Vt);return Object(g.jsxs)(ze,Bt(Bt({style:[Ft.container,t]},c),{},{children:[Object(g.jsx)(p.a,{style:Ft.iconContainer,children:n}),Object(g.jsx)(p.a,{style:Ft.contentContainer,children:Object(g.jsx)(m.a,{style:Ft.title,children:r})})]}))}),{flex:void 0}),Wt=function(){return Object(g.jsx)(st,{scrollable:!0,children:Object(g.jsx)(m.a,{children:"AgendaScreen"})})},Ut=n(646),Gt=function(){var e=Object(O.useState)(new Date),t=C()(e,2),n=t[0],r=t[1],o=c()({},""+Object(ae.a)(n,"yyyy-MM-dd"),{selected:!0});return console.timeEnd("onDayPress"),Object(g.jsx)(st,{scrollable:!0,children:Object(g.jsx)(Ut.a,{horizontal:!0,pagingEnabled:!0,markingType:"multi-dot",markedDates:o,onDayPress:function(e){console.time("onDayPress"),r(new Date(e.dateString))}})})},_t=function(e){var t=e.style,n=e.size,r=void 0===n?60:n;return Object(g.jsx)(p.a,{style:[{width:r,height:0},t]})},qt=n(627),Jt=n.n(qt),$t=Object(ke.e)((function(e){var t=e.style,n=e.color,r=e.size,c=void 0===r?60:r,o=e.onPress,i=e.active,a="#"+Jt()(n).darken(20).toHex();return Object(g.jsx)(p.a,{style:[Kt.container,{backgroundColor:n,width:c,borderColor:a,borderWidth:i?2:0},t],children:n&&Object(g.jsx)(ze,{onPress:o,style:{width:c,aspectRatio:1}})})}),{flex:void 0}),Kt=f.a.create({container:{aspectRatio:1,borderRadius:30,overflow:"hidden",alignItems:"stretch",borderColor:o.a.grey400}}),Yt=function(e){var t=e.style,n=e.colors,r=e.itemSize,c=void 0===r?60:r,o=e.spacing,i=void 0===o?s:o,a=e.activeColorIndex,l=e.onActiveColorChange,u=Object(O.useState)(0),j=C()(u,2),b=j[0],d=j[1],f=0!=b?n.length%(b%(c+2*i)):n.length;return Object(g.jsxs)(p.a,{style:[Zt.container,t],onLayout:0==b?function(e){return d(e.nativeEvent.layout.width)}:void 0,children:[n.map((function(e,t){return Object(g.jsx)($t,{color:e,active:void 0!=a&&e===n[a],size:c,onPress:function(){return null==l?void 0:l(t)},style:{margin:i}},t)})),Object(N.range)(f).map((function(e){return Object(g.jsx)(_t,{size:c,style:{marginHorizontal:i}},e+n.length)}))]})},Zt=f.a.create({container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}}),Qt=Object(ke.e)((function(e){var t=e.style,n=e.colors,r=void 0===n?[]:n,c=e.activeColorIndex,o=e.onActiveColorChange;return Object(g.jsx)(p.a,{style:[Xt.container,t],children:Object(N.range)(r.length).map((function(e){var t=r[e],n=void 0!=c&&t===r[c]?56:50;return Object(g.jsx)(p.a,{style:{flex:1,backgroundColor:t,height:n},children:Object(g.jsx)(ze,{onPress:function(){return null==o?void 0:o(e)},style:{height:n}})},e)}))})}),{flex:void 0}),Xt=f.a.create({container:{justifyContent:"center",alignItems:"center",flexDirection:"row",borderRadius:10,overflow:"hidden",height:55}}),en=["style","placeholder","onChange","colors","defaultValue"];function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rn=Object(N.sortBy)(Object(N.uniq)(Object.keys(o.a).map((function(e){return e.replace(/[0-9]/g,"")})).filter((function(e){return!e.endsWith("A")&&!["black","white","transparent"].includes(e)})))).map((function(e){return{main:o.a[e+"500"],variants:[o.a[e+"100"],o.a[e+"300"],o.a[e+"500"],o.a[e+"700"],o.a[e+"900"]]}})),cn=function(e){var t,n=e.style,r=e.placeholder,c=void 0===r?"Pick a color":r,o=e.onChange,i=e.colors,s=void 0===i?rn:i,l=e.defaultValue,j=ue()(e,en),b=Object(O.useState)(!1),d=C()(b,2),f=d[0],y=d[1],m=l?s.findIndex((function(e){return e.variants.includes(l)})):void 0;-1===m&&(m=void 0);var v=m&&(null==(t=s[m])?void 0:t.variants.findIndex((function(e){return e===l})));-1===v&&(v=void 0);var x=Object(O.useState)(m),w=C()(x,2),S=w[0],P=w[1],D=Object(O.useState)(v),I=C()(D,2),k=I[0],E=I[1],A=void 0!=S&&void 0!=k?s[S].variants[k]:void 0,M=Object(O.useState)({activeColor:null!=A?A:l,activeGridColorIndex:S,activeVariantColorIndex:k}),L=C()(M,2),z=L[0],T=L[1],H=function(){return y(!1)};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Re,nn({valueComponent:z.activeColor&&Object(g.jsx)(p.a,{style:[on.value,{backgroundColor:z.activeColor}]}),onPress:function(){P(z.activeGridColorIndex),E(z.activeVariantColorIndex),y(!0)},icon:Object(g.jsx)(Ie,{pack:"MaterialIcons",icon:"colorize"}),placeholder:c,style:n},j)),Object(g.jsx)(Ge.a,{children:Object(g.jsxs)(_e.a,{visible:f,onDismiss:H,style:on.dialog,children:[Object(g.jsx)(_e.a.Title,{children:"Pick a color"}),Object(g.jsx)(_e.a.ScrollArea,{style:{paddingHorizontal:0},children:Object(g.jsxs)(ke.b,{style:{paddingHorizontal:u},children:[Object(g.jsx)(Yt,{style:on.grid,itemSize:50,spacing:a,colors:s.map((function(e){return e.main})),activeColorIndex:S,onActiveColorChange:P}),Object(g.jsx)(h.a,{}),Object(g.jsx)(Qt,{style:on.variants,colors:void 0!=S?s[S].variants:void 0,activeColorIndex:k,onActiveColorChange:E})]})}),Object(g.jsxs)(_e.a.Actions,{style:on.action,children:[Object(g.jsx)(Ct.a,{contentStyle:on.actionButton,onPress:function(){A&&(null==o||o(A),T({activeColor:A,activeGridColorIndex:S,activeVariantColorIndex:k})),H()},children:"Ok"}),Object(g.jsx)(Ct.a,{contentStyle:on.actionButton,onPress:H,children:"Cancel"})]})]})})]})},on=f.a.create({dialog:{marginVertical:100},action:{justifyContent:"space-between"},actionButton:{paddingHorizontal:u},grid:{marginVertical:u},variants:{marginVertical:u},value:{height:24,width:96,borderRadius:12}}),an=n(281),sn=n(83),ln=Object(O.forwardRef)((function(e,t){var n=e.initialValues,r=e.onSubmit,c=sn.a({name:sn.b().required().matches(/(?!\s*$)/),color:sn.b().required().matches(/^#[0-9a-fA-f]{6}$/g),teacher:sn.b().optional().matches(/(?!\s*$)/),room:sn.b().optional().matches(/(?!\s*$)/)});return Object(g.jsx)(an.a,{initialValues:null!=n?n:{name:"",color:"",room:"",teacher:""},validationSchema:c,onSubmit:r,validateOnChange:!1,validateOnBlur:!1,innerRef:t,children:function(e){var t=e.values,r=e.errors,c=e.handleChange;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{}),Object(g.jsx)(vt,{value:t.name,onChangeText:c("name"),placeholder:"Add a name",icon:"title",error:!!r.name}),Object(g.jsx)(h.a,{}),Object(g.jsx)(cn,{defaultValue:null==n?void 0:n.color,error:!!r.color,onChange:c("color"),placeholder:"Pick a color"}),Object(g.jsx)(h.a,{}),Object(g.jsx)(vt,{value:t.room,onChangeText:c("room"),placeholder:"Add a room",icon:"room",error:!!r.room}),Object(g.jsx)(h.a,{}),Object(g.jsx)(vt,{value:t.teacher,onChangeText:c("teacher"),placeholder:"Add a teacher",icon:"person",error:!!r.teacher}),Object(g.jsx)(h.a,{})]})}})})),un=n(253),jn=["style","placeholder","value","subjects","onChange"];function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var On=function(e){var t=e.style,n=e.placeholder,r=void 0===n?"Pick a subject":n,c=e.value,o=e.subjects,i=e.onChange,a=ue()(e,jn),s=Object(O.useState)(!1),l=C()(s,2),u=l[0],j=l[1],b=Object(un.a)().height,d=function(){return j(!1)},f=o.find((function(e){return e.id===c}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Re,dn({value:null==f?void 0:f.name,onPress:function(){return j(!0)},icon:Object(g.jsx)(Ie,{pack:"MaterialIcons",icon:"school"}),placeholder:r,style:t},a)),Object(g.jsx)(Ge.a,{children:Object(g.jsxs)(_e.a,{visible:u,onDismiss:d,style:[fn.dialog,{maxHeight:"web"===Ee.a.OS?b-200:void 0}],children:[Object(g.jsx)(_e.a.Title,{children:"Pick a subject"}),Object(g.jsx)(_e.a.ScrollArea,{style:{maxHeight:"100%",paddingHorizontal:0},children:Object(g.jsx)(Ue.a,{style:{},children:Object(g.jsx)(qe.a.Group,{value:null!=c?c:"",onValueChange:function(e){null==i||i(e),d()},children:o.map((function(e,t){var n=e.id,r=e.name;return Object(g.jsx)(qe.a.Item,{label:r,value:n,labelStyle:{textAlign:void 0},style:{backgroundColor:void 0,marginHorizontal:0}},t)}))})})})]})})]})},fn=f.a.create({dialog:{marginVertical:100,alignSelf:"center"}}),hn=n(90),pn=n(552),yn=function(e){var t=e.subject,n=t.name,r=t.color,c=e.style,o=e.onPress;return Object(g.jsx)(p.a,{style:[mn.container,c],children:Object(g.jsx)(pn.a,{elevation:4,style:mn.card,children:Object(g.jsx)(pn.a.Content,{style:mn.card,children:Object(g.jsxs)(ze,{style:mn.touchable,onPress:o,children:[Object(g.jsx)(p.a,{style:[mn.color,{backgroundColor:r}]}),Object(g.jsx)(p.a,{style:mn.body,children:Object(g.jsx)(m.a,{style:mn.text,numberOfLines:2,children:n})})]})})})})},mn=f.a.create({container:{flex:1,alignItems:"stretch"},card:{paddingHorizontal:0,paddingVertical:0,overflow:"hidden"},touchable:{flexDirection:"row",alignItems:"center",padding:u},color:{width:40,aspectRatio:1,borderRadius:20,marginRight:j},body:{flex:1},text:{}}),gn=function(e){var t=e.subjects,n=e.onItemPress,r=Object(O.useState)(I.a.get("window").width),c=C()(r,2),o=c[0],i=c[1],a=Math.round(o/400)||1;return Object(g.jsx)(p.a,{style:vn.container,children:Object(g.jsx)(hn.a,{style:vn.list,numColumns:a,data:t,renderItem:function(e){var t=e.item;return Object(g.jsx)(yn,{subject:t,style:[vn.item,{flex:1/a}],onPress:function(){return null==n?void 0:n(t.id)}})},onLayout:function(e){var t=e.nativeEvent.layout.width;return t&&i(t)}},a)})},vn=f.a.create({container:{flex:1},item:{margin:a},list:{}}),xn=function(e){var t,n=e.session,r=n.start,c=n.end,i=n.subjectId,a=n.id,s=e.subjects,l=e.style,u=e.highlighted,j=e.onPress,b=null!=(t=s.find((function(e){return e.id===i})))?t:{name:"",color:o.a.grey600},d=b.name,O=b.color;return Object(g.jsx)(p.a,{style:[wn.container,{height:(c-r)/24*100+"%"},l],children:Object(g.jsx)(ze,{style:[wn.touchable,{backgroundColor:O},u?wn.highlighted:void 0],onPress:function(){return null==j?void 0:j(a)},children:Object(g.jsx)(p.a,{style:wn.inner,children:Object(g.jsx)(m.a,{style:wn.text,children:d})})})})},wn=f.a.create({container:{alignItems:"stretch",padding:2},inner:{flex:1},touchable:{height:"100%",padding:6,borderRadius:4},text:{color:"white",fontSize:14},highlighted:{borderWidth:2,borderColor:i.highlight,shadowColor:i.highlight,shadowOpacity:1,shadowRadius:16,elevation:16}}),Sn=function(e){var t=e.gap;return Object(g.jsx)(p.a,{style:{height:t/24*100+"%"}})},Pn=function(e){var t=e.style,n=e.day,r=e.subjects,c=e.onPress;return n.sessions.sort((function(e,t){return e.start-t.start})),Object(g.jsx)(p.a,{style:[Dn.container,t],children:n.sessions.map((function(e,t,n){var o,i=(null==(o=n[t+1])?void 0:o.start)-e.end;return Object(g.jsxs)(O.Fragment,{children:[0==t&&0!=e.start&&Object(g.jsx)(Sn,{gap:e.start}),Object(g.jsx)(xn,{session:e,subjects:r,highlighted:e.highlighted,onPress:c}),i>0&&Object(g.jsx)(Sn,{gap:i})]},t)}))})},Dn=f.a.create({container:{flex:1,justifyContent:"flex-start",alignItems:"stretch"}}),Cn=function(e){var t=e.columns,n=e.rows,r=e.halves,c=void 0!==r&&r,o=e.style;return Object(g.jsxs)(p.a,{style:[In.container,o],children:[Object(g.jsx)(p.a,{style:[In.line,In.columns],children:Object(N.range)(t-1).map((function(e){return Object(g.jsx)(p.a,{style:In.columnBorder},e)}))}),Object(g.jsx)(p.a,{style:[In.line,In.rows],children:Object(N.range)((c?2*n:n)-1).map((function(e){return Object(g.jsx)(p.a,{style:[In.rowBorder,e%2||!c?void 0:In.faint]},e)}))})]})},In=f.a.create({container:{flex:1,width:"100%"},line:{position:"absolute",top:0,right:0,bottom:0,left:0,justifyContent:"space-evenly",alignItems:"center"},columns:{flexDirection:"row",paddingHorizontal:.5},columnBorder:{width:1,height:"100%",backgroundColor:o.a.grey200},rows:{flexDirection:"column",paddingVertical:.5},rowBorder:{height:1,width:"100%",backgroundColor:o.a.grey200},faint:{backgroundColor:o.a.grey50}}),kn=["days","subjects","onPress","start","end"];function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn=function(e){var t=e.days,n=e.subjects,r=e.onPress,c=e.start,o=void 0===c?0:c,i=e.end,a=void 0===i?6:i,s=ue()(e,kn);return Object(g.jsxs)(p.a,An(An({style:Ln.container},s),{},{children:[Object(g.jsx)(Cn,{style:Ln.float,columns:a-o+1,rows:24,halves:!0}),Object(g.jsx)(p.a,{style:[Ln.float,Ln.columnsContainer],children:null==t?void 0:t.map((function(e,t){return Object(g.jsx)(O.Fragment,{children:o<=t&&t<=a&&Object(g.jsx)(Pn,{day:e,subjects:n,onPress:r})},t)}))})]}))},Ln=f.a.create({container:{flex:1},float:{position:"absolute",top:0,right:0,bottom:0,left:0},columnsContainer:{flexDirection:"row"}}),zn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Tn=function(e){var t=e.start,n=e.end,r=e.style,c=e.highlightedDay;return Object(g.jsx)(p.a,{style:[Hn.container,r],children:zn.map((function(e,r){return r>=t&&r<=n&&Object(g.jsx)(p.a,{style:Hn.element,children:Object(g.jsx)(m.a,{style:[Hn.text,r===c?Hn.highlighted:void 0],children:e})},e)}))})},Hn=f.a.create({container:{flexDirection:"row",justifyContent:"space-evenly",borderBottomWidth:1,borderBottomColor:o.a.grey200},element:{flex:1,alignItems:"center",paddingVertical:4},text:{fontSize:12},highlighted:{color:i.highlight,fontWeight:"bold"}}),Vn=["start","end","AmPm","style"];function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn=function(e){var t=e.start,n=e.end,r=e.AmPm,c=void 0!==r&&r,o=e.style,i=ue()(e,Vn),s=Object(y.b)().fonts,l=Object(O.useMemo)((function(){return f.a.create({container:{paddingVertical:10,paddingHorizontal:a,justifyContent:"space-evenly",alignItems:"stretch"},cell:{height:20,justifyContent:"center",alignItems:"center"},text:Bn({fontSize:b.tiny,lineHeight:b.tiny+2},s.thin),AmPm:{height:c?void 0:0,overflow:c?void 0:"hidden"}})}),[c,s.thin]);return Object(g.jsx)(p.a,Bn(Bn({style:[l.container,o]},i),{},{children:Object(N.range)(t,n+1).map((function(e){return Object(g.jsxs)(p.a,{style:l.cell,children:[Object(g.jsx)(m.a,{style:l.text,children:Object(ae.a)(new Date(0,0,0,e),c?"h":"H").toLowerCase()}),Object(g.jsx)(m.a,{style:[l.text,l.AmPm],children:Object(ae.a)(new Date(0,0,0,e),"a").toLowerCase()})]},e)}))}))},Nn=function(e){var t=e.style,n=X(6e4),r=(n.getHours()+n.getMinutes()/60)/24*100,c=Object(y.b)().colors,o=Object(O.useMemo)((function(){return f.a.create({container:{flex:1},indicator:{backgroundColor:c.accent,position:"absolute",top:r+"%",width:"100%",height:2}})}),[c.accent,r]);return Object(g.jsx)(p.a,{style:[o.container,t],pointerEvents:"none",children:Object(g.jsx)(p.a,{style:o.indicator})})},Wn=function(e){var t,n,r,c,o,i,a,s,l,u=e.timetable,j=e.subjects,b=e.onSessionPress,d=oe().settings,O=parseInt(d.timetable.firstDayIndex),f=parseInt(d.timetable.lastDayIndex),h=E((function(e){return{dynamicHeight:{height:e.height>300?2*e.height:600}}})).dynamicHeight,y=null==u||null==(t=u.days.find((function(e){return e.highlighted})))?void 0:t.index,m=ie(),v=ie(),x=ie();return Object(g.jsxs)(p.a,{style:Un.container,onLayout:x.onLayout,children:[Object(g.jsx)(Tn,{start:O,end:f,style:{paddingLeft:null!=(n=null==(r=m.event)?void 0:r.width)?n:20,paddingRight:(null!=(c=null==(o=x.event)?void 0:o.width)?c:0)-((null!=(i=null==(a=m.event)?void 0:a.width)?i:0)+(null!=(s=null==(l=v.event)?void 0:l.width)?s:0))},highlightedDay:y}),Object(g.jsxs)(Ue.a,{style:Un.scroll,contentContainerStyle:h,children:[Object(g.jsxs)(p.a,{style:[Un.bodyContainer,Un.float],children:[Object(g.jsx)(Fn,{start:1,end:23,AmPm:"12-hour"===d.general.hourFormat,onLayout:m.onLayout}),Object(g.jsx)(Mn,{days:null==u?void 0:u.days,subjects:j,onPress:b,start:O,end:f,onLayout:v.onLayout})]}),Object(g.jsx)(Nn,{style:Un.float})]})]})},Un=f.a.create({container:{flex:1},scroll:{flex:1},bodyContainer:{flexDirection:"row"},float:{position:"absolute",top:0,right:0,bottom:0,left:0}}),Gn=n(553),_n=function(e){var t=e.style,n=e.onDelete,r=e.onEdit,c=e.onSelect,o=e.title,i=e.selected;return Object(g.jsxs)(p.a,{style:[qn.container,t],children:[Object(g.jsx)(qe.a,{value:"",onPress:c,status:i?"checked":"unchecked"}),Object(g.jsx)(m.a,{style:qn.title,numberOfLines:2,children:o}),Object(g.jsx)(p.a,{style:{flex:1}}),Object(g.jsx)(Gn.a,{icon:"edit",onPress:r}),Object(g.jsx)(Gn.a,{icon:"delete-outline",onPress:n})]})},qn=f.a.create({container:{padding:u,flexDirection:"row",alignItems:"center"},title:{fontSize:b.regular,marginHorizontal:u,flexShrink:1}}),Jn=function(e){var t=e.style,n=e.activeTimetableId,r=e.timetables,c=e.onSelect,o=e.onEdit,i=e.onDelete;return Object(g.jsx)(p.a,{style:[$n.container,t],children:null==r?void 0:r.map((function(e,t){return Object(g.jsx)(_n,{title:e.title,selected:n===e.id,onSelect:function(){return null==c?void 0:c(e.id)},onEdit:function(){return null==o?void 0:o(e.id)},onDelete:function(){return null==i?void 0:i(e.id)}},t)}))})},$n=f.a.create({container:{alignItems:"stretch"}}),Kn=function(e){var t=e.style,n=e.onConfirm,r=e.onDismiss,c=e.visible,o=void 0!==c&&c,i=e.defaultValue,a=e.mode,s=void 0===a?"new":a,l=Object(O.useState)(null!=i?i:""),u=C()(l,2),j=u[0],b=u[1];return Object(g.jsx)(Ge.a,{children:Object(g.jsxs)(_e.a,{style:t,visible:o,onDismiss:r,children:[Object(g.jsx)(_e.a.Title,{children:"new"===s?"New timetable":"Edit timetable"}),Object(g.jsxs)(_e.a.Content,{children:[Object(g.jsx)(h.a,{}),Object(g.jsx)(vt,{icon:"title",placeholder:"Title",value:j,onChangeText:b}),Object(g.jsx)(h.a,{})]}),Object(g.jsxs)(_e.a.Actions,{style:Yn.actions,children:[Object(g.jsx)(Ct.a,{onPress:function(){j&&(null==n||n(j)),null==r||r()},children:"new"===s?"Add":"Edit"}),Object(g.jsx)(Ct.a,{onPress:r,children:"Cancel"})]})]})})},Yn=f.a.create({actions:{justifyContent:"space-between"}}),Zn=n(941),Qn=n(942),Xn=n(945),er=function(e){var t=e.style,n=e.visible,r=void 0!==n&&n,c=e.session,o=e.subject,i=e.onDismiss,a=e.onDelete,s=e.onEdit,l=Object(y.b)().colors;if(!c)return null;var u=new Date(0,0,0,0,Object(Zn.a)(c.start)),j=new Date(0,0,0,0,Object(Zn.a)(c.end)),b=function(e){return Object(ae.a)(e,"h:mm a").toLowerCase()};return Object(g.jsx)(Ge.a,{children:Object(g.jsxs)(_e.a,{style:t,visible:r,onDismiss:i,children:[Object(g.jsx)(_e.a.Title,{children:Object(g.jsx)(m.a,{children:null==o?void 0:o.name})}),Object(g.jsxs)(_e.a.Content,{children:[Object(g.jsx)(m.a,{children:Object(ae.a)(new Date(0,0,c.dayIndex),"EEEE")}),Object(g.jsxs)(m.a,{children:["from ",Object(g.jsx)(m.a,{style:tr.coloredText,children:b(u)})," to"," ",Object(g.jsx)(m.a,{style:tr.coloredText,children:b(j)})]}),Object(g.jsx)(m.a,{children:Object(Qn.a)(Object(Xn.a)({start:u,end:j}))+" long"})]}),Object(g.jsxs)(_e.a.Actions,{style:tr.actions,children:[Object(g.jsxs)(p.a,{style:tr.subActions,children:[Object(g.jsx)(Gn.a,{icon:"delete",color:l.error,onPress:function(){null==i||i(),null==a||a()}}),Object(g.jsx)(Gn.a,{icon:"edit",color:l.primary,onPress:function(){null==i||i(),null==s||s()}})]}),Object(g.jsx)(Ct.a,{onPress:i,children:"Close"})]})]})})},tr=f.a.create({actions:{justifyContent:"space-between",alignItems:"center"},subActions:{flexDirection:"row",alignItems:"center"},coloredText:{color:Ot.colors.accent}}),nr=n(135);function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var cr=function(e){var t,n,r=e.navigation,o=r.setOptions,i=r.goBack,a=e.route.params,s=a.action,l=a.sessionId,u=ne(),j=u.getSessionById,b=u.editSession,d="edit"===s&&l?j(l):void 0,f=ne().addSession,p=J().subjects,y=Object(O.useCallback)((function(e){var t=e.subjectId,n=e.dayIndex,r=e.start,o=e.end,a=e.shelfLifeStart,u=e.shelfLifeEnd;if(void 0!=n&&void 0!=t&&void 0!=r&&void 0!=o){var j=Object(be.a)(r),d=Object(be.a)(o),O={dayIndex:parseInt(n),subjectId:t,start:j.getHours()+j.getMinutes()/60,end:d.getHours()+d.getMinutes()/60,shelfLife:{start:a?Object(be.a)(a):null,end:u?Object(be.a)(u):null}};"edit"===s&&l?b(l,O):f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:M.a.v4()},O))}i()}),[s,f,b,i,l]),m=Object(O.useRef)(null);Object(O.useEffect)((function(){o({headerRight:function(){var e;return Object(g.jsx)(Xe.b,{HeaderButtonComponent:nt,children:Object(g.jsx)(Xe.c,{title:"Add new session",iconName:"done",onPress:null==(e=m.current)?void 0:e.handleSubmit})})}})}),[o]);var v=sn.a().shape({subjectId:sn.b().required(),dayIndex:sn.b().required(),start:sn.b().when(["end"],(function(e){return sn.b().test((function(t){return t&&e&&1===Object(nr.a)(Object(be.a)(e),Object(be.a)(t))||t&&!e}))})),end:sn.b().required().when(["start"],(function(e){return sn.b().test((function(t){return e&&t&&1===Object(nr.a)(Object(be.a)(t),Object(be.a)(e))||!e&&t}))})),shelfLifeStart:sn.b().when(["shelfLifeEnd"],(function(e){return sn.b().test((function(t){return t&&e&&1===Object(nr.a)(Object(be.a)(e),Object(be.a)(t))||!e}))})),shelfLifeEnd:sn.b().when(["shelfLifeStart"],(function(e){return sn.b().test((function(t){return e&&t&&1===Object(nr.a)(Object(be.a)(t),Object(be.a)(e))||!e}))}))},[["start","end"],["shelfLifeStart","shelfLifeEnd"]]),x=function(e){return new Date(0,0,0,e,Object(Zn.a)(e-Math.floor(e))).toISOString()},w=void 0!=d?{subjectId:d.subjectId,dayIndex:d.dayIndex.toString(),start:x(d.start),end:x(d.end),shelfLifeStart:null==(t=d.shelfLife.start)?void 0:t.toISOString(),shelfLifeEnd:null==(n=d.shelfLife.end)?void 0:n.toISOString()}:{};return Object(g.jsx)(st,{scrollable:!0,children:Object(g.jsx)(an.a,{initialValues:w,validationSchema:v,onSubmit:y,validateOnBlur:!1,validateOnChange:!1,innerRef:m,children:function(e){var t=e.values,n=e.errors,r=e.handleChange;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{}),Object(g.jsx)(On,{subjects:p,onChange:r("subjectId"),value:t.subjectId,error:!!n.subjectId}),Object(g.jsx)(lt,{topDivider:!0,bottomDivider:!0}),Object(g.jsx)(Ze,{value:t.dayIndex,onChange:r("dayIndex"),error:!!n.dayIndex}),Object(g.jsx)(h.a,{}),Object(g.jsx)(Dt,{label:"Start",value:t.start,onChange:r("start"),error:!!n.start}),Object(g.jsx)(h.a,{}),Object(g.jsx)(Dt,{label:"End",value:t.end,onChange:r("end"),error:!!n.end}),Object(g.jsx)(lt,{topDivider:!0,bottomDivider:!0}),Object(g.jsx)(We,{label:"First",value:t.shelfLifeStart,onChange:r("shelfLifeStart"),error:!!n.shelfLifeStart}),Object(g.jsx)(h.a,{}),Object(g.jsx)(We,{label:"Last",value:t.shelfLifeEnd,onChange:r("shelfLifeEnd"),error:!!n.shelfLifeEnd})]})}})})},or=function(e){var t=e.navigation,n=t.setOptions,r=t.goBack,c=t.navigate,o=e.route.params,i=o.action,a=o.subjectId,s="edit"===i,l=J(),u=l.addSubject,j=l.getSubjectById,b=l.editSubject,d=Object(O.useRef)(null),f=s&&a?j(a):void 0,h=s?f:void 0;Object(O.useEffect)((function(){n({headerTitle:s?null==f?void 0:f.name:void 0,headerRight:function(){var e;return Object(g.jsx)(Xe.b,{HeaderButtonComponent:nt,children:Object(g.jsx)(Xe.c,{title:"Add new subject",iconName:"done",onPress:null==(e=d.current)?void 0:e.submitForm})})}})}),[s,n,null==f?void 0:f.name]);var p=Object(O.useCallback)((function(e){var t=e.name,n=e.color,o=e.teacher,s=e.room;if(t&&n){var l={name:t.trim(),color:n,teacher:null==o?void 0:o.trim(),room:null==s?void 0:s.trim(),id:t};"new"===i?(u(l),r()):a&&(b(a,l),c("SubjectDetailsScreen",{subjectId:a}))}}),[i,u,b,r,c,a]);return Object(g.jsx)(st,{scrollable:!0,children:Object(g.jsx)(ln,{ref:d,onSubmit:p,initialValues:h})})},ir=function(){return Object(g.jsx)(st,{scrollable:!0,children:Object(g.jsx)(m.a,{children:"OverviewScreen"})})},ar=function(e){var t=e.navigation.navigate,n=Object(y.b)().colors,r=Object(O.useMemo)((function(){return f.a.create({title:{color:n.primary,marginHorizontal:u,marginVertical:l},picker:{paddingVertical:l}})}),[n.primary]),c=oe(),o=c.settings,i=c.updateSettings,a=c.resetState;return Object(g.jsxs)(st,{scrollable:!0,children:[Object(g.jsx)(m.a,{style:r.title,children:"General"}),Object(g.jsxs)(Tt,{style:r.picker,label:"App theme",title:"App theme",contentAlignment:"vertical",icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"theme-light-dark"}),onChange:function(e){return i((function(t){return t.general.theme=e}))},value:o.general.theme,children:[Object(g.jsx)(Tt.Item,{label:"System preference",value:"System preference"}),Object(g.jsx)(Tt.Item,{label:"Light",value:"Light"}),Object(g.jsx)(Tt.Item,{label:"Dark",value:"Dark"})]}),Object(g.jsx)(h.a,{}),Object(g.jsxs)(Tt,{style:r.picker,label:"Hour format",title:"Hour format",contentAlignment:"vertical",onChange:function(e){return i((function(t){return t.general.hourFormat=e}))},icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"hours-24"}),value:o.general.hourFormat,children:[Object(g.jsx)(Tt.Item,{label:"24-hour",value:"24-hour"}),Object(g.jsx)(Tt.Item,{label:"12-hour",value:"12-hour"})]}),Object(g.jsx)(m.a,{style:r.title,children:"Timetable"}),Object(g.jsx)(Ze,{style:r.picker,label:"First week day",title:"First week day",value:o.timetable.firstDayIndex,onChange:function(e){return i((function(t){return t.timetable.firstDayIndex=e}))},contentAlignment:"vertical",maxValue:o.timetable.lastDayIndex,icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"calendar-week-begin"})}),Object(g.jsx)(h.a,{}),Object(g.jsx)(Ze,{style:r.picker,label:"Last week day",title:"First week day",value:o.timetable.lastDayIndex.toString(),onChange:function(e){return i((function(t){return t.timetable.lastDayIndex=e}))},contentAlignment:"vertical",minValue:o.timetable.firstDayIndex,icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"calendar-week-begin",style:{transform:[{rotateY:"180deg"}]}})}),Object(g.jsx)(h.a,{}),Object(g.jsx)(Nt,{title:"Manage timetables",style:r.picker,icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"table-settings"}),onPress:function(){return t("ManageTimetablesScreen")}}),Object(g.jsx)(m.a,{style:r.title,children:"Subjects"}),Object(g.jsx)(Tt,{style:r.picker,label:"Dumb picker",title:"Opp",contentAlignment:"vertical",icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"alpha-c-circle"}),value:"Value"}),Object(g.jsx)(m.a,{style:r.title,children:"Calendar"}),Object(g.jsx)(Tt,{style:r.picker,label:"Dumb picker",title:"Opp",contentAlignment:"vertical",icon:Object(g.jsx)(Ie,{pack:"MaterialCommunityIcons",icon:"calendar-account"}),value:"Value"}),Object(g.jsx)(Ct.a,{onPress:a,children:"Reset state"})]})},sr=n(546),lr=["onPress"];function ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var jr=Object(O.createContext)(null),br=function(e){var t=e.title,n=void 0===t?"Options":t,r=e.children,c=Object(O.useState)(!1),o=C()(c,2),i=o[0],a=o[1];return Object(g.jsx)(sr.a,{visible:i,onDismiss:function(){return a(!1)},anchor:Object(g.jsx)(Xe.c,{title:n,iconName:"more-vert",onPress:function(){return a(!0)}}),children:Object(g.jsx)(jr.Provider,{value:a,children:r})})};br.Item=function(e){var t=e.onPress,n=ue()(e,lr),r=Object(O.useContext)(jr);return Object(g.jsx)(sr.a.Item,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onPress:function(){null==t||t(),null==r||r(!1)}},n))};var dr=Object(y.c)(br),Or=function(e){var t=e.navigation,n=t.setOptions,r=t.navigate,c=J(),o=c.subjects,i=c.resetState;Object(O.useEffect)((function(){n({headerRight:function(){return Object(g.jsxs)(Xe.b,{HeaderButtonComponent:nt,children:[Object(g.jsx)(Xe.c,{title:"Add new session",iconName:"add",onPress:function(){return r("NewSubjectScreen",{action:"new"})}}),Object(g.jsx)(dr,{children:Object(g.jsx)(dr.Item,{onPress:i,title:"Reset"})})]})}})}),[r,i,n]);var a=Object(O.useCallback)((function(e){r("SubjectDetailsScreen",{subjectId:e})}),[r]);return Object(g.jsx)(st,{children:Object(g.jsx)(gn,{subjects:o,onItemPress:a})})},fr=function(e){var t=e.navigation,n=t.setOptions,r=t.navigate,c=ne(),o=c.activeStaticTimetable,i=c.resetTimetablesState,a=c.getSessionById,s=c.deleteSession,l=J(),u=l.subjects,j=l.getSubjectById,b=Object(O.useState)(!1),d=C()(b,2),f=d[0],h=d[1],p=Object(O.useState)(),y=C()(p,2),m=y[0],v=y[1],x=Object(O.useMemo)((function(){return m?a(m):void 0}),[a,m]),w=Object(O.useMemo)((function(){return x?j(null==x?void 0:x.subjectId):void 0}),[j,x]);Object(O.useEffect)((function(){n({headerRight:function(){return Object(g.jsxs)(Xe.b,{HeaderButtonComponent:nt,children:[Object(g.jsx)(Xe.c,{title:"Add new session",iconName:"add",onPress:function(){return r("NewSessionScreen",{action:"new"})}}),Object(g.jsxs)(dr,{children:[Object(g.jsx)(dr.Item,{onPress:function(){return r("ManageTimetablesScreen")},title:"Manage timetables"}),Object(g.jsx)(dr.Item,{onPress:i,title:"Reset"})]})]})}})}),[r,n,i,null==o?void 0:o.title]);var S=Object(O.useCallback)((function(e){v(e),h(!0)}),[]);return Object(g.jsxs)(st,{children:[Object(g.jsx)(Wn,{timetable:o,subjects:u,onSessionPress:S}),Object(g.jsx)(er,{session:x,subject:w,visible:f,onDismiss:function(){return h(!1)},onDelete:function(){return m&&s(m)},onEdit:function(){return m&&r("NewSessionScreen",{action:"edit",sessionId:m})}})]})},hr=function(e){var t=e.navigation,n=t.setOptions,r=t.navigate,c=ne(),o=c.timetables,i=c.activeTimetableId,a=c.editTimetableTitle,s=c.deleteTimetable,l=c.getTimetableById,u=c.setActiveTimetableId,j=c.addTimetable,b=Object(O.useState)(!1),d=C()(b,2),f=d[0],h=d[1],p=Object(O.useState)(),y=C()(p,2),v=y[0],x=y[1],w=Object(O.useState)(!1),S=C()(w,2),P=S[0],D=S[1],I=Object(O.useState)(),k=C()(I,2),E=k[0],A=k[1],M=Object(O.useState)(!1),L=C()(M,2),z=L[0],T=L[1],H=Object(O.useCallback)((function(e){A(l(e)),T(!0)}),[l]),V=Object(O.useCallback)((function(e){E&&a(E.id,e)}),[a,E]),R=Object(O.useCallback)((function(e){x(l(e)),h(!0)}),[l]),B=Object(O.useCallback)((function(){v&&(s(v.id),u((function(e){return e[0]})))}),[s,u,v]),F=Object(O.useCallback)((function(e){j({title:e,id:e,sessions:[]})}),[j]);return Object(O.useEffect)((function(){n({headerRight:function(){return Object(g.jsx)(Xe.b,{HeaderButtonComponent:nt,children:Object(g.jsx)(Xe.c,{title:"Add new timetable",iconName:"add",onPress:function(){return D(!0)}})})}})}),[r,n]),Object(g.jsxs)(st,{style:pr.screen,children:[Object(g.jsx)(Jn,{timetables:o,activeTimetableId:i,onDelete:R,onSelect:u,onEdit:H}),Object(g.jsx)(It,{visible:f,onDismiss:function(){return h(!1)},title:"Delete Timetable",onConfirm:B,deleteButton:!0,children:Object(g.jsxs)(m.a,{children:["Are you sure you want to delete"," ",Object(g.jsx)(m.a,{style:{fontWeight:"bold"},children:null==v?void 0:v.title})," timetable?"]})}),Object(g.jsx)(Kn,{visible:P,onConfirm:F,onDismiss:function(){return D(!1)}}),Object(g.jsx)(Kn,{defaultValue:null==E?void 0:E.title,mode:"edit",visible:z,onConfirm:V,onDismiss:function(){return T(!1)}})]})},pr=f.a.create({screen:{padding:u}});function yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gr=Object(se.a)(),vr=function(){var e=k("window").width;return Object(g.jsxs)(gr.Navigator,{initialRouteName:"CalendarScreen",drawerContent:function(e){return Object(g.jsx)(P,mr({},e))},useLegacyImplementation:!0,screenOptions:{headerTintColor:i.primary,headerShadowVisible:!1,drawerType:e>800?"permanent":void 0,lazy:!1,headerTitleStyle:mr({},Ot.fonts.medium)},children:[Object(g.jsx)(gr.Screen,{name:"OverviewScreen",component:ir,options:{title:"Overview"}}),Object(g.jsx)(gr.Screen,{name:"TimetableScreen",component:fr,options:{title:"Timetable"}}),Object(g.jsx)(gr.Screen,{name:"CalendarScreen",component:Gt,options:{title:"Calendar"}}),Object(g.jsx)(gr.Screen,{name:"AgendaScreen",component:Wt,options:{title:"Agenda"}}),Object(g.jsx)(gr.Screen,{name:"SubjectsScreen",component:Or,options:{title:"Subjects"}}),Object(g.jsx)(gr.Screen,{name:"SettingsScreen",component:ar,options:{title:"Settings"}})]})},xr=n(948),wr=n(179),Sr=function(e){var t=e.navigation,n=t.setOptions,r=t.navigate,c=t.goBack,o=e.route.params.subjectId,i=J(),a=i.getSubjectById,s=i.deleteSubject,l=Object(O.useState)(!1),u=C()(l,2),j=u[0],b=u[1],d=a(o),f=Object(O.useCallback)((function(){s(o),c()}),[s,c,o]);return Object(O.useEffect)((function(){n({headerTitle:null==d?void 0:d.name,headerRight:function(){return Object(g.jsx)(Xe.b,{HeaderButtonComponent:nt,children:Object(g.jsxs)(dr,{children:[Object(g.jsx)(dr.Item,{title:"Edit",onPress:function(){return r("NewSubjectScreen",{action:"edit",subjectId:o})}}),Object(g.jsx)(dr.Item,{title:"Delete",onPress:function(){return b(!0)}})]})})}})}),[f,r,n,null==d?void 0:d.name,o]),d?Object(g.jsxs)(st,{scrollable:!0,style:Pr.screen,children:[Object(g.jsxs)(p.a,{style:Pr.attributeContainer,children:[Object(g.jsx)(Ie,{pack:"MaterialIcons",icon:"colorize"}),Object(g.jsx)(p.a,{style:[Pr.colorView,{backgroundColor:d.color}]})]}),Object(g.jsx)(h.a,{}),Object(g.jsxs)(p.a,{style:Pr.attributeContainer,children:[Object(g.jsx)(Ie,{pack:"MaterialIcons",icon:"room"}),Object(g.jsx)(m.a,{style:Pr.text,children:d.room})]}),Object(g.jsx)(h.a,{}),Object(g.jsxs)(p.a,{style:Pr.attributeContainer,children:[Object(g.jsx)(Ie,{pack:"MaterialIcons",icon:"person"}),Object(g.jsx)(m.a,{style:Pr.text,children:d.teacher})]}),Object(g.jsx)(lt,{bottomDivider:!0}),Object(g.jsx)(wr.a,{style:Pr.title,children:"Next session"}),Object(g.jsx)(lt,{height:200,bottomDivider:!0}),Object(g.jsx)(wr.a,{style:Pr.title,children:"Upcoming events"}),Object(g.jsx)(lt,{height:200}),Object(g.jsx)(It,{title:"Delete subject",deleteButton:!0,style:Pr.dialog,visible:j,onConfirm:f,onDismiss:function(){return b(!1)},children:Object(g.jsxs)(m.a,{children:["Are you sure you want to delete ",Object(g.jsx)(m.a,{style:{fontWeight:"bold"},children:d.name}),"?"]})})]}):null},Pr=f.a.create({screen:{padding:u},attributeContainer:{flexDirection:"row",alignItems:"center",marginVertical:u},text:{fontSize:b.regular,marginLeft:u},colorView:{marginLeft:u,height:24,aspectRatio:4,borderRadius:12},title:{fontSize:b.title},dialog:{alignSelf:"center"}});function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir=Object(xr.a)(),kr=function(){return Object(g.jsxs)(Ir.Navigator,{initialRouteName:"DrawerNavigator",screenOptions:{headerShadowVisible:!1,headerTitleStyle:Cr({},Ot.fonts.medium)},children:[Object(g.jsx)(Ir.Screen,{name:"DrawerNavigator",component:vr,options:{headerShown:!1}}),Object(g.jsx)(Ir.Screen,{name:"NewSessionScreen",component:cr,options:{headerTitle:"New session"}}),Object(g.jsx)(Ir.Screen,{name:"NewSubjectScreen",component:or,options:{title:"New subject"}}),Object(g.jsx)(Ir.Screen,{name:"SubjectDetailsScreen",component:Sr,options:{headerTitle:""}}),Object(g.jsx)(Ir.Screen,{name:"ManageTimetablesScreen",component:hr,options:{headerTitle:"Manage timetables"}})]})},Er=n(639),Ar=n(66),Mr=n(944),Lr=n(333),zr=(n(899),n(175)),Tr=n(549),Hr=n(650),Vr=n(199);function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}zr.a.ignoreLogs(["timer","The native module for Flipper seems unavailable."]);var Fr=function(e){var t=e.children,n=Object(Ar.r)();Object(Er.a)(n);var r=Object(Vr.e)({Poppins_200ExtraLight:Vr.b,Poppins_400Regular:Vr.c,Poppins_500Medium:Vr.d,Poppins_100Thin:Vr.a});return C()(r,1)[0]?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Hr.a,{}),Object(g.jsx)(Tr.a,{theme:Ot,settings:{icon:function(e){return Object.keys(we.a.glyphMap).includes(e.name)?Object(g.jsx)(we.a,Br(Br({},e),{},{name:e.name})):Object.keys(xe.a.glyphMap).includes(e.name)?Object(g.jsx)(xe.a,Br(Br({},e),{},{name:e.name})):void 0}},children:Object(g.jsx)(O.Suspense,{fallback:Object(g.jsx)(Lr.a,{}),children:Object(g.jsx)(U.a,{children:Object(g.jsx)(Mr.a,{theme:ft,ref:n,children:t})})})})]}):Object(g.jsx)(Lr.a,{})},Nr=n(647);function Wr(){return Object(g.jsx)(Fr,{children:Object(g.jsxs)(p.a,{style:Ur.container,children:[Object(g.jsx)(Nr.a,{style:"auto"}),Object(g.jsx)(kr,{})]})})}var Ur=f.a.create({container:{flex:1}})},675:function(e,t,n){e.exports=n(918)},865:function(e,t,n){var r={"./af":409,"./af.js":409,"./ar":410,"./ar-dz":411,"./ar-dz.js":411,"./ar-kw":412,"./ar-kw.js":412,"./ar-ly":413,"./ar-ly.js":413,"./ar-ma":414,"./ar-ma.js":414,"./ar-sa":415,"./ar-sa.js":415,"./ar-tn":416,"./ar-tn.js":416,"./ar.js":410,"./az":417,"./az.js":417,"./be":418,"./be.js":418,"./bg":419,"./bg.js":419,"./bm":420,"./bm.js":420,"./bn":421,"./bn-bd":422,"./bn-bd.js":422,"./bn.js":421,"./bo":423,"./bo.js":423,"./br":424,"./br.js":424,"./bs":425,"./bs.js":425,"./ca":426,"./ca.js":426,"./cs":427,"./cs.js":427,"./cv":428,"./cv.js":428,"./cy":429,"./cy.js":429,"./da":430,"./da.js":430,"./de":431,"./de-at":432,"./de-at.js":432,"./de-ch":433,"./de-ch.js":433,"./de.js":431,"./dv":434,"./dv.js":434,"./el":435,"./el.js":435,"./en-au":436,"./en-au.js":436,"./en-ca":437,"./en-ca.js":437,"./en-gb":438,"./en-gb.js":438,"./en-ie":439,"./en-ie.js":439,"./en-il":440,"./en-il.js":440,"./en-in":441,"./en-in.js":441,"./en-nz":442,"./en-nz.js":442,"./en-sg":443,"./en-sg.js":443,"./eo":444,"./eo.js":444,"./es":445,"./es-do":446,"./es-do.js":446,"./es-mx":447,"./es-mx.js":447,"./es-us":448,"./es-us.js":448,"./es.js":445,"./et":449,"./et.js":449,"./eu":450,"./eu.js":450,"./fa":451,"./fa.js":451,"./fi":452,"./fi.js":452,"./fil":453,"./fil.js":453,"./fo":454,"./fo.js":454,"./fr":455,"./fr-ca":456,"./fr-ca.js":456,"./fr-ch":457,"./fr-ch.js":457,"./fr.js":455,"./fy":458,"./fy.js":458,"./ga":459,"./ga.js":459,"./gd":460,"./gd.js":460,"./gl":461,"./gl.js":461,"./gom-deva":462,"./gom-deva.js":462,"./gom-latn":463,"./gom-latn.js":463,"./gu":464,"./gu.js":464,"./he":465,"./he.js":465,"./hi":466,"./hi.js":466,"./hr":467,"./hr.js":467,"./hu":468,"./hu.js":468,"./hy-am":469,"./hy-am.js":469,"./id":470,"./id.js":470,"./is":471,"./is.js":471,"./it":472,"./it-ch":473,"./it-ch.js":473,"./it.js":472,"./ja":474,"./ja.js":474,"./jv":475,"./jv.js":475,"./ka":476,"./ka.js":476,"./kk":477,"./kk.js":477,"./km":478,"./km.js":478,"./kn":479,"./kn.js":479,"./ko":480,"./ko.js":480,"./ku":481,"./ku.js":481,"./ky":482,"./ky.js":482,"./lb":483,"./lb.js":483,"./lo":484,"./lo.js":484,"./lt":485,"./lt.js":485,"./lv":486,"./lv.js":486,"./me":487,"./me.js":487,"./mi":488,"./mi.js":488,"./mk":489,"./mk.js":489,"./ml":490,"./ml.js":490,"./mn":491,"./mn.js":491,"./mr":492,"./mr.js":492,"./ms":493,"./ms-my":494,"./ms-my.js":494,"./ms.js":493,"./mt":495,"./mt.js":495,"./my":496,"./my.js":496,"./nb":497,"./nb.js":497,"./ne":498,"./ne.js":498,"./nl":499,"./nl-be":500,"./nl-be.js":500,"./nl.js":499,"./nn":501,"./nn.js":501,"./oc-lnc":502,"./oc-lnc.js":502,"./pa-in":503,"./pa-in.js":503,"./pl":504,"./pl.js":504,"./pt":505,"./pt-br":506,"./pt-br.js":506,"./pt.js":505,"./ro":507,"./ro.js":507,"./ru":508,"./ru.js":508,"./sd":509,"./sd.js":509,"./se":510,"./se.js":510,"./si":511,"./si.js":511,"./sk":512,"./sk.js":512,"./sl":513,"./sl.js":513,"./sq":514,"./sq.js":514,"./sr":515,"./sr-cyrl":516,"./sr-cyrl.js":516,"./sr.js":515,"./ss":517,"./ss.js":517,"./sv":518,"./sv.js":518,"./sw":519,"./sw.js":519,"./ta":520,"./ta.js":520,"./te":521,"./te.js":521,"./tet":522,"./tet.js":522,"./tg":523,"./tg.js":523,"./th":524,"./th.js":524,"./tk":525,"./tk.js":525,"./tl-ph":526,"./tl-ph.js":526,"./tlh":527,"./tlh.js":527,"./tr":528,"./tr.js":528,"./tzl":529,"./tzl.js":529,"./tzm":530,"./tzm-latn":531,"./tzm-latn.js":531,"./tzm.js":530,"./ug-cn":532,"./ug-cn.js":532,"./uk":533,"./uk.js":533,"./ur":534,"./ur.js":534,"./uz":535,"./uz-latn":536,"./uz-latn.js":536,"./uz.js":535,"./vi":537,"./vi.js":537,"./x-pseudo":538,"./x-pseudo.js":538,"./yo":539,"./yo.js":539,"./zh-cn":540,"./zh-cn.js":540,"./zh-hk":541,"./zh-hk.js":541,"./zh-mo":542,"./zh-mo.js":542,"./zh-tw":543,"./zh-tw.js":543};function c(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}c.keys=function(){return Object.keys(r)},c.resolve=o,e.exports=c,c.id=865}},[[675,1,2]]]);
//# sourceMappingURL=app.d77a212f.chunk.js.map