{"version":3,"sources":["constants/colors.ts","constants/spacing.ts","constants/fonts.ts","src/components/Drawer/Header.tsx","src/components/Drawer/Content.tsx","src/hooks/useDynamicDimensions.ts","src/hooks/useDynamicWindowStyles.ts","constants/myTimetable.ts","src/utils/storage.ts","src/atoms/subjectsState.ts","src/hooks/useSubjectsState.ts","src/utils/timetable/compiler.ts","src/atoms/timetablesState.ts","src/utils/timetable/manager.ts","src/hooks/useRealTime.ts","src/hooks/useTimetablesState.ts","src/atoms/settingsState.ts","src/hooks/useSettingsState.ts","src/hooks/useLayoutEvent.ts","src/atoms/eventsState.ts","src/components/UI/Icon.tsx","src/components/UI/PlatformTouchable.tsx","src/components/UI/Picker.tsx","src/components/UI/DatePicker.tsx","src/components/UI/DayPicker.tsx","src/components/UI/HeaderButton.tsx","src/components/UI/IconButton.tsx","src/components/UI/RadioItem.tsx","src/components/UI/Screen.tsx","src/components/UI/Space.tsx","src/utils/theme.ts","src/components/UI/TextInput.tsx","src/components/UI/TimePicker.tsx","src/components/UI/ConfirmationDialog.tsx","src/components/UI/RadioPicker.tsx","src/components/UI/WideButton.tsx","src/screens/AgendaScreen.tsx","src/screens/CalendarScreen.tsx","src/components/UI/ColorPicker/EmptyItem.tsx","src/components/UI/ColorPicker/Item.tsx","src/components/UI/ColorPicker/Grid.tsx","src/components/UI/ColorPicker/Variants.tsx","src/components/UI/ColorPicker/index.tsx","src/components/SubjectForm.tsx","src/components/SubjectPicker.tsx","src/components/SubjectsView/Item.tsx","src/components/SubjectsView/index.tsx","src/components/TimetableView/Cell.tsx","src/components/TimetableView/EmptyCell.tsx","src/components/TimetableView/Column.tsx","src/components/TimetableView/Grid.tsx","src/components/TimetableView/Body.tsx","src/components/TimetableView/Header.tsx","src/components/TimetableView/Sidebar.tsx","src/components/TimetableView/TimeIndicator.tsx","src/components/TimetableView/index.tsx","src/components/TimetablesList/Item.tsx","src/components/TimetablesList/index.tsx","src/components/NewTimetableDialog.tsx","src/components/SessionDetailsView/index.tsx","src/screens/NewSessionScreen.tsx","src/screens/NewSubjectScreen.tsx","src/screens/OverviewScreen.tsx","src/screens/SettingsScreen.tsx","src/components/UI/HeaderButtons/MoreMenu.tsx","src/screens/SubjectsScreen.tsx","src/screens/TimetableScreen.tsx","src/screens/ManageTimetablesScreen.tsx","src/navigation/DrawerNavigator.tsx","src/screens/SubjectDetailsScreen.tsx","src/navigation/MainNavigator.tsx","src/utils/Providers.tsx","App.tsx","node_modules/moment/locale sync /^/.*$"],"names":["background","Colors","grey100","primary","amber800","accent","deepOrange300","highlight","amber600","blackFont","black","text","grey700","secondaryText","grey600","faintText","grey400","error","red800","tiny","small","regular","title","Header","colors","useTheme","View","style","styles","container","Text","color","fontSize","StyleSheet","create","flex","justifyContent","alignItems","padding","icons","OverviewScreen","TimetableScreen","CalendarScreen","AgendaScreen","SubjectsScreen","SettingsScreen","borderRightWidth","borderRightColor","grey200","item","paddingVertical","divider","marginHorizontal","Content","navigation","descriptors","state","DrawerContentScrollView","Divider","routes","map","key","name","Item","label","options","icon","onPress","navigate","active","isFocused","theme","useDynamicDimensions","type","useState","Dimensions","get","dimension","setDimension","changeListener","window","screen","useEffect","addEventListener","removeEventListener","useDynamicWindowStyles","stylesProvider","dynamicStyles","setDynamicStyles","myTimetable","id","sessions","dayIndex","subjectId","start","end","shelfLife","session","uuid","v4","myTimetable2","mySubjects","room","purple500","teacher","red500","cyan500","indigoA400","teal500","brown500","redA400","blue500","pinkA400","lightGreenA400","deepPurpleA400","deepOrangeA400","lightBlue500","orangeA400","persistAtom","onSet","setSelf","trigger","parse","JSON","stringify","defaultValue","cloneDeep","a","async","AsyncStorage","getItem","savedValue","valueToSet","merge","console","newValue","_","isReset","removeItem","setItem","subjectsAtom","atom","default","effects","useSubjectsState","useRecoilState","subjects","setSubjects","resetState","useResetRecoilState","addSubject","useCallback","subjectToAdd","previousValue","subjectsStateValue","existingSubjectIndex","findIndex","push","deleteSubject","filter","subject","getSubjectById","find","editSubject","oldSubjectIndex","oldSubject","compileDay","index","isWithinInterval","Date","getTime","highlighted","isSessionHighlighted","isDayHighlighted","now","hours","getHours","getMinutes","getDay","timetablesAtom","timetables","value","includes","useRealTime","updateDurationMs","time","setTime","timeoutId","setInterval","clearInterval","useTimetablesState","timetablesState","setTimetablesState","resetTimetablesState","activeTimetableId","activeTimetable","useMemo","activeStaticTimetable","days","range","i","compile","undefined","addTimetable","timetableToAdd","oldState","stateCopy","setActiveTimetableId","idOrUpdater","timetable","addSession","sessionToAdd","activeTimetableIndex","clone","addSessionToTimetable","deleteTimetable","editTimetableTitle","forEach","getTimetableById","getSessionById","sessionId","deleteSession","deleteSessionFromTimetable","editSession","newSession","oldSession","editSessionInTimetable","general","hourFormat","firstDayIndex","lastDayIndex","settingsAtom","useSettingsState","settings","setSettings","updateSettings","updater","oldSettings","useLayoutEvent","isSet","setIsSet","event","setEvent","onLayout","nativeEvent","layout","date","note","Packs","AntDesign","Entypo","EvilIcons","Feather","FontAwesome","FontAwesome5","Fontisto","Foundation","Ionicons","MaterialCommunityIcons","MaterialIcons","Octicons","SimpleLineIcons","Zocial","Icon","pack","size","IconPack","PlatformTouchable","props","Platform","OS","TouchableOpacity","activeOpacity","gestureHandlerRootHOC","placeholder","valueComponent","contentAlignment","valueStyle","labelStyle","rest","isHor","spacing","paddingHorizontal","flexDirection","flexShrink","iconContainer","marginRight","width","aspectRatio","contentContainer","labelContainer","fonts","lineHeight","numberOfLines","DatePicker","onChange","show","setShow","dateValue","parseJSON","format","mode","toISOString","textColor","DayPicker","maxValue","minValue","visible","setVisible","onDismiss","parseInt","Portal","Dialog","dialog","Title","ScrollArea","ScrollView","RadioButton","Group","String","onValueChange","day","disabled","textAlign","backgroundColor","marginVertical","HeaderButton","iconSize","IconComponent","innerContainer","pointerEvents","radioItem","position","margin","Screen","children","optimize","scrollable","ParentView","Space","height","topDivider","bottomDivider","alignSelf","paperTheme","PaperDefaultTheme","fontFamily","fontWeight","light","medium","thin","navigationTheme","NavigationDefaultTheme","border","webOutlineStyle","outlineStyle","TextInput","paddingRight","textInput","placeholderTextColor","paddingLeft","TimePicker","timeZoneOffsetInMinutes","ConfirmationDialog","onConfirm","deleteButton","Actions","actions","Button","RadioPicker","withTheme","selectedDate","setSelectedDate","markedDates","selected","timeEnd","horizontal","pagingEnabled","markingType","onDayPress","dateString","EmptyItem","borderColor","tinycolor","darken","toHex","borderWidth","borderRadius","overflow","Grid","itemSize","constSpacing","activeColorIndex","onActiveColorChange","containerWidth","setContainerWidth","emptySlots","length","flexWrap","defaultColors","sortBy","uniq","Object","keys","s","replace","endsWith","colorName","main","variants","ColorPicker","defaultGridColorIndex","defaultVariantIndex","variant","activeGridColorIndex","setActiveGridColorIndex","activeVariantColorIndex","setActiveVariantColorIndex","activeColor","setValue","dismissHandler","grid","action","contentStyle","actionButton","SubjectForm","forwardRef","ref","initialValues","onSubmit","validationSchema","Yup","required","matches","optional","validateOnChange","validateOnBlur","innerRef","values","errors","handleChange","onChangeText","SubjectPicker","useWindowDimensions","pickedSubject","maxHeight","Card","elevation","card","touchable","body","SubjectsView","onItemPress","setWidth","numColumns","Math","round","FlatList","list","data","renderItem","Cell","inner","shadowColor","shadowOpacity","shadowRadius","EmptyCell","gap","Column","sort","b","columns","rows","halves","line","columnBorder","rowBorder","faint","top","right","bottom","left","thickness","grey50","Body","float","columnsContainer","highlightedDay","element","borderBottomWidth","borderBottomColor","Sidebar","AmPm","fontsTheme","cellHeight","cell","v","toLowerCase","TimeIndicator","progress","indicator","TimetableView","onSessionPress","dynamicHeight","sidebarLayout","bodyLayout","containerLayout","scroll","contentContainerStyle","bodyContainer","onDelete","onEdit","onSelect","status","TimetablesList","SessionDetailsView","startDate","hoursToMinutes","endDate","formatDate","coloredText","formatDuration","intervalToDuration","subActions","NewSessionScreen","setOptions","goBack","params","route","formSubmitHandler","shelfLifeStart","shelfLifeEnd","convertedValues","formRef","useRef","headerRight","HeaderButtonComponent","iconName","current","handleSubmit","shape","when","test","compareAsc","initialValuesTimeParser","floor","toString","NewSubjectScreen","isEdit","headerTitle","submitForm","addSubjectHandler","trim","picker","transform","rotateY","MenuVisibleContext","createContext","MoreMenu","menuVisible","setMenuVisible","Menu","anchor","Provider","useContext","itemPressHandler","sessionDetailsVisible","setSessionDetailsVisible","selectedSessionId","setSelectedSessionId","selectedSession","selectedSessionSubject","sessionPressedHandler","ManageTimetablesScreen","deleteDialogVisible","setDeleteDialogVisible","timetableToDelete","setTimetableToDelete","newTimetableDialogVisible","setNewTimetableDialogVisible","timetableToEdit","setTimetableToEdit","editTimetableDialogVisible","setEditTimetableDialogVisible","editHandler","confirmedEditHandler","deleteHandler","confirmedDeleteHandler","idsList","addTimetableHandler","NewTimetableDialog","Drawer","createDrawerNavigator","DrawerNavigator","Navigator","initialRouteName","drawerContent","useLegacyImplementation","screenOptions","headerTintColor","headerShadowVisible","drawerType","lazy","headerTitleStyle","component","SubjectDetailsScreen","attributeContainer","colorView","marginLeft","Stack","createNativeStackNavigator","MainNavigator","headerShown","LogBox","ignoreLogs","Providers","navigationRef","useNavigationContainerRef","useFlipper","useFonts","Poppins_200ExtraLight","Poppins_400Regular","Poppins_500Medium","Poppins_100Thin","glyphMap","fallback","NavigationContainer","App","StatusBar","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","resolve","module","exports"],"mappings":"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","file":"static/js/app.d77a212f.chunk.js","sourcesContent":["import { Colors } from 'react-native-paper'\r\n\r\nexport default {\r\n  background: Colors.grey100,\r\n  primary: Colors.amber800,\r\n  accent: Colors.deepOrange300,\r\n  highlight: Colors.amber600,\r\n  blackFont: Colors.black,\r\n  text: Colors.grey700,\r\n  secondaryText: Colors.grey600,\r\n  faintText: Colors.grey400,\r\n  error: Colors.red800,\r\n}\r\n// const dark = (color: string) => {\r\n\r\n// }\r\n\r\n// export default {\r\n//   white: Colors.white,\r\n//   black: Colors.black,\r\n//   primary: Colors.red400,\r\n//   accent: Colors.purpleA400,\r\n//   darkGrey: Colors.grey800,\r\n//   lightGray: Colors.grey300,\r\n//   error: Colors.red400,\r\n// }\r\n","export default {\r\n  xs: 4,\r\n  s: 8,\r\n  m: 12,\r\n  l: 16,\r\n  xl: 24,\r\n}\r\n","export default {\r\n  sizes: {\r\n    tiny: 12,\r\n    small: 14,\r\n    regular: 16,\r\n    title: 20,\r\n  },\r\n}\r\n","import { FC } from 'react'\r\nimport { StyleSheet, View } from 'react-native'\r\nimport { Text, useTheme } from 'react-native-paper'\r\n\r\nconst Header: FC = () => {\r\n  const { colors } = useTheme()\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text\r\n        style={{\r\n          color: colors.primary,\r\n          fontSize: 24,\r\n        }}>\r\n        Smart Timetable\r\n      </Text>\r\n    </View>\r\n  )\r\n}\r\nexport default Header\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-start',\r\n    padding: 20,\r\n  },\r\n})\r\n","import { colors } from '@constants'\r\nimport { DrawerParamList } from '@navigation/DrawerNavigator'\r\nimport { DrawerContentComponentProps, DrawerContentScrollView } from '@react-navigation/drawer'\r\nimport { FC, Fragment } from 'react'\r\nimport { StyleSheet } from 'react-native'\r\nimport { Colors, Divider, Drawer } from 'react-native-paper'\r\nimport { IconSource } from 'react-native-paper/lib/typescript/components/Icon'\r\nimport Header from './Header'\r\n\r\nconst icons: Record<keyof DrawerParamList, IconSource> = {\r\n  OverviewScreen: 'home',\r\n  TimetableScreen: 'timetable',\r\n  CalendarScreen: 'calendar-today',\r\n  AgendaScreen: 'view-agenda',\r\n  SubjectsScreen: 'school',\r\n  SettingsScreen: 'settings',\r\n}\r\n\r\nconst Content: FC<DrawerContentComponentProps> = ({ navigation, descriptors, state }) => {\r\n  return (\r\n    <DrawerContentScrollView style={styles.container}>\r\n      <Header />\r\n      <Divider style={styles.divider} />\r\n      {state.routes.map(({ key, name }) => (\r\n        <Fragment key={key}>\r\n          {name === 'AgendaScreen' && <Divider style={styles.divider} />}\r\n          <Drawer.Item\r\n            style={styles.item}\r\n            label={descriptors[key].options.title ?? name}\r\n            icon={icons[name as never]}\r\n            onPress={() => navigation.navigate(name)}\r\n            active={descriptors[key].navigation.isFocused()}\r\n            theme={{\r\n              colors: {\r\n                text: colors.blackFont,\r\n              },\r\n            }}\r\n          />\r\n        </Fragment>\r\n      ))}\r\n    </DrawerContentScrollView>\r\n  )\r\n}\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    borderRightWidth: 1,\r\n    borderRightColor: Colors.grey200,\r\n  },\r\n  item: {\r\n    paddingVertical: 4,\r\n    // backgroundColor: 'transparent',\r\n  },\r\n  divider: {\r\n    marginHorizontal: 8,\r\n  },\r\n})\r\nexport default Content\r\n","import { useEffect, useState } from 'react'\r\nimport { Dimensions, ScaledSize } from 'react-native'\r\n\r\nconst useDynamicDimensions = (type: 'window' | 'screen') => {\r\n  const [dimension, setDimension] = useState(Dimensions.get(type))\r\n  const changeListener = ({ window, screen }: { window: ScaledSize; screen: ScaledSize }) => {\r\n    type === 'window' ? setDimension(window) : setDimension(screen)\r\n  }\r\n  useEffect(() => {\r\n    Dimensions.addEventListener('change', changeListener)\r\n    return () => {\r\n      Dimensions.removeEventListener('change', changeListener)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n  return dimension\r\n}\r\n\r\nexport default useDynamicDimensions\r\n","import { useEffect, useState } from 'react'\r\nimport { Dimensions, ScaledSize, StyleSheet } from 'react-native'\r\n\r\ntype StylesProvider<T> = (window: ScaledSize, screen: ScaledSize) => StyleSheet.NamedStyles<T>\r\n/**\r\n * Updates styles dynamically when screen dimensions change\r\n */\r\nconst useDynamicWindowStyles = <T>(stylesProvider: StylesProvider<T>) => {\r\n  const [dynamicStyles, setDynamicStyles] = useState(\r\n    stylesProvider(Dimensions.get('window'), Dimensions.get('screen')),\r\n  )\r\n  const changeListener = ({ window, screen }: { window: ScaledSize; screen: ScaledSize }) => {\r\n    setDynamicStyles(stylesProvider(window, screen))\r\n  }\r\n  useEffect(() => {\r\n    Dimensions.addEventListener('change', changeListener)\r\n    return () => {\r\n      Dimensions.removeEventListener('change', changeListener)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n  return dynamicStyles\r\n}\r\n\r\nexport default useDynamicWindowStyles\r\n","import { Subject } from '@models'\r\nimport { Timetable } from '@models/Timetable'\r\nimport uuid from 'react-native-uuid'\r\nimport { Colors } from 'react-native-paper'\r\n\r\nexport const emptyTimetable: Timetable<'dynamic'> = {\r\n  title: '',\r\n  id: 'S2',\r\n  sessions: [],\r\n}\r\n\r\nexport const myTimetable: Timetable<'dynamic'> = {\r\n  title: 'Second semester',\r\n  id: 'S2',\r\n  sessions: [\r\n    {\r\n      dayIndex: 1,\r\n      subjectId: 'M11-1',\r\n      start: 8.5,\r\n      end: 12.5,\r\n      shelfLife: {\r\n        start: null,\r\n        end: null,\r\n      },\r\n    },\r\n    {\r\n      dayIndex: 1,\r\n      subjectId: 'M12-1',\r\n      start: 14.5,\r\n      end: 18.5,\r\n      shelfLife: {\r\n        start: null,\r\n        end: null,\r\n      },\r\n    },\r\n  ].map(session => ({ ...session, id: uuid.v4() })),\r\n}\r\n\r\nexport const myTimetable2: Timetable<'dynamic'> = {\r\n  title: 'First semester',\r\n  id: 'S1',\r\n  sessions: [\r\n    {\r\n      dayIndex: 1,\r\n      subjectId: 'M16-1',\r\n      start: 8.5,\r\n      end: 10.5,\r\n      shelfLife: {\r\n        start: null,\r\n        end: null,\r\n      },\r\n    },\r\n    {\r\n      dayIndex: 1,\r\n      subjectId: 'M16-2',\r\n      start: 14.5,\r\n      end: 16.5,\r\n      shelfLife: {\r\n        start: null,\r\n        end: null,\r\n      },\r\n    },\r\n  ].map(session => ({ ...session, id: uuid.v4() })),\r\n}\r\n\r\nexport const mySubjects: Subject[] = [\r\n  {\r\n    id: 'M11-1',\r\n    name: 'CAO',\r\n    room: 'Salle1',\r\n    color: Colors.purple500,\r\n    teacher: 'Y. FARHANE',\r\n  },\r\n  {\r\n    id: 'M12-1',\r\n    name: 'Circuits reprogrammables',\r\n    room: 'Salle1',\r\n    color: Colors.red500,\r\n    teacher: 'A. MANSOURI',\r\n  },\r\n  {\r\n    id: 'M12-2',\r\n    name: 'Conception des C.I par langage VHDL',\r\n    room: 'Salle1',\r\n    color: Colors.cyan500,\r\n    teacher: 'A. MANSOURI',\r\n  },\r\n  {\r\n    id: 'M9',\r\n    name: 'Recherche oprationnelle',\r\n    room: 'Salle1',\r\n    color: Colors.indigoA400,\r\n    teacher: 'S. ELHAJ-BEN-ALI',\r\n  },\r\n  {\r\n    id: 'M16-1',\r\n    name: 'Anglais',\r\n    room: 'Salle1',\r\n    color: Colors.teal500,\r\n    teacher: 'DAHBI',\r\n  },\r\n  {\r\n    id: 'M16-2',\r\n    name: 'TEC2',\r\n    room: 'Salle1',\r\n    color: Colors.brown500,\r\n    teacher: 'KHADIJA ALAOUI',\r\n  },\r\n  {\r\n    id: 'M13-1',\r\n    name: 'Microcontrleur avanc',\r\n    room: 'Salle1',\r\n    color: Colors.redA400,\r\n    teacher: 'A. MANSOURI',\r\n  },\r\n  {\r\n    id: 'M13-2',\r\n    name: 'Automate programmable API',\r\n    room: 'Salle1',\r\n    color: Colors.blue500,\r\n    teacher: 'A.ELBDOURI',\r\n  },\r\n  {\r\n    id: 'M10-1',\r\n    name: \"Systme d'Information : Conception des systmes d'information\",\r\n    room: 'Salle1',\r\n    color: Colors.pinkA400,\r\n    teacher: 'L. OUGHDIR',\r\n  },\r\n  {\r\n    id: 'M10-2',\r\n    name: \"Systme d'Information : Bases de donnes\",\r\n    room: 'Salle1',\r\n    color: Colors.lightGreenA400,\r\n    teacher: 'A.BOULAALAM',\r\n  },\r\n  {\r\n    id: 'M14',\r\n    name: 'JAVA, API',\r\n    room: 'Salle1',\r\n    color: Colors.deepPurpleA400,\r\n    teacher: 'Y. KHAMLICHI',\r\n  },\r\n  {\r\n    id: 'M15-1',\r\n    name: 'Gestion comptable',\r\n    room: 'Salle1',\r\n    color: Colors.deepOrangeA400,\r\n    teacher: 'BOULAICH',\r\n  },\r\n  {\r\n    id: 'M15-2',\r\n    name: 'Droit des socits',\r\n    room: 'Salle1',\r\n    color: Colors.lightBlue500,\r\n    teacher: 'BOULAICH',\r\n  },\r\n  {\r\n    id: 'M11-2',\r\n    name: 'Traitement du Signal',\r\n    room: 'Salle1',\r\n    color: Colors.orangeA400,\r\n    teacher: 'H.BELKBIR',\r\n  },\r\n]\r\n\r\n// export const myTimetable: Timetable<'dynamic'> = {\r\n//   name: 'S2',\r\n//   baseDate: new Date(2022, 1, 28),\r\n//   days: [\r\n//     {\r\n//       index: 1,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M11-1',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 1,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M11-1',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: 2,\r\n//             end: 9,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M12-1',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 4,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M12-2',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: 5,\r\n//             end: 10,\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       index: 2,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M9',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 13,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M16-1',\r\n//           start: 14.5,\r\n//           end: 16.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 13,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M16-2',\r\n//           start: 16.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 13,\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       index: 3,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M13-1',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 3,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M13-2',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: 4,\r\n//             end: 7,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M10-1',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 5,\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       index: 4,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M10-2',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: 3,\r\n//             end: 7,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M14',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 13,\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       index: 5,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M15-1',\r\n//           start: 8.5,\r\n//           end: 10.5,\r\n//           shelfLife: {\r\n//             start: 3,\r\n//             end: 13,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M15-2',\r\n//           start: 10.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: 3,\r\n//             end: 13,\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M11-2',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: 1,\r\n//             end: 8,\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//   ],\r\n// }\r\n\r\n// export const myTimetable: Timetable<'dynamic'> = {\r\n//   id: 'S2',\r\n//   days: [\r\n//     {\r\n//       index: 1,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M11-1',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 3, 25),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M12-1',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 2, 26),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M12-2',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 3, 2),\r\n//             end: new Date(2022, 4, 14),\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       index: 2,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M9',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 5, 4),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M16-1',\r\n//           start: 14.5,\r\n//           end: 16.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 5, 4),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M16-2',\r\n//           start: 16.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 5, 4),\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       index: 3,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M13-1',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 2, 19),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M13-2',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 2, 21),\r\n//             end: new Date(2022, 3, 16),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M10-1',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 3, 2),\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       index: 4,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M10-2',\r\n//           start: 8.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 2, 14),\r\n//             end: new Date(2022, 3, 16),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M14',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 5, 4),\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//     {\r\n//       index: 5,\r\n//       sessions: [\r\n//         {\r\n//           subjectId: 'M15-1',\r\n//           start: 8.5,\r\n//           end: 10.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 2, 14),\r\n//             end: new Date(2022, 5, 4),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M15-2',\r\n//           start: 10.5,\r\n//           end: 12.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 2, 14),\r\n//             end: new Date(2022, 5, 4),\r\n//           },\r\n//         },\r\n//         {\r\n//           subjectId: 'M11-2',\r\n//           start: 14.5,\r\n//           end: 18.5,\r\n//           shelfLife: {\r\n//             start: new Date(2022, 1, 28),\r\n//             end: new Date(2022, 3, 23),\r\n//           },\r\n//         },\r\n//       ],\r\n//     },\r\n//   ],\r\n// }\r\n","import AsyncStorage from '@react-native-async-storage/async-storage'\r\nimport { cloneDeep, merge } from 'lodash'\r\nimport { AtomEffect, AtomOptions } from 'recoil'\r\nexport const persistAtom =\r\n  <T>(\r\n    key: string,\r\n    options?: {\r\n      defaultValue?: AtomOptions<T>['default']\r\n      parse?: typeof JSON.parse\r\n      stringify?: typeof JSON.stringify\r\n    },\r\n  ): AtomEffect<T> =>\r\n  ({ onSet, setSelf, trigger }) => {\r\n    const parse = options?.parse ?? JSON.parse\r\n    const stringify = options?.stringify ?? JSON.stringify\r\n    const defaultValue = cloneDeep(options?.defaultValue)\r\n    if (trigger === 'get') {\r\n      ;(async () => {\r\n        try {\r\n          const savedValue = await AsyncStorage.getItem(key)\r\n          if (savedValue) {\r\n            const valueToSet = defaultValue\r\n              ? merge(defaultValue, parse(savedValue))\r\n              : parse(savedValue)\r\n            setSelf(valueToSet)\r\n          }\r\n        } catch (error) {\r\n          console.error(`failed to recover ${key} from AsyncStorage`)\r\n          console.error(error)\r\n        }\r\n      })()\r\n    }\r\n    onSet((newValue, _, isReset) => {\r\n      if (isReset) {\r\n        AsyncStorage.removeItem(key)\r\n      } else {\r\n        AsyncStorage.setItem(key, stringify(newValue))\r\n      }\r\n    })\r\n  }\r\n","import { mySubjects } from '@constants/myTimetable'\r\nimport { Subject } from '@models'\r\nimport { persistAtom } from '@utils/storage'\r\nimport { atom } from 'recoil'\r\n\r\nexport const subjectsAtom = atom<Subject[]>({\r\n  key: 'subjectsState',\r\n  default: mySubjects,\r\n  effects: [persistAtom('subjectsState')],\r\n})\r\n","import { subjectsAtom } from '@atoms/subjectsState'\r\nimport { Subject } from '@models'\r\nimport { cloneDeep } from 'lodash'\r\nimport { useCallback } from 'react'\r\nimport { useRecoilState, useResetRecoilState } from 'recoil'\r\n\r\nconst useSubjectsState = () => {\r\n  const [subjects, setSubjects] = useRecoilState(subjectsAtom)\r\n  const resetState = useResetRecoilState(subjectsAtom)\r\n  const addSubject = useCallback(\r\n    (subjectToAdd: Subject) => {\r\n      setSubjects(previousValue => {\r\n        const subjectsStateValue = cloneDeep(previousValue)\r\n        const existingSubjectIndex = subjectsStateValue.findIndex(\r\n          ({ id }) => id === subjectToAdd.id,\r\n        )\r\n        if (existingSubjectIndex != -1) subjectsStateValue[existingSubjectIndex] = subjectToAdd\r\n        else subjectsStateValue.push(subjectToAdd)\r\n        return subjectsStateValue\r\n      })\r\n    },\r\n    [setSubjects],\r\n  )\r\n  const deleteSubject = useCallback(\r\n    (subjectId: string) =>\r\n      setSubjects(previousValue => previousValue.filter(subject => subject.id !== subjectId)),\r\n    [setSubjects],\r\n  )\r\n  const getSubjectById = useCallback(\r\n    (subjectId: string) => subjects.find(({ id }) => id === subjectId),\r\n    [subjects],\r\n  )\r\n  const editSubject = useCallback(\r\n    (subjectId: string, subject: Omit<Subject, 'id'>) => {\r\n      setSubjects(previousValue => {\r\n        const subjectsStateValue = cloneDeep(previousValue)\r\n        const oldSubjectIndex = subjectsStateValue.findIndex(({ id }) => id === subjectId)\r\n        const oldSubject = subjectsStateValue[oldSubjectIndex]\r\n        if (oldSubjectIndex != -1)\r\n          subjectsStateValue[oldSubjectIndex] = { ...subject, id: oldSubject.id }\r\n        return subjectsStateValue\r\n      })\r\n    },\r\n    [setSubjects],\r\n  )\r\n\r\n  return {\r\n    subjects,\r\n    setSubjects,\r\n    resetState,\r\n    addSubject,\r\n    deleteSubject,\r\n    getSubjectById,\r\n    editSubject,\r\n  }\r\n}\r\nexport default useSubjectsState\r\n","import { Timetable, Day } from '@models/Timetable'\r\nimport { isWithinInterval } from 'date-fns'\r\nimport { range } from 'lodash'\r\n\r\nexport const compile = ({ title, id, sessions }: Timetable<'dynamic'>): Timetable<'static'> => ({\r\n  title,\r\n  id,\r\n  days: range(0, 7).map(i =>\r\n    compileDay({ index: i, sessions: sessions.filter(({ dayIndex }) => dayIndex === i) }),\r\n  ),\r\n})\r\nconst compileDay = ({ index, sessions }: Day<'dynamic'>): Day<'static'> => ({\r\n  index,\r\n  sessions: sessions\r\n    .filter(({ shelfLife: { start, end } }) =>\r\n      isWithinInterval(new Date().getTime(), {\r\n        start: start != null ? start : 0,\r\n        end: end != null ? end : 1e15,\r\n      }),\r\n    )\r\n    .map(({ id, start, end, subjectId }) => ({\r\n      id,\r\n      start,\r\n      end,\r\n      subjectId,\r\n      highlighted: isSessionHighlighted(start, end) && isDayHighlighted(index),\r\n    })),\r\n  highlighted: isDayHighlighted(index),\r\n})\r\nconst isSessionHighlighted = (start: number, end: number) => {\r\n  const now = new Date()\r\n  const hours = now.getHours() + now.getMinutes() / 60\r\n\r\n  return start <= hours && hours <= end\r\n}\r\nconst isDayHighlighted = (index: number) => index === new Date().getDay()\r\n","import { myTimetable, myTimetable2 } from '@constants/myTimetable'\r\nimport { Timetable } from '@models/Timetable'\r\nimport { persistAtom } from '@utils/storage'\r\nimport { parseTimetableState } from '@utils/timetable'\r\nimport { atom } from 'recoil'\r\n\r\nexport type TimetablesStateType = {\r\n  active?: Timetable<'dynamic'>['id']\r\n  timetables: Timetable<'dynamic'>[]\r\n}\r\n\r\nexport const timetablesAtom = atom<TimetablesStateType>({\r\n  key: 'timetablesState',\r\n  default: {\r\n    active: 'S2',\r\n    timetables: [myTimetable, myTimetable2],\r\n  },\r\n  effects: [persistAtom('timetablesState', { parse: parseTimetableState })],\r\n})\r\n","import { TimetablesStateType } from '@atoms/timetablesState'\r\nimport { Session, Timetable } from '@models/Timetable'\r\nimport { cloneDeep } from 'lodash'\r\n\r\nexport const parseTimetableState = (text: string): TimetablesStateType | null => {\r\n  return JSON.parse(text, (key, value) => {\r\n    if (['start', 'end'].includes(key) && typeof value === 'string') return new Date(value)\r\n    else return value\r\n  })\r\n}\r\n\r\nexport const addSessionToTimetable = (\r\n  timetable: Timetable<'dynamic'>,\r\n  session: Session<'dynamic'>,\r\n): Timetable<'dynamic'> => {\r\n  const clone = cloneDeep(timetable)\r\n  clone.sessions.push(session)\r\n  return clone\r\n}\r\n\r\nexport const deleteSessionFromTimetable = (\r\n  timetable: Timetable<'dynamic'>,\r\n  sessionId: Session<'dynamic'>['id'],\r\n): Timetable<'dynamic'> => {\r\n  const clone = cloneDeep(timetable)\r\n  clone.sessions = clone.sessions.filter(session => session.id !== sessionId)\r\n  return clone\r\n}\r\n\r\nexport const editSessionInTimetable = (\r\n  timetable: Timetable<'dynamic'>,\r\n  sessionId: Session<'dynamic'>['id'],\r\n  newSession: Omit<Session<'dynamic'>, 'id'>,\r\n): Timetable<'dynamic'> => {\r\n  const clone = cloneDeep(timetable)\r\n  const oldSession = clone.sessions.find(session => session.id === sessionId)\r\n  if (oldSession) {\r\n    oldSession.subjectId = newSession.subjectId\r\n    oldSession.dayIndex = newSession.dayIndex\r\n    oldSession.start = newSession.start\r\n    oldSession.end = newSession.end\r\n    oldSession.shelfLife = newSession.shelfLife\r\n  }\r\n  return clone\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nconst useRealTime = (updateDurationMs: number) => {\r\n  const [time, setTime] = useState(new Date())\r\n  useEffect(() => {\r\n    const timeoutId = setInterval(() => {\r\n      setTime(new Date())\r\n    }, updateDurationMs)\r\n    return () => clearInterval(timeoutId)\r\n  }, [updateDurationMs])\r\n  return time\r\n}\r\n\r\nexport default useRealTime\r\n","import { timetablesAtom } from '@atoms/timetablesState'\r\nimport { Session, Timetable } from '@models/timetable'\r\nimport { addSessionToTimetable, compile } from '@utils/timetable'\r\nimport { deleteSessionFromTimetable, editSessionInTimetable } from '@utils/timetable/manager'\r\nimport { cloneDeep } from 'lodash'\r\nimport { useCallback, useMemo } from 'react'\r\nimport { useRecoilState, useResetRecoilState } from 'recoil'\r\nimport useRealTime from './useRealTime'\r\n\r\nconst useTimetablesState = () => {\r\n  const [timetablesState, setTimetablesState] = useRecoilState(timetablesAtom)\r\n  const resetTimetablesState = useResetRecoilState(timetablesAtom)\r\n  const time = useRealTime(60 * 1000).getMinutes()\r\n  const { timetables, active: activeTimetableId } = timetablesState\r\n  const activeTimetable = useMemo(\r\n    () => timetablesState.timetables.find(({ id }) => id === timetablesState.active),\r\n    [timetablesState.active, timetablesState.timetables],\r\n  )\r\n  const activeStaticTimetable = useMemo(\r\n    () => (activeTimetable ? compile(activeTimetable) : undefined),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [activeTimetable, time],\r\n  )\r\n  const addTimetable = useCallback(\r\n    (timetableToAdd: Timetable<'dynamic'>) => {\r\n      setTimetablesState(oldState => {\r\n        const stateCopy = cloneDeep(oldState)\r\n        stateCopy.timetables.push(timetableToAdd)\r\n        return stateCopy\r\n      })\r\n    },\r\n    [setTimetablesState],\r\n  )\r\n  const setActiveTimetableId = useCallback(\r\n    (idOrUpdater: string | ((idsList: string[]) => string)) => {\r\n      if (typeof idOrUpdater === 'string')\r\n        setTimetablesState(oldState => ({ ...oldState, active: idOrUpdater }))\r\n      else\r\n        setTimetablesState(oldState => ({\r\n          ...oldState,\r\n          active: idOrUpdater(oldState.timetables.map(timetable => timetable.id)),\r\n        }))\r\n    },\r\n    [setTimetablesState],\r\n  )\r\n  const addSession = useCallback(\r\n    (sessionToAdd: Session<'dynamic'>) => {\r\n      setTimetablesState(oldState => {\r\n        const stateCopy = cloneDeep(oldState)\r\n        const activeTimetableIndex = stateCopy.timetables.findIndex(\r\n          ({ id }) => id === activeTimetableId,\r\n        )\r\n        if (activeTimetable && activeTimetableIndex !== -1)\r\n          stateCopy.timetables[activeTimetableIndex] = addSessionToTimetable(\r\n            activeTimetable,\r\n            sessionToAdd,\r\n          )\r\n        return stateCopy\r\n      })\r\n    },\r\n    [activeTimetable, activeTimetableId, setTimetablesState],\r\n  )\r\n  const deleteTimetable = useCallback(\r\n    (id: string) => {\r\n      setTimetablesState(oldState => {\r\n        const stateCopy = cloneDeep(oldState)\r\n        stateCopy.timetables = stateCopy.timetables.filter(timetable => timetable.id !== id)\r\n        stateCopy.active = undefined\r\n        return stateCopy\r\n      })\r\n    },\r\n    [setTimetablesState],\r\n  )\r\n  const editTimetableTitle = useCallback(\r\n    (id: string, title: string) => {\r\n      setTimetablesState(oldState => {\r\n        const stateCopy = cloneDeep(oldState)\r\n        stateCopy.timetables.forEach(timetable => {\r\n          if (timetable.id === id) timetable.title = title\r\n        })\r\n        return stateCopy\r\n      })\r\n    },\r\n    [setTimetablesState],\r\n  )\r\n  const getTimetableById = useCallback(\r\n    (id: string) => timetables.find(timetable => timetable.id === id),\r\n    [timetables],\r\n  )\r\n  const getSessionById = useCallback(\r\n    (sessionId: Session<'dynamic'>['id']) =>\r\n      activeTimetable?.sessions.find(session => session.id === sessionId),\r\n    [activeTimetable?.sessions],\r\n  )\r\n  const deleteSession = useCallback(\r\n    (sessionId: Session<'dynamic'>['id']) =>\r\n      setTimetablesState(oldState => {\r\n        const stateCopy = cloneDeep(oldState)\r\n        const activeTimetableIndex = stateCopy.timetables.findIndex(\r\n          ({ id }) => id === activeTimetableId,\r\n        )\r\n        if (activeTimetable && activeTimetableIndex !== -1)\r\n          stateCopy.timetables[activeTimetableIndex] = deleteSessionFromTimetable(\r\n            activeTimetable,\r\n            sessionId,\r\n          )\r\n        return stateCopy\r\n      }),\r\n    [activeTimetable, activeTimetableId, setTimetablesState],\r\n  )\r\n  const editSession = useCallback(\r\n    (sessionId: Session<'dynamic'>['id'], session: Omit<Session<'dynamic'>, 'id'>) =>\r\n      setTimetablesState(oldState => {\r\n        const stateCopy = cloneDeep(oldState)\r\n        const activeTimetableIndex = stateCopy.timetables.findIndex(\r\n          ({ id }) => id === activeTimetableId,\r\n        )\r\n        if (activeTimetable && activeTimetableIndex !== -1)\r\n          stateCopy.timetables[activeTimetableIndex] = editSessionInTimetable(\r\n            activeTimetable,\r\n            sessionId,\r\n            session,\r\n          )\r\n        return stateCopy\r\n      }),\r\n    [activeTimetable, activeTimetableId, setTimetablesState],\r\n  )\r\n  return {\r\n    resetTimetablesState,\r\n    timetables,\r\n    activeTimetableId,\r\n    activeTimetable,\r\n    activeStaticTimetable,\r\n    addTimetable,\r\n    setActiveTimetableId,\r\n    addSession,\r\n    deleteTimetable,\r\n    editTimetableTitle,\r\n    getTimetableById,\r\n    getSessionById,\r\n    deleteSession,\r\n    editSession,\r\n  }\r\n}\r\nexport default useTimetablesState\r\n","import { persistAtom } from '@utils/storage'\r\nimport { atom } from 'recoil'\r\n\r\nexport type Settings = {\r\n  general: {\r\n    theme: 'System preference' | 'Light' | 'Dark'\r\n    hourFormat: '12-hour' | '24-hour'\r\n  }\r\n  timetable: {\r\n    firstDayIndex: string\r\n    lastDayIndex: string\r\n  }\r\n}\r\nconst defaultValue: Settings = {\r\n  general: {\r\n    theme: 'System preference',\r\n    hourFormat: '12-hour',\r\n  },\r\n  timetable: {\r\n    firstDayIndex: '0',\r\n    lastDayIndex: '6',\r\n  },\r\n}\r\n\r\nexport const settingsAtom = atom<Settings>({\r\n  key: 'settingsState',\r\n  default: defaultValue,\r\n  effects: [\r\n    persistAtom('settingsState', {\r\n      defaultValue,\r\n    }),\r\n  ],\r\n})\r\n","import { Settings, settingsAtom } from '@atoms/settingsState'\r\nimport { cloneDeep } from 'lodash'\r\nimport { useCallback } from 'react'\r\nimport { useRecoilState, useResetRecoilState } from 'recoil'\r\n\r\nconst useSettingsState = () => {\r\n  const [settings, setSettings] = useRecoilState(settingsAtom)\r\n  const resetState = useResetRecoilState(settingsAtom)\r\n  const updateSettings = useCallback(\r\n    (updater: (settings: Settings) => void) => {\r\n      setSettings(oldSettings => {\r\n        const stateCopy = cloneDeep(oldSettings)\r\n        updater(stateCopy)\r\n        return stateCopy\r\n      })\r\n    },\r\n    [setSettings],\r\n  )\r\n\r\n  return {\r\n    settings,\r\n    updateSettings,\r\n    resetState,\r\n  }\r\n}\r\n\r\nexport default useSettingsState\r\n","import { useCallback, useState } from 'react'\r\nimport { LayoutChangeEvent, LayoutRectangle } from 'react-native'\r\n\r\nconst useLayoutEvent = () => {\r\n  const [isSet, setIsSet] = useState(false)\r\n  const [event, setEvent] = useState<LayoutRectangle>()\r\n  const onLayout = useCallback((event: LayoutChangeEvent) => {\r\n    setEvent(event.nativeEvent.layout)\r\n    setIsSet(true)\r\n  }, [])\r\n  return {\r\n    event,\r\n    onLayout,\r\n    isSet,\r\n  }\r\n}\r\n\r\nexport default useLayoutEvent\r\n","import { Event } from '@models'\r\nimport { persistAtom } from '@utils/storage'\r\nimport { atom } from 'recoil'\r\n\r\nexport const eventsState = atom<Event[]>({\r\n  key: 'eventsState',\r\n  default: [\r\n    {\r\n      date: new Date(2022, 4, 9),\r\n      id: 'eventId1',\r\n      name: 'event 1',\r\n      note: 'no notes for you',\r\n      subjectId: 'M12-1',\r\n      type: 'exam',\r\n    },\r\n    {\r\n      date: new Date(2022, 4, 9),\r\n      id: 'eventId2',\r\n      name: 'event 2',\r\n      note: 'no notes for you',\r\n      subjectId: 'M12-2',\r\n      type: 'exam',\r\n    },\r\n    {\r\n      date: new Date(2022, 4, 9),\r\n      id: 'eventId3',\r\n      name: 'event 3',\r\n      note: 'no notes for you',\r\n      subjectId: 'M11-1',\r\n      type: 'exam',\r\n    },\r\n    {\r\n      date: new Date(2022, 4, 10),\r\n      id: 'eventId4',\r\n      name: 'event 4',\r\n      note: 'no notes for you',\r\n      subjectId: 'M13-1',\r\n      type: 'exam',\r\n    },\r\n    {\r\n      date: new Date(2022, 4, 20),\r\n      id: 'eventId4',\r\n      name: 'event 4',\r\n      note: 'no notes for you',\r\n      subjectId: 'M9',\r\n      type: 'exam',\r\n    },\r\n  ],\r\n  effects: [persistAtom('eventsState')],\r\n})\r\n","import {\r\n  AntDesign,\r\n  Entypo,\r\n  EvilIcons,\r\n  Feather,\r\n  FontAwesome,\r\n  FontAwesome5,\r\n  Fontisto,\r\n  Foundation,\r\n  Ionicons,\r\n  MaterialCommunityIcons,\r\n  MaterialIcons,\r\n  Octicons,\r\n  SimpleLineIcons,\r\n  Zocial,\r\n} from '@expo/vector-icons'\r\nimport { FC } from 'react'\r\nimport { StyleProp, ViewStyle } from 'react-native'\r\nimport { useTheme } from 'react-native-paper'\r\n\r\nconst Packs = {\r\n  AntDesign,\r\n  Entypo,\r\n  EvilIcons,\r\n  Feather,\r\n  FontAwesome,\r\n  FontAwesome5,\r\n  Fontisto,\r\n  Foundation,\r\n  Ionicons,\r\n  MaterialCommunityIcons,\r\n  MaterialIcons,\r\n  Octicons,\r\n  SimpleLineIcons,\r\n  Zocial,\r\n}\r\n\r\ntype PacksType = typeof Packs\r\n\r\ntype Icon =\r\n  | { pack: 'AntDesign'; icon: keyof PacksType['AntDesign']['glyphMap'] }\r\n  | { pack: 'Entypo'; icon: keyof PacksType['Entypo']['glyphMap'] }\r\n  | { pack: 'EvilIcons'; icon: keyof PacksType['EvilIcons']['glyphMap'] }\r\n  | { pack: 'Feather'; icon: keyof PacksType['Feather']['glyphMap'] }\r\n  | { pack: 'FontAwesome'; icon: keyof PacksType['FontAwesome']['glyphMap'] }\r\n  | { pack: 'FontAwesome5'; icon: keyof PacksType['FontAwesome5']['glyphMap'] }\r\n  | { pack: 'Fontisto'; icon: keyof PacksType['Fontisto']['glyphMap'] }\r\n  | { pack: 'Foundation'; icon: keyof PacksType['Foundation']['glyphMap'] }\r\n  | { pack: 'Ionicons'; icon: keyof PacksType['Ionicons']['glyphMap'] }\r\n  | {\r\n      pack: 'MaterialCommunityIcons'\r\n      icon: keyof PacksType['MaterialCommunityIcons']['glyphMap']\r\n    }\r\n  | { pack: 'MaterialIcons'; icon: keyof PacksType['MaterialIcons']['glyphMap'] }\r\n  | { pack: 'Octicons'; icon: keyof PacksType['Octicons']['glyphMap'] }\r\n  | { pack: 'SimpleLineIcons'; icon: keyof PacksType['SimpleLineIcons']['glyphMap'] }\r\n  | { pack: 'Zocial'; icon: keyof PacksType['Zocial']['glyphMap'] }\r\n\r\ntype IconProps = Icon & {\r\n  style?: StyleProp<ViewStyle>\r\n  color?: string\r\n  size?: number\r\n}\r\n\r\nconst Icon: FC<IconProps> = ({ icon, pack, color, size = 24, style }) => {\r\n  const { colors } = useTheme()\r\n  const IconPack = Packs[pack]\r\n  return <IconPack name={icon} color={color ?? colors.text} size={size} style={style} />\r\n}\r\nexport default Icon\r\n","import { ComponentProps, FC } from 'react'\r\nimport { Platform, TouchableOpacity } from 'react-native'\r\nimport { TouchableNativeFeedback } from 'react-native-gesture-handler'\r\n\r\ntype Props = ComponentProps<typeof TouchableOpacity & typeof TouchableNativeFeedback>\r\n\r\nconst PlatformTouchable: FC<Props> = props => {\r\n  return Platform.OS === 'android' ? (\r\n    <TouchableNativeFeedback {...props} />\r\n  ) : (\r\n    <TouchableOpacity activeOpacity={0.8} {...props} />\r\n  )\r\n}\r\nexport default PlatformTouchable\r\n","/* eslint-disable react-native/no-unused-styles */\r\nimport Icon from '@components/UI/Icon'\r\nimport { fonts, spacing } from '@constants'\r\nimport { ComponentProps, ReactNode, useMemo } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { gestureHandlerRootHOC, TouchableNativeFeedback } from 'react-native-gesture-handler'\r\nimport { Text, useTheme } from 'react-native-paper'\r\nimport PlatformTouchable from './PlatformTouchable'\r\n\r\nexport type PickerProps<T = string> = {\r\n  style?: StyleProp<ViewStyle>\r\n  label?: string\r\n  value?: T\r\n  valueComponent?: ReactNode\r\n  placeholder?: string\r\n  icon?: ReactNode\r\n  error?: boolean\r\n  onChange?: (newValue: string) => void\r\n  contentAlignment?: 'vertical' | 'horizontal'\r\n  valueStyle?: StyleProp<ViewStyle>\r\n  labelStyle?: StyleProp<ViewStyle>\r\n  title?: string\r\n} & ComponentProps<typeof TouchableNativeFeedback>\r\n\r\nconst Picker = ({\r\n  value,\r\n  label,\r\n  style,\r\n  placeholder,\r\n  icon,\r\n  error,\r\n  valueComponent,\r\n  contentAlignment = 'horizontal',\r\n  valueStyle,\r\n  labelStyle,\r\n  ...rest\r\n}: PickerProps<string> & { children?: ReactNode }) => {\r\n  const { colors } = useTheme()\r\n  const isHor = contentAlignment === 'horizontal'\r\n  const styles = useMemo(\r\n    () =>\r\n      StyleSheet.create({\r\n        container: {\r\n          paddingVertical: spacing.xl,\r\n          paddingHorizontal: spacing.l,\r\n          flexDirection: 'row',\r\n          alignItems: 'center',\r\n          flexShrink: 1,\r\n        },\r\n        iconContainer: {\r\n          marginRight: spacing.l,\r\n          width: 24,\r\n          aspectRatio: 1,\r\n        },\r\n        contentContainer: {\r\n          flexDirection: isHor ? 'row' : 'column',\r\n          flex: 1,\r\n        },\r\n        labelContainer: {\r\n          width: isHor ? 60 : undefined,\r\n          marginRight: spacing.l,\r\n        },\r\n        label: {\r\n          fontSize: fonts.sizes.regular,\r\n          lineHeight: fonts.sizes.regular + 2,\r\n        },\r\n        value: {\r\n          flexShrink: 1,\r\n          fontSize: fonts.sizes.regular,\r\n          lineHeight: fonts.sizes.regular + 2,\r\n          color: colors.accent,\r\n        },\r\n      }),\r\n    [colors.accent, isHor],\r\n  )\r\n  return (\r\n    <PlatformTouchable style={[styles.container, style]} {...rest}>\r\n      <View style={styles.iconContainer}>{icon}</View>\r\n      <View style={styles.contentContainer}>\r\n        {label && (\r\n          <View style={styles.labelContainer}>\r\n            <Text style={[styles.label, labelStyle]} numberOfLines={1}>\r\n              {label}\r\n            </Text>\r\n          </View>\r\n        )}\r\n        <View>\r\n          {valueComponent ? (\r\n            valueComponent\r\n          ) : value ? (\r\n            <Text style={[styles.value, valueStyle]}>{value}</Text>\r\n          ) : isHor ? (\r\n            <Text style={[styles.value, { color: colors.placeholder }]}>{placeholder}</Text>\r\n          ) : null}\r\n        </View>\r\n      </View>\r\n      <View>\r\n        {error && <Icon pack=\"MaterialCommunityIcons\" icon=\"close-circle\" color={colors.error} />}\r\n      </View>\r\n    </PlatformTouchable>\r\n  )\r\n}\r\nexport default gestureHandlerRootHOC(Picker, { flex: undefined })\r\n","import DateTimePicker, { Event } from '@react-native-community/datetimepicker'\r\nimport { format, parseJSON } from 'date-fns'\r\nimport { FC, useState } from 'react'\r\nimport Icon from './Icon'\r\nimport Picker, { PickerProps } from './Picker'\r\n\r\ntype Props = PickerProps\r\n\r\nconst DatePicker: FC<Props> = ({\r\n  value,\r\n  label,\r\n  style,\r\n  placeholder = 'Pick a date',\r\n  onChange,\r\n  ...rest\r\n}) => {\r\n  const [show, setShow] = useState(false)\r\n  const onDateChange = (_: Event, date?: Date) => {\r\n    setShow(false)\r\n    !!date && onChange?.(date.toISOString())\r\n  }\r\n  const onPress = () => setShow(true)\r\n  const dateValue = value != undefined ? parseJSON(value) : undefined\r\n  return (\r\n    <>\r\n      <Picker\r\n        value={dateValue && format(dateValue, 'yyyy / MM / dd')}\r\n        onPress={onPress}\r\n        icon={<Icon pack=\"MaterialCommunityIcons\" icon=\"calendar-range\" />}\r\n        placeholder={placeholder}\r\n        label={label}\r\n        style={style}\r\n        {...rest}\r\n      />\r\n      {show && (\r\n        <DateTimePicker\r\n          value={dateValue ?? new Date()}\r\n          mode=\"date\"\r\n          onChange={onDateChange}\r\n          textColor=\"red\"\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\nexport default DatePicker\r\n","/* eslint-disable react/prop-types */\r\nimport { FC, useState } from 'react'\r\nimport { ScrollView, StyleSheet } from 'react-native'\r\nimport { Dialog, Portal, RadioButton, useTheme } from 'react-native-paper'\r\nimport Icon from './Icon'\r\nimport Picker, { PickerProps } from './Picker'\r\n\r\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'] as const\r\n\r\ntype Props = PickerProps & {\r\n  maxValue?: string\r\n  minValue?: string\r\n}\r\n\r\nconst DayPicker: FC<Props> = ({\r\n  style,\r\n  placeholder = 'Pick a day',\r\n  value,\r\n  onChange,\r\n  maxValue = '6',\r\n  minValue = '0',\r\n  title,\r\n  ...rest\r\n}) => {\r\n  const [visible, setVisible] = useState(false)\r\n  const onPress = () => setVisible(true)\r\n  const onDismiss = () => setVisible(false)\r\n  const onValueChanged = (newValue: string) => {\r\n    onChange?.(newValue)\r\n    onDismiss()\r\n  }\r\n  const { colors } = useTheme()\r\n  return (\r\n    <>\r\n      <Picker\r\n        value={value != undefined ? days[parseInt(value)] : undefined}\r\n        onPress={onPress}\r\n        icon={<Icon pack=\"MaterialCommunityIcons\" icon=\"calendar\" />}\r\n        placeholder={placeholder}\r\n        style={style}\r\n        {...rest}\r\n      />\r\n      <Portal>\r\n        <Dialog visible={visible} onDismiss={onDismiss} style={styles.dialog}>\r\n          <Dialog.Title>{title ?? 'Pick a day'}</Dialog.Title>\r\n          <Dialog.ScrollArea style={{ paddingHorizontal: 0 }}>\r\n            <ScrollView>\r\n              <RadioButton.Group value={String(value) ?? ''} onValueChange={onValueChanged}>\r\n                {days.map((day, i) => {\r\n                  const disabled = parseInt(minValue) > i || parseInt(maxValue) < i\r\n                  return (\r\n                    <RadioButton.Item\r\n                      key={i}\r\n                      label={day}\r\n                      value={String(i)}\r\n                      disabled={disabled}\r\n                      labelStyle={{\r\n                        textAlign: undefined,\r\n                        color: disabled ? colors.disabled : colors.text,\r\n                      }}\r\n                      style={{ backgroundColor: undefined, marginHorizontal: 0 }}\r\n                    />\r\n                  )\r\n                })}\r\n              </RadioButton.Group>\r\n            </ScrollView>\r\n          </Dialog.ScrollArea>\r\n        </Dialog>\r\n      </Portal>\r\n    </>\r\n  )\r\n}\r\nexport default DayPicker\r\nconst styles = StyleSheet.create({\r\n  dialog: {\r\n    marginVertical: 100,\r\n  },\r\n})\r\n","import { colors } from '@constants'\r\nimport { MaterialIcons } from '@expo/vector-icons'\r\nimport { FC } from 'react'\r\nimport { HeaderButton as DefaultHeaderButton } from 'react-navigation-header-buttons'\r\n\r\ntype HeaderButtonProps = DefaultHeaderButton['props']\r\n\r\nconst HeaderButton: FC<HeaderButtonProps> = props => {\r\n  return (\r\n    <DefaultHeaderButton\r\n      {...props}\r\n      iconSize={24}\r\n      IconComponent={MaterialIcons}\r\n      color={colors.primary}\r\n    />\r\n  )\r\n}\r\nexport default HeaderButton\r\n","import {\r\n  AntDesign,\r\n  Entypo,\r\n  EvilIcons,\r\n  Feather,\r\n  FontAwesome,\r\n  FontAwesome5,\r\n  Fontisto,\r\n  Foundation,\r\n  Ionicons,\r\n  MaterialCommunityIcons,\r\n  MaterialIcons,\r\n  Octicons,\r\n  SimpleLineIcons,\r\n  Zocial,\r\n} from '@expo/vector-icons'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, TouchableOpacity, ViewStyle } from 'react-native'\r\n\r\nconst Packs = {\r\n  AntDesign,\r\n  Entypo,\r\n  EvilIcons,\r\n  Feather,\r\n  FontAwesome,\r\n  FontAwesome5,\r\n  Fontisto,\r\n  Foundation,\r\n  Ionicons,\r\n  MaterialCommunityIcons,\r\n  MaterialIcons,\r\n  Octicons,\r\n  SimpleLineIcons,\r\n  Zocial,\r\n}\r\n\r\ntype PacksType = typeof Packs\r\n\r\ntype Icon =\r\n  | { pack: 'AntDesign'; icon: keyof PacksType['AntDesign']['glyphMap'] }\r\n  | { pack: 'Entypo'; icon: keyof PacksType['Entypo']['glyphMap'] }\r\n  | { pack: 'EvilIcons'; icon: keyof PacksType['EvilIcons']['glyphMap'] }\r\n  | { pack: 'Feather'; icon: keyof PacksType['Feather']['glyphMap'] }\r\n  | { pack: 'FontAwesome'; icon: keyof PacksType['FontAwesome']['glyphMap'] }\r\n  | { pack: 'FontAwesome5'; icon: keyof PacksType['FontAwesome5']['glyphMap'] }\r\n  | { pack: 'Fontisto'; icon: keyof PacksType['Fontisto']['glyphMap'] }\r\n  | { pack: 'Foundation'; icon: keyof PacksType['Foundation']['glyphMap'] }\r\n  | { pack: 'Ionicons'; icon: keyof PacksType['Ionicons']['glyphMap'] }\r\n  | {\r\n      pack: 'MaterialCommunityIcons'\r\n      icon: keyof PacksType['MaterialCommunityIcons']['glyphMap']\r\n    }\r\n  | { pack: 'MaterialIcons'; icon: keyof PacksType['MaterialIcons']['glyphMap'] }\r\n  | { pack: 'Octicons'; icon: keyof PacksType['Octicons']['glyphMap'] }\r\n  | { pack: 'SimpleLineIcons'; icon: keyof PacksType['SimpleLineIcons']['glyphMap'] }\r\n  | { pack: 'Zocial'; icon: keyof PacksType['Zocial']['glyphMap'] }\r\n\r\n// type IconButtonProps = Icon & TouchableOpacity['props'] & { color: string }\r\n\r\ntype IconButtonProps = Icon & {\r\n  color?: string\r\n  size?: number\r\n\r\n  onPress?: () => void\r\n  onPressIn?: () => void\r\n  onPressOut?: () => void\r\n  style?: StyleProp<ViewStyle>\r\n}\r\n\r\nconst IconButton: FC<IconButtonProps> = ({\r\n  icon,\r\n  pack,\r\n  color,\r\n  onPress,\r\n  onPressIn,\r\n  onPressOut,\r\n  size = 22,\r\n  style,\r\n}) => {\r\n  const IconPack = Packs[pack]\r\n  return (\r\n    <TouchableOpacity\r\n      style={[styles.container, style]}\r\n      onPress={onPress}\r\n      onPressIn={onPressIn}\r\n      onPressOut={onPressOut}>\r\n      <IconPack name={icon} color={color} size={size} />\r\n    </TouchableOpacity>\r\n  )\r\n}\r\nexport default IconButton\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n})\r\n","import { ComponentProps, FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { gestureHandlerRootHOC, TouchableNativeFeedback } from 'react-native-gesture-handler'\r\nimport { RadioButton, Text } from 'react-native-paper'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n} & ComponentProps<typeof RadioButton.Item>\r\n\r\nconst RadioItem: FC<Props> = ({ style, ...rest }) => {\r\n  return (\r\n    <TouchableNativeFeedback style={[styles.container, style]} onPress={rest.onPress}>\r\n      <View style={styles.innerContainer} pointerEvents=\"none\">\r\n        <Text style={undefined}>{rest.label}</Text>\r\n        <RadioButton.Item\r\n          {...rest}\r\n          style={styles.radioItem}\r\n          onPress={undefined}\r\n          position=\"leading\"\r\n        />\r\n      </View>\r\n    </TouchableNativeFeedback>\r\n  )\r\n}\r\nexport default gestureHandlerRootHOC(RadioItem, { flex: 0 })\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    padding: 24,\r\n    flexShrink: 1,\r\n  },\r\n  innerContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: 'red',\r\n  },\r\n  radioItem: {\r\n    padding: 0,\r\n    margin: 0,\r\n    backgroundColor: 'blue',\r\n  },\r\n})\r\n","import { FC } from 'react'\r\nimport { ScrollView, StyleProp, View, ViewStyle } from 'react-native'\r\nimport { OptimizedHeavyScreen } from 'react-navigation-heavy-screen'\r\n\r\ntype Props = {\r\n  optimize?: boolean\r\n  scrollable?: boolean\r\n  style?: StyleProp<ViewStyle>\r\n}\r\n\r\nconst Screen: FC<Props> = ({ children, optimize = false, scrollable = false, style }) => {\r\n  const ParentView = scrollable ? ScrollView : View\r\n  return (\r\n    <ParentView style={[{ flex: 1 }, style]}>\r\n      {optimize ? <OptimizedHeavyScreen>{children}</OptimizedHeavyScreen> : children}\r\n    </ParentView>\r\n  )\r\n}\r\nexport default Screen\r\n","import { FC } from 'react'\r\nimport { View } from 'react-native'\r\nimport { Divider } from 'react-native-paper'\r\n\r\ntype Props = {\r\n  height?: number\r\n  topDivider?: boolean\r\n  bottomDivider?: boolean\r\n}\r\n\r\nconst Space: FC<Props> = ({ height = 40, topDivider, bottomDivider }) => (\r\n  <>\r\n    {topDivider && <Divider />}\r\n    <View style={{ alignSelf: 'stretch', height }} />\r\n    {bottomDivider && <Divider />}\r\n  </>\r\n)\r\nexport default Space\r\n","import { colors } from '@constants'\r\nimport { DefaultTheme as NavigationDefaultTheme } from '@react-navigation/native'\r\nimport { DefaultTheme as PaperDefaultTheme } from 'react-native-paper'\r\nexport const paperTheme: typeof PaperDefaultTheme = {\r\n  ...PaperDefaultTheme,\r\n  colors: {\r\n    ...PaperDefaultTheme.colors,\r\n    primary: colors.primary,\r\n    accent: colors.accent,\r\n    text: colors.text,\r\n    placeholder: colors.faintText,\r\n    error: colors.error,\r\n  },\r\n  fonts: {\r\n    regular: { fontFamily: 'Poppins_400Regular', fontWeight: 'normal' },\r\n    light: { fontFamily: 'Poppins_200ExtraLight', fontWeight: 'normal' },\r\n    medium: { fontFamily: 'Poppins_500Medium', fontWeight: 'normal' },\r\n    thin: { fontFamily: 'Poppins_200Extra', fontWeight: 'normal' },\r\n  },\r\n}\r\nexport const navigationTheme: typeof NavigationDefaultTheme = {\r\n  ...NavigationDefaultTheme,\r\n  colors: {\r\n    ...NavigationDefaultTheme.colors,\r\n    primary: colors.primary,\r\n    text: colors.primary,\r\n    background: 'white',\r\n    border: 'transparent',\r\n  },\r\n}\r\n","import fonts from '@constants/fonts'\r\nimport spacing from '@constants/spacing'\r\nimport { MaterialIcons } from '@expo/vector-icons'\r\nimport { paperTheme } from '@utils/theme'\r\nimport { ComponentProps, FC } from 'react'\r\nimport { Platform, StyleSheet, TextInput as NativeTextInput, View } from 'react-native'\r\nimport { useTheme } from 'react-native-paper'\r\nimport Icon from './Icon'\r\n\r\ntype Props = ComponentProps<typeof NativeTextInput> & {\r\n  icon?: keyof typeof MaterialIcons['glyphMap']\r\n  error?: boolean\r\n}\r\nconst webOutlineStyle = Platform.OS === 'web' ? { outlineStyle: 'none' } : {}\r\nconst TextInput: FC<Props> = ({ style, icon, error, ...rest }) => {\r\n  const { colors } = useTheme()\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      {icon && (\r\n        <Icon style={[styles.icon, { paddingRight: spacing.l }]} pack=\"MaterialIcons\" icon={icon} />\r\n      )}\r\n      <NativeTextInput\r\n        style={[styles.textInput, webOutlineStyle as any]}\r\n        placeholderTextColor={colors.placeholder}\r\n        {...rest}\r\n      />\r\n      {error && (\r\n        <Icon\r\n          style={[styles.icon, { paddingLeft: spacing.l }]}\r\n          pack=\"MaterialCommunityIcons\"\r\n          icon=\"close-circle\"\r\n          color={colors.error}\r\n        />\r\n      )}\r\n    </View>\r\n  )\r\n}\r\nexport default TextInput\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    paddingHorizontal: spacing.l,\r\n  },\r\n  textInput: {\r\n    flex: 1,\r\n    fontSize: fonts.sizes.regular,\r\n    fontFamily: paperTheme.fonts.regular.fontFamily,\r\n    height: '100%',\r\n  },\r\n  icon: {\r\n    paddingVertical: spacing.xl,\r\n  },\r\n})\r\n","import DateTimePicker, { Event } from '@react-native-community/datetimepicker'\r\nimport { format, parseJSON } from 'date-fns'\r\nimport { FC, useState } from 'react'\r\nimport Icon from './Icon'\r\nimport Picker, { PickerProps } from './Picker'\r\n\r\ntype Props = PickerProps\r\n\r\nconst TimePicker: FC<Props> = ({\r\n  value,\r\n  label,\r\n  style,\r\n  placeholder = 'Pick a time',\r\n  onChange,\r\n  ...rest\r\n}) => {\r\n  const [show, setShow] = useState(false)\r\n  const onDateChange = (_: Event, date?: Date) => {\r\n    setShow(false)\r\n    !!date && onChange?.(date.toISOString())\r\n  }\r\n  const onPress = () => setShow(true)\r\n  const dateValue = value != undefined ? parseJSON(value) : undefined\r\n  return (\r\n    <>\r\n      <Picker\r\n        value={dateValue && format(dateValue, 'h:m a')}\r\n        onPress={onPress}\r\n        icon={<Icon pack=\"MaterialIcons\" icon=\"access-time\" />}\r\n        placeholder={placeholder}\r\n        label={label}\r\n        style={style}\r\n        {...rest}\r\n      />\r\n      {show && (\r\n        <DateTimePicker\r\n          value={dateValue ?? new Date()}\r\n          mode=\"time\"\r\n          onChange={onDateChange}\r\n          textColor=\"red\"\r\n          timeZoneOffsetInMinutes={0}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\nexport default TimePicker\r\n","import { colors } from '@constants'\r\nimport { FC, ReactNode } from 'react'\r\nimport { StyleProp, StyleSheet, ViewStyle } from 'react-native'\r\nimport { Button, Dialog, Portal } from 'react-native-paper'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  visible?: boolean\r\n  onDismiss?: () => void\r\n  onConfirm?: () => void\r\n  title?: ReactNode\r\n  deleteButton?: boolean\r\n}\r\n\r\nconst ConfirmationDialog: FC<Props> = ({\r\n  style,\r\n  children,\r\n  onConfirm,\r\n  onDismiss,\r\n  visible = false,\r\n  deleteButton = false,\r\n  title,\r\n}) => {\r\n  return (\r\n    <Portal>\r\n      <Dialog style={[styles.dialog, style]} visible={visible} onDismiss={onDismiss}>\r\n        <Dialog.Title>{title}</Dialog.Title>\r\n        <Dialog.Content>{children}</Dialog.Content>\r\n        <Dialog.Actions style={styles.actions}>\r\n          <Button\r\n            color={deleteButton ? colors.error : undefined}\r\n            onPress={() => {\r\n              onConfirm?.()\r\n              onDismiss?.()\r\n            }}>\r\n            {deleteButton ? 'Delete' : 'Confirm'}\r\n          </Button>\r\n          <Button onPress={onDismiss}>Cancel</Button>\r\n        </Dialog.Actions>\r\n      </Dialog>\r\n    </Portal>\r\n  )\r\n}\r\nexport default ConfirmationDialog\r\nconst styles = StyleSheet.create({\r\n  dialog: {\r\n    alignSelf: 'center',\r\n  },\r\n  actions: {\r\n    justifyContent: 'space-between',\r\n  },\r\n})\r\n","/* eslint-disable react/prop-types */\r\nimport { FC, useState } from 'react'\r\nimport { ScrollView, StyleSheet } from 'react-native'\r\nimport { Dialog, Portal, RadioButton, withTheme } from 'react-native-paper'\r\nimport Picker, { PickerProps } from './Picker'\r\n\r\ntype Props = PickerProps\r\n\r\nconst RadioPicker: FC<Props> & { Item: typeof Item } = ({ onChange, children, title, ...rest }) => {\r\n  const { value } = rest\r\n  const [visible, setVisible] = useState(false)\r\n  const onPress = () => setVisible(true)\r\n  const onDismiss = () => setVisible(false)\r\n  const onValueChanged = (newValue: string) => {\r\n    onChange?.(newValue)\r\n    onDismiss()\r\n  }\r\n  return (\r\n    <>\r\n      <Picker onPress={onPress} {...rest} />\r\n      <Portal>\r\n        <Dialog visible={visible} onDismiss={onDismiss} style={styles.dialog}>\r\n          {title && <Dialog.Title>{title}</Dialog.Title>}\r\n          <Dialog.ScrollArea style={{ paddingHorizontal: 0 }}>\r\n            <ScrollView>\r\n              <RadioButton.Group value={value ?? ''} onValueChange={onValueChanged}>\r\n                {children}\r\n              </RadioButton.Group>\r\n            </ScrollView>\r\n          </Dialog.ScrollArea>\r\n        </Dialog>\r\n      </Portal>\r\n    </>\r\n  )\r\n}\r\nconst Item: typeof RadioButton.Item = ({ labelStyle, ...rest }) => {\r\n  const { theme, disabled } = rest\r\n  return (\r\n    <RadioButton.Item\r\n      labelStyle={[\r\n        {\r\n          color: disabled ? theme?.colors?.disabled : theme?.colors?.text,\r\n        },\r\n        labelStyle,\r\n      ]}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\nRadioPicker.Item = withTheme(Item as any) as typeof Item\r\nexport default RadioPicker\r\nconst styles = StyleSheet.create({\r\n  dialog: {\r\n    marginVertical: 100,\r\n  },\r\n})\r\n","import { fonts, spacing } from '@constants'\r\nimport { ComponentProps, FC, ReactNode } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { gestureHandlerRootHOC, TouchableNativeFeedback } from 'react-native-gesture-handler'\r\nimport { Text } from 'react-native-paper'\r\nimport PlatformTouchable from './PlatformTouchable'\r\n\r\nexport type Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  icon?: ReactNode\r\n  title?: string\r\n} & ComponentProps<typeof TouchableNativeFeedback>\r\n\r\nconst WideButton: FC<Props> = ({ style, icon, title, ...rest }) => {\r\n  return (\r\n    <PlatformTouchable style={[styles.container, style]} {...rest}>\r\n      <View style={styles.iconContainer}>{icon}</View>\r\n      <View style={styles.contentContainer}>\r\n        <Text style={styles.title}>{title}</Text>\r\n      </View>\r\n    </PlatformTouchable>\r\n  )\r\n}\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    paddingVertical: spacing.xl,\r\n    paddingHorizontal: spacing.l,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    flexShrink: 1,\r\n  },\r\n  iconContainer: {\r\n    marginRight: spacing.l,\r\n    width: 24,\r\n    aspectRatio: 1,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n  },\r\n  title: {\r\n    fontSize: fonts.sizes.regular,\r\n    lineHeight: fonts.sizes.regular + 2,\r\n  },\r\n})\r\nexport default gestureHandlerRootHOC(WideButton, { flex: undefined })\r\n","import { Screen } from '@components/UI'\r\nimport { DrawerParamList } from '@navigation/DrawerNavigator'\r\nimport { DrawerScreenProps } from '@react-navigation/drawer'\r\nimport { FC } from 'react'\r\nimport { Text } from 'react-native-paper'\r\n\r\ntype Props = DrawerScreenProps<DrawerParamList, 'AgendaScreen'>\r\n\r\nconst AgendaScreen: FC<Props> = () => {\r\n  return (\r\n    <Screen scrollable>\r\n      <Text>AgendaScreen</Text>\r\n    </Screen>\r\n  )\r\n}\r\nexport default AgendaScreen\r\n","import { Screen } from '@components/UI'\r\nimport { useCalendarEvents } from '@hooks'\r\nimport { DrawerParamList } from '@navigation/DrawerNavigator'\r\nimport { DrawerScreenProps } from '@react-navigation/drawer'\r\nimport { format } from 'date-fns'\r\nimport { FC, useState } from 'react'\r\nimport { CalendarList, Calendar } from 'react-native-calendars'\r\n\r\ntype Props = DrawerScreenProps<DrawerParamList, 'CalendarScreen'>\r\n\r\nconst CalendarScreen: FC<Props> = () => {\r\n  // const { markedDates, selectedDate, setSelectedDate } = useCalendarEvents()\r\n  const [selectedDate, setSelectedDate] = useState(new Date())\r\n  const markedDates = { [`${format(selectedDate, 'yyyy-MM-dd')}`]: { selected: true } }\r\n  console.timeEnd('onDayPress')\r\n  // TODO: this shit takes forever to rerender on android\r\n  return (\r\n    <Screen scrollable>\r\n      <Calendar\r\n        horizontal\r\n        pagingEnabled\r\n        markingType=\"multi-dot\"\r\n        markedDates={markedDates}\r\n        onDayPress={day => {\r\n          console.time('onDayPress')\r\n          setSelectedDate(new Date(day.dateString))\r\n        }}\r\n        // onVisibleMonthsChange={months => {\r\n        //   console.log('now these months are visible', months)\r\n        // }}\r\n        // markedDates={{\r\n        //   '2022-05-09': { selected: true },\r\n        //   '2022-05-10': {\r\n        //     dots: [\r\n        //       { color: 'red' },\r\n        //       { color: 'blue' },\r\n        //       { color: 'purple' },\r\n        //       { color: 'cyan' },\r\n        //       { color: 'green' },\r\n        //     ],\r\n        //   },\r\n        // }}\r\n      />\r\n    </Screen>\r\n  )\r\n}\r\nexport default CalendarScreen\r\n","import { FC } from 'react'\r\nimport { StyleProp, View, ViewStyle } from 'react-native'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  size?: number\r\n}\r\n\r\nconst EmptyItem: FC<Props> = ({ style, size = 60 }) => {\r\n  return <View style={[{ width: size, height: 0 }, style]} />\r\n}\r\nexport default EmptyItem\r\n","import { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { gestureHandlerRootHOC } from 'react-native-gesture-handler'\r\nimport { Colors } from 'react-native-paper'\r\nimport tinycolor from 'tinycolor2'\r\nimport PlatformTouchable from '../PlatformTouchable'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  color?: string\r\n  size?: number\r\n  onPress?: () => void\r\n  active?: boolean\r\n}\r\n\r\nconst Item: FC<Props> = ({ style, color, size = 60, onPress, active }) => {\r\n  const borderColor = `#${tinycolor(color).darken(20).toHex()}`\r\n  return (\r\n    <View\r\n      style={[\r\n        styles.container,\r\n        {\r\n          backgroundColor: color,\r\n          width: size,\r\n          borderColor,\r\n          borderWidth: active ? 2 : 0,\r\n        },\r\n        style,\r\n      ]}>\r\n      {color && <PlatformTouchable onPress={onPress} style={{ width: size, aspectRatio: 1 }} />}\r\n    </View>\r\n  )\r\n}\r\nexport default gestureHandlerRootHOC(Item, { flex: undefined })\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    aspectRatio: 1,\r\n    borderRadius: 30,\r\n    overflow: 'hidden',\r\n    alignItems: 'stretch',\r\n    borderColor: Colors.grey400,\r\n  },\r\n})\r\n","import { spacing as constSpacing } from '@constants'\r\nimport { range } from 'lodash'\r\nimport { FC, useState } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport EmptyItem from './EmptyItem'\r\nimport Item from './Item'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  colors: string[]\r\n  itemSize?: number\r\n  spacing?: number\r\n  activeColorIndex?: number\r\n  onActiveColorChange?: (newActiveColorIndex: number) => void\r\n  width?: number\r\n}\r\n\r\nconst Grid: FC<Props> = ({\r\n  style,\r\n  colors,\r\n  itemSize = 60,\r\n  spacing = constSpacing.s,\r\n  activeColorIndex,\r\n  onActiveColorChange,\r\n}) => {\r\n  const [containerWidth, setContainerWidth] = useState<number>(0)\r\n  const emptySlots =\r\n    containerWidth != 0\r\n      ? colors.length % (containerWidth % (itemSize + 2 * spacing))\r\n      : colors.length\r\n  return (\r\n    <View\r\n      style={[styles.container, style]}\r\n      onLayout={\r\n        containerWidth == 0 ? event => setContainerWidth(event.nativeEvent.layout.width) : undefined\r\n      }>\r\n      {colors.map((color, index) => {\r\n        return (\r\n          <Item\r\n            key={index}\r\n            color={color}\r\n            active={activeColorIndex != undefined && color === colors[activeColorIndex]}\r\n            size={itemSize}\r\n            onPress={() => onActiveColorChange?.(index)}\r\n            style={{ margin: spacing }}\r\n          />\r\n        )\r\n      })}\r\n      {range(emptySlots).map(i => (\r\n        <EmptyItem key={i + colors.length} size={itemSize} style={{ marginHorizontal: spacing }} />\r\n      ))}\r\n    </View>\r\n  )\r\n}\r\nexport default Grid\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-between',\r\n  },\r\n})\r\n","import { range } from 'lodash'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { gestureHandlerRootHOC } from 'react-native-gesture-handler'\r\nimport PlatformTouchable from '../PlatformTouchable'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  colors?: string[]\r\n  activeColorIndex?: number\r\n  onActiveColorChange?: (newActiveColorIndex: number) => void\r\n}\r\n\r\nconst Variants: FC<Props> = ({ style, colors = [], activeColorIndex, onActiveColorChange }) => {\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      {range(colors.length).map(i => {\r\n        const color = colors[i]\r\n        const active = activeColorIndex != undefined && color === colors[activeColorIndex]\r\n        const height = active ? 56 : 50\r\n        return (\r\n          <View\r\n            key={i}\r\n            style={{\r\n              flex: 1,\r\n              backgroundColor: color,\r\n              height,\r\n            }}>\r\n            <PlatformTouchable\r\n              onPress={() => onActiveColorChange?.(i)}\r\n              style={{ height: height }}\r\n            />\r\n          </View>\r\n        )\r\n      })}\r\n    </View>\r\n  )\r\n}\r\nexport default gestureHandlerRootHOC(Variants, { flex: undefined })\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    flexDirection: 'row',\r\n    borderRadius: 10,\r\n    overflow: 'hidden',\r\n    height: 55,\r\n  },\r\n})\r\n","import spacing from '@constants/spacing'\r\nimport { sortBy, uniq } from 'lodash'\r\nimport { FC, useState } from 'react'\r\nimport { StyleSheet, View } from 'react-native'\r\nimport { ScrollView } from 'react-native-gesture-handler'\r\nimport { Button, Colors, Dialog, Divider, Portal } from 'react-native-paper'\r\nimport Icon from '../Icon'\r\nimport Picker, { PickerProps } from '../Picker'\r\nimport Grid from './Grid'\r\nimport Variants from './Variants'\r\n\r\ntype Color = {\r\n  main: string\r\n  variants: string[]\r\n}\r\ntype Props = PickerProps & {\r\n  colors?: Color[]\r\n  defaultValue?: string\r\n}\r\nconst defaultColors: Color[] = sortBy(\r\n  uniq(\r\n    Object.keys(Colors)\r\n      .map(s => s.replace(/[0-9]/g, ''))\r\n      .filter(s => !s.endsWith('A') && !['black', 'white', 'transparent'].includes(s)),\r\n  ),\r\n).map(colorName => ({\r\n  main: Colors[`${colorName}500` as never],\r\n  variants: [\r\n    Colors[`${colorName}100` as never],\r\n    Colors[`${colorName}300` as never],\r\n    Colors[`${colorName}500` as never],\r\n    Colors[`${colorName}700` as never],\r\n    Colors[`${colorName}900` as never],\r\n  ],\r\n}))\r\n\r\nconst ColorPicker: FC<Props> = ({\r\n  style,\r\n  placeholder = 'Pick a color',\r\n  onChange,\r\n  colors = defaultColors,\r\n  defaultValue,\r\n  ...rest\r\n}) => {\r\n  const [visible, setVisible] = useState(false)\r\n  let defaultGridColorIndex = defaultValue\r\n    ? colors.findIndex(color => color.variants.includes(defaultValue))\r\n    : undefined\r\n  if (defaultGridColorIndex === -1) defaultGridColorIndex = undefined\r\n  let defaultVariantIndex =\r\n    defaultGridColorIndex &&\r\n    colors[defaultGridColorIndex]?.variants.findIndex(variant => variant === defaultValue)\r\n  if (defaultVariantIndex === -1) defaultVariantIndex = undefined\r\n  const [activeGridColorIndex, setActiveGridColorIndex] = useState(defaultGridColorIndex)\r\n  const [activeVariantColorIndex, setActiveVariantColorIndex] = useState(defaultVariantIndex)\r\n\r\n  const activeColor =\r\n    activeGridColorIndex != undefined && activeVariantColorIndex != undefined\r\n      ? colors[activeGridColorIndex].variants[activeVariantColorIndex]\r\n      : undefined\r\n  const [value, setValue] = useState<{\r\n    activeColor?: string\r\n    activeGridColorIndex?: number\r\n    activeVariantColorIndex?: number\r\n  }>({ activeColor: activeColor ?? defaultValue, activeGridColorIndex, activeVariantColorIndex })\r\n\r\n  const pressHandler = () => {\r\n    setActiveGridColorIndex(value.activeGridColorIndex)\r\n    setActiveVariantColorIndex(value.activeVariantColorIndex)\r\n    setVisible(true)\r\n  }\r\n  const dismissHandler = () => setVisible(false)\r\n  const submitHandler = () => {\r\n    if (activeColor) {\r\n      onChange?.(activeColor)\r\n      setValue({\r\n        activeColor,\r\n        activeGridColorIndex,\r\n        activeVariantColorIndex,\r\n      })\r\n    }\r\n    dismissHandler()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Picker\r\n        valueComponent={\r\n          value.activeColor && (\r\n            <View style={[styles.value, { backgroundColor: value.activeColor }]} />\r\n          )\r\n        }\r\n        onPress={pressHandler}\r\n        icon={<Icon pack=\"MaterialIcons\" icon=\"colorize\" />}\r\n        placeholder={placeholder}\r\n        style={style}\r\n        {...rest}\r\n      />\r\n      <Portal>\r\n        <Dialog visible={visible} onDismiss={dismissHandler} style={styles.dialog}>\r\n          <Dialog.Title>Pick a color</Dialog.Title>\r\n          <Dialog.ScrollArea style={{ paddingHorizontal: 0 }}>\r\n            <ScrollView style={{ paddingHorizontal: spacing.l }}>\r\n              <Grid\r\n                style={styles.grid}\r\n                itemSize={50}\r\n                spacing={spacing.xs}\r\n                colors={colors.map(color => color.main)}\r\n                activeColorIndex={activeGridColorIndex}\r\n                onActiveColorChange={setActiveGridColorIndex}\r\n              />\r\n              <Divider />\r\n              <Variants\r\n                style={styles.variants}\r\n                colors={\r\n                  activeGridColorIndex != undefined\r\n                    ? colors[activeGridColorIndex].variants\r\n                    : undefined\r\n                }\r\n                activeColorIndex={activeVariantColorIndex}\r\n                onActiveColorChange={setActiveVariantColorIndex}\r\n              />\r\n            </ScrollView>\r\n          </Dialog.ScrollArea>\r\n          <Dialog.Actions style={styles.action}>\r\n            <Button contentStyle={styles.actionButton} onPress={submitHandler}>\r\n              Ok\r\n            </Button>\r\n            <Button contentStyle={styles.actionButton} onPress={dismissHandler}>\r\n              Cancel\r\n            </Button>\r\n          </Dialog.Actions>\r\n        </Dialog>\r\n      </Portal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ColorPicker\r\nconst styles = StyleSheet.create({\r\n  dialog: {\r\n    marginVertical: 100,\r\n  },\r\n  action: {\r\n    justifyContent: 'space-between',\r\n  },\r\n  actionButton: {\r\n    paddingHorizontal: spacing.l,\r\n  },\r\n  grid: {\r\n    marginVertical: spacing.l,\r\n  },\r\n  variants: {\r\n    marginVertical: spacing.l,\r\n  },\r\n  value: {\r\n    height: 24,\r\n    width: 24 * 4,\r\n    borderRadius: 12,\r\n  },\r\n})\r\n","/* eslint-disable react/prop-types */\r\n/* eslint-disable react/display-name */\r\nimport { TextInput } from '@components/UI'\r\nimport ColorPicker from '@components/UI/ColorPicker'\r\nimport { Formik, FormikProps, FormikValues } from 'formik'\r\nimport { forwardRef } from 'react'\r\nimport { Divider } from 'react-native-paper'\r\nimport * as Yup from 'yup'\r\n\r\nexport type SubjectFormValues = {\r\n  name?: string\r\n  color?: string\r\n  teacher?: string\r\n  room?: string\r\n}\r\ntype Props = {\r\n  initialValues?: SubjectFormValues\r\n  onSubmit: (values: SubjectFormValues) => void\r\n}\r\n\r\nconst SubjectForm = forwardRef<FormikProps<FormikValues>, Props>(\r\n  ({ initialValues, onSubmit }, ref) => {\r\n    const validationSchema = Yup.object({\r\n      name: Yup.string()\r\n        .required()\r\n        .matches(/(?!\\s*$)/),\r\n      color: Yup.string()\r\n        .required()\r\n        .matches(/^#[0-9a-fA-f]{6}$/g),\r\n      teacher: Yup.string()\r\n        .optional()\r\n        .matches(/(?!\\s*$)/),\r\n      room: Yup.string()\r\n        .optional()\r\n        .matches(/(?!\\s*$)/),\r\n    })\r\n\r\n    return (\r\n      <Formik\r\n        initialValues={initialValues ?? { name: '', color: '', room: '', teacher: '' }}\r\n        validationSchema={validationSchema}\r\n        onSubmit={onSubmit}\r\n        validateOnChange={false}\r\n        validateOnBlur={false}\r\n        innerRef={ref}>\r\n        {({ values, errors, handleChange }) => (\r\n          <>\r\n            <Divider />\r\n            <TextInput\r\n              value={values.name}\r\n              onChangeText={handleChange('name')}\r\n              placeholder=\"Add a name\"\r\n              icon=\"title\"\r\n              error={!!errors.name}\r\n            />\r\n            <Divider />\r\n            <ColorPicker\r\n              defaultValue={initialValues?.color}\r\n              error={!!errors.color}\r\n              onChange={handleChange('color')}\r\n              placeholder=\"Pick a color\"\r\n            />\r\n            <Divider />\r\n            <TextInput\r\n              value={values.room}\r\n              onChangeText={handleChange('room')}\r\n              placeholder=\"Add a room\"\r\n              icon=\"room\"\r\n              error={!!errors.room}\r\n            />\r\n            <Divider />\r\n            <TextInput\r\n              value={values.teacher}\r\n              onChangeText={handleChange('teacher')}\r\n              placeholder=\"Add a teacher\"\r\n              icon=\"person\"\r\n              error={!!errors.teacher}\r\n            />\r\n            <Divider />\r\n          </>\r\n        )}\r\n      </Formik>\r\n    )\r\n  },\r\n)\r\nexport default SubjectForm\r\n","import { Icon, Picker } from '@components/UI'\r\nimport { Subject } from '@models'\r\nimport { FC, useState } from 'react'\r\nimport { Platform, ScrollView, StyleSheet, useWindowDimensions } from 'react-native'\r\nimport { Dialog, Portal, RadioButton } from 'react-native-paper'\r\nimport { PickerProps } from './UI/Picker'\r\n\r\ntype Props = PickerProps<string> & {\r\n  subjects: Subject[]\r\n}\r\n\r\nconst SubjectPicker: FC<Props> = ({\r\n  style,\r\n  placeholder = 'Pick a subject',\r\n  value,\r\n  subjects,\r\n  onChange,\r\n  ...rest\r\n}) => {\r\n  const [visible, setVisible] = useState(false)\r\n  const { height } = useWindowDimensions()\r\n  const onPress = () => setVisible(true)\r\n  const onDismiss = () => setVisible(false)\r\n  const onValueChanged = (newValue: string) => {\r\n    onChange?.(newValue)\r\n    onDismiss()\r\n  }\r\n  const pickedSubject = subjects.find(({ id }) => id === value)\r\n  return (\r\n    <>\r\n      <Picker\r\n        value={pickedSubject?.name}\r\n        onPress={onPress}\r\n        icon={<Icon pack=\"MaterialIcons\" icon=\"school\" />}\r\n        placeholder={placeholder}\r\n        style={style}\r\n        {...rest}\r\n      />\r\n      <Portal>\r\n        <Dialog\r\n          visible={visible}\r\n          onDismiss={onDismiss}\r\n          style={[styles.dialog, { maxHeight: Platform.OS === 'web' ? height - 200 : undefined }]}>\r\n          <Dialog.Title>Pick a subject</Dialog.Title>\r\n          <Dialog.ScrollArea style={{ maxHeight: '100%', paddingHorizontal: 0 }}>\r\n            <ScrollView style={{}}>\r\n              <RadioButton.Group value={value ?? ''} onValueChange={onValueChanged}>\r\n                {subjects.map(({ id, name }, i) => (\r\n                  <RadioButton.Item\r\n                    key={i}\r\n                    label={name}\r\n                    value={id}\r\n                    labelStyle={{ textAlign: undefined }}\r\n                    style={{ backgroundColor: undefined, marginHorizontal: 0 }}\r\n                  />\r\n                ))}\r\n              </RadioButton.Group>\r\n            </ScrollView>\r\n          </Dialog.ScrollArea>\r\n        </Dialog>\r\n      </Portal>\r\n    </>\r\n  )\r\n}\r\nexport default SubjectPicker\r\nconst styles = StyleSheet.create({\r\n  dialog: {\r\n    marginVertical: 100,\r\n    alignSelf: 'center',\r\n  },\r\n})\r\n","import PlatformTouchable from '@components/UI/PlatformTouchable'\r\nimport spacing from '@constants/spacing'\r\nimport { Subject } from '@models'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { Card, Text } from 'react-native-paper'\r\n\r\ntype SubjectProps = {\r\n  style?: StyleProp<ViewStyle>\r\n  subject: Subject\r\n  onPress?: () => void\r\n}\r\n\r\nconst Item: FC<SubjectProps> = ({ subject: { name, color }, style, onPress }) => {\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      <Card elevation={4} style={styles.card}>\r\n        <Card.Content style={styles.card}>\r\n          <PlatformTouchable style={styles.touchable} onPress={onPress}>\r\n            <View style={[styles.color, { backgroundColor: color }]} />\r\n            <View style={styles.body}>\r\n              <Text style={styles.text} numberOfLines={2}>\r\n                {name}\r\n              </Text>\r\n            </View>\r\n          </PlatformTouchable>\r\n        </Card.Content>\r\n      </Card>\r\n    </View>\r\n  )\r\n}\r\nexport default Item\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: 'stretch',\r\n  },\r\n  card: {\r\n    paddingHorizontal: 0,\r\n    paddingVertical: 0,\r\n    overflow: 'hidden',\r\n  },\r\n  touchable: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    padding: spacing.l,\r\n  },\r\n  color: {\r\n    width: 40,\r\n    aspectRatio: 1,\r\n    borderRadius: 20,\r\n    marginRight: spacing.xl,\r\n  },\r\n  body: {\r\n    flex: 1,\r\n  },\r\n  text: {},\r\n})\r\n","import spacing from '@constants/spacing'\r\nimport { Subject } from '@models'\r\nimport { FC, useState } from 'react'\r\nimport { Dimensions, FlatList, StyleSheet, View } from 'react-native'\r\nimport Item from './Item'\r\n\r\ntype Props = {\r\n  subjects: Subject[]\r\n  onItemPress?: (subjectId: string) => void\r\n}\r\n\r\nconst SubjectsView: FC<Props> = ({ subjects, onItemPress }) => {\r\n  const [width, setWidth] = useState(Dimensions.get('window').width)\r\n  const numColumns = Math.round(width / 400) || 1\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        style={styles.list}\r\n        key={numColumns}\r\n        numColumns={numColumns}\r\n        data={subjects}\r\n        renderItem={({ item }) => (\r\n          <Item\r\n            subject={item}\r\n            style={[styles.item, { flex: 1 / numColumns }]}\r\n            onPress={() => onItemPress?.(item.id)}\r\n          />\r\n        )}\r\n        onLayout={({\r\n          nativeEvent: {\r\n            layout: { width },\r\n          },\r\n        }) => width && setWidth(width)}\r\n      />\r\n    </View>\r\n  )\r\n}\r\nexport default SubjectsView\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  item: {\r\n    margin: spacing.xs,\r\n  },\r\n  list: {},\r\n})\r\n","import { PlatformTouchable } from '@components/UI'\r\nimport { colors } from '@constants'\r\nimport { Subject } from '@models'\r\nimport Session from '@models/Timetable/Session'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { Colors, Text } from 'react-native-paper'\r\n\r\ntype CellProps = {\r\n  style?: StyleProp<ViewStyle>\r\n  session: Session<'static'>\r\n  subjects: Subject[]\r\n  highlighted?: boolean\r\n  onPress?: (sessionId: Session<'static'>['id']) => void\r\n}\r\n\r\nconst Cell: FC<CellProps> = ({\r\n  session: { start, end, subjectId, id },\r\n  subjects,\r\n  style,\r\n  highlighted,\r\n  onPress,\r\n}) => {\r\n  const { name, color } = subjects.find(({ id }) => id === subjectId) ?? {\r\n    name: '',\r\n    color: Colors.grey600,\r\n  }\r\n  return (\r\n    <View style={[styles.container, { height: `${((end - start) / 24) * 100}%` }, style]}>\r\n      <PlatformTouchable\r\n        style={[\r\n          styles.touchable,\r\n          { backgroundColor: color },\r\n          highlighted ? styles.highlighted : undefined,\r\n        ]}\r\n        onPress={() => onPress?.(id)}>\r\n        <View style={styles.inner}>\r\n          <Text style={styles.text}>{name}</Text>\r\n        </View>\r\n      </PlatformTouchable>\r\n    </View>\r\n  )\r\n}\r\nexport default Cell\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignItems: 'stretch',\r\n    padding: 2,\r\n  },\r\n  inner: {\r\n    flex: 1,\r\n  },\r\n  touchable: {\r\n    height: '100%',\r\n    padding: 6,\r\n    borderRadius: 4,\r\n  },\r\n  text: {\r\n    color: 'white',\r\n    fontSize: 14,\r\n  },\r\n  highlighted: {\r\n    borderWidth: 2,\r\n    borderColor: colors.highlight,\r\n    shadowColor: colors.highlight,\r\n    shadowOpacity: 1,\r\n    shadowRadius: 16,\r\n    elevation: 16,\r\n  },\r\n})\r\n","import { FC } from 'react'\r\nimport { View } from 'react-native'\r\n\r\ntype CellProps = {\r\n  gap: number\r\n}\r\n\r\nconst EmptyCell: FC<CellProps> = ({ gap }) => {\r\n  return <View style={{ height: `${(gap / 24) * 100}%` }}></View>\r\n}\r\nexport default EmptyCell\r\n","import { Subject } from '@models'\r\nimport { Session } from '@models/Timetable'\r\nimport Day from '@models/Timetable/Day'\r\nimport { FC, Fragment } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport Cell from './Cell'\r\nimport EmptyCell from './EmptyCell'\r\n\r\ntype ColumnProps = {\r\n  style?: StyleProp<ViewStyle>\r\n  day: Day<'static'>\r\n  subjects: Subject[]\r\n  onPress?: (sessionId: Session<'static'>['id']) => void\r\n}\r\n\r\nconst Column: FC<ColumnProps> = ({ style, day, subjects, onPress }) => {\r\n  day.sessions.sort((a, b) => a.start - b.start)\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      {day.sessions.map((session, i, sessions) => {\r\n        const gap = sessions[i + 1]?.start - session.end\r\n        return (\r\n          <Fragment key={i}>\r\n            {i == 0 && session.start != 0 && <EmptyCell gap={session.start} />}\r\n            <Cell\r\n              session={session}\r\n              subjects={subjects}\r\n              highlighted={session.highlighted}\r\n              onPress={onPress}\r\n            />\r\n            {gap > 0 && <EmptyCell gap={gap} />}\r\n          </Fragment>\r\n        )\r\n      })}\r\n    </View>\r\n  )\r\n}\r\nexport default Column\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'stretch',\r\n  },\r\n})\r\n","import { range } from 'lodash'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { Colors } from 'react-native-paper'\r\n\r\ntype GridProps = {\r\n  columns: number\r\n  rows: number\r\n  halves?: boolean\r\n  style?: StyleProp<ViewStyle>\r\n}\r\n\r\nconst Grid: FC<GridProps> = ({ columns, rows, halves = false, style }) => {\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      <View style={[styles.line, styles.columns]}>\r\n        {range(columns - 1).map(i => (\r\n          <View key={i} style={styles.columnBorder} />\r\n        ))}\r\n      </View>\r\n      <View style={[styles.line, styles.rows]}>\r\n        {range((halves ? 2 * rows : rows) - 1).map(i => (\r\n          <View key={i} style={[styles.rowBorder, !(i % 2) && halves ? styles.faint : undefined]} />\r\n        ))}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\nexport default Grid\r\nconst thickness = 1\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    width: '100%',\r\n  },\r\n  line: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    justifyContent: 'space-evenly',\r\n    alignItems: 'center',\r\n  },\r\n  columns: {\r\n    flexDirection: 'row',\r\n    paddingHorizontal: thickness / 2,\r\n  },\r\n  columnBorder: {\r\n    width: thickness,\r\n    height: '100%',\r\n    backgroundColor: Colors.grey200,\r\n  },\r\n  rows: {\r\n    flexDirection: 'column',\r\n    paddingVertical: thickness / 2,\r\n  },\r\n  rowBorder: {\r\n    height: thickness,\r\n    width: '100%',\r\n    backgroundColor: Colors.grey200,\r\n  },\r\n  faint: {\r\n    backgroundColor: Colors.grey50,\r\n  },\r\n})\r\n","import { Subject } from '@models'\r\nimport { Day, Session } from '@models/Timetable'\r\nimport { ComponentProps, FC, Fragment } from 'react'\r\nimport { StyleSheet, View } from 'react-native'\r\nimport Column from './Column'\r\nimport Grid from './Grid'\r\n\r\ntype Props = {\r\n  days?: Day<'static'>[]\r\n  subjects: Subject[]\r\n  onPress?: (sessionId: Session<'static'>['id']) => void\r\n  start?: number\r\n  end?: number\r\n} & ComponentProps<typeof View>\r\n\r\nconst Body: FC<Props> = ({ days, subjects, onPress, start = 0, end = 6, ...rest }) => {\r\n  return (\r\n    <View style={styles.container} {...rest}>\r\n      <Grid style={styles.float} columns={end - start + 1} rows={24} halves />\r\n      <View style={[styles.float, styles.columnsContainer]}>\r\n        {days?.map((day, i) => (\r\n          <Fragment key={i}>\r\n            {start <= i && i <= end && <Column day={day} subjects={subjects} onPress={onPress} />}\r\n          </Fragment>\r\n        ))}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\nexport default Body\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  float: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n  },\r\n  columnsContainer: {\r\n    flexDirection: 'row',\r\n  },\r\n})\r\n","import { colors } from '@constants'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { Colors, Text } from 'react-native-paper'\r\n\r\nconst days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'] as const\r\n\r\ntype HeaderProps = {\r\n  style?: StyleProp<ViewStyle>\r\n  start: number\r\n  end: number\r\n  highlightedDay?: number\r\n}\r\n\r\nconst Header: FC<HeaderProps> = ({ start, end, style, highlightedDay }) => {\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      {days.map(\r\n        (day, i) =>\r\n          i >= start &&\r\n          i <= end && (\r\n            <View key={day} style={styles.element}>\r\n              <Text style={[styles.text, i === highlightedDay ? styles.highlighted : undefined]}>\r\n                {day}\r\n              </Text>\r\n            </View>\r\n          ),\r\n      )}\r\n    </View>\r\n  )\r\n}\r\nexport default Header\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-evenly',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: Colors.grey200,\r\n  },\r\n  element: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    paddingVertical: 4,\r\n  },\r\n  text: {\r\n    fontSize: 12,\r\n  },\r\n  highlighted: {\r\n    color: colors.highlight,\r\n    fontWeight: 'bold',\r\n  },\r\n})\r\n","/* eslint-disable react-native/no-unused-styles */\r\nimport { fonts, spacing } from '@constants'\r\nimport { format } from 'date-fns'\r\nimport { range } from 'lodash'\r\nimport { ComponentProps, FC, useMemo } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { Text, useTheme } from 'react-native-paper'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  start: number\r\n  end: number\r\n  AmPm?: boolean\r\n} & ComponentProps<typeof View>\r\n\r\nconst cellHeight = 20\r\n\r\nconst Sidebar: FC<Props> = ({ start, end, AmPm = false, style, ...rest }) => {\r\n  const { fonts: fontsTheme } = useTheme()\r\n  const styles = useMemo(\r\n    () =>\r\n      StyleSheet.create({\r\n        container: {\r\n          paddingVertical: cellHeight / 2,\r\n          paddingHorizontal: spacing.xs,\r\n          justifyContent: 'space-evenly',\r\n          alignItems: 'stretch',\r\n        },\r\n        cell: {\r\n          height: cellHeight,\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n        },\r\n        text: {\r\n          fontSize: fonts.sizes.tiny,\r\n          lineHeight: fonts.sizes.tiny + 2,\r\n          ...fontsTheme.thin,\r\n        },\r\n        AmPm: {\r\n          height: !AmPm ? 0 : undefined,\r\n          overflow: !AmPm ? 'hidden' : undefined,\r\n        },\r\n      }),\r\n    [AmPm, fontsTheme.thin],\r\n  )\r\n  return (\r\n    <View style={[styles.container, style]} {...rest}>\r\n      {range(start, end + 1).map(v => (\r\n        <View key={v} style={styles.cell}>\r\n          <Text style={styles.text}>\r\n            {format(new Date(0, 0, 0, v), AmPm ? 'h' : 'H').toLowerCase()}\r\n          </Text>\r\n          <Text style={[styles.text, styles.AmPm]}>\r\n            {format(new Date(0, 0, 0, v), 'a').toLowerCase()}\r\n          </Text>\r\n        </View>\r\n      ))}\r\n    </View>\r\n  )\r\n}\r\nexport default Sidebar\r\n","/* eslint-disable react-native/no-unused-styles */\r\nimport useRealTime from '@hooks/useRealTime'\r\nimport { FC, useMemo } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { useTheme } from 'react-native-paper'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n}\r\n\r\nconst TimeIndicator: FC<Props> = ({ style }) => {\r\n  const time = useRealTime(60 * 1000)\r\n  const progress = ((time.getHours() + time.getMinutes() / 60) / 24) * 100\r\n  const { colors } = useTheme()\r\n  const styles = useMemo(\r\n    () =>\r\n      StyleSheet.create({\r\n        container: {\r\n          flex: 1,\r\n        },\r\n        indicator: {\r\n          backgroundColor: colors.accent,\r\n          position: 'absolute',\r\n          top: `${progress}%`,\r\n          width: '100%',\r\n          height: 2,\r\n        },\r\n      }),\r\n    [colors.accent, progress],\r\n  )\r\n  return (\r\n    <View style={[styles.container, style]} pointerEvents=\"none\">\r\n      <View style={styles.indicator} />\r\n    </View>\r\n  )\r\n}\r\nexport default TimeIndicator\r\n","import { useDynamicWindowStyles, useLayoutEvent, useSettingsState } from '@hooks'\r\nimport { Subject } from '@models'\r\nimport { Session, Timetable } from '@models/Timetable'\r\nimport { FC } from 'react'\r\nimport { ScrollView, StyleSheet, View } from 'react-native'\r\nimport Body from './Body'\r\nimport Header from './Header'\r\nimport Sidebar from './Sidebar'\r\nimport TimeIndicator from './TimeIndicator'\r\n\r\ntype Props = {\r\n  timetable?: Timetable<'static'>\r\n  subjects: Subject[]\r\n  onSessionPress?: (sessionId: Session<'static'>['id']) => void\r\n}\r\n\r\nconst TimetableView: FC<Props> = ({ timetable, subjects, onSessionPress }) => {\r\n  const { settings } = useSettingsState()\r\n  const start = parseInt(settings.timetable.firstDayIndex)\r\n  const end = parseInt(settings.timetable.lastDayIndex)\r\n  const { dynamicHeight } = useDynamicWindowStyles(window => ({\r\n    dynamicHeight: {\r\n      height: window.height > 300 ? window.height * 2 : 600,\r\n    },\r\n  }))\r\n  const highlightedDay = timetable?.days.find(({ highlighted }) => highlighted)?.index\r\n  const sidebarLayout = useLayoutEvent()\r\n  const bodyLayout = useLayoutEvent()\r\n  const containerLayout = useLayoutEvent()\r\n\r\n  return (\r\n    <View style={styles.container} onLayout={containerLayout.onLayout}>\r\n      <Header\r\n        start={start}\r\n        end={end}\r\n        style={{\r\n          paddingLeft: sidebarLayout.event?.width ?? 20,\r\n          // align with the scroll bar\r\n          paddingRight:\r\n            (containerLayout.event?.width ?? 0) -\r\n            ((sidebarLayout.event?.width ?? 0) + (bodyLayout.event?.width ?? 0)),\r\n        }}\r\n        highlightedDay={highlightedDay}\r\n      />\r\n      <ScrollView style={styles.scroll} contentContainerStyle={dynamicHeight}>\r\n        <View style={[styles.bodyContainer, styles.float]}>\r\n          <Sidebar\r\n            start={1}\r\n            end={23}\r\n            AmPm={settings.general.hourFormat === '12-hour'}\r\n            onLayout={sidebarLayout.onLayout}\r\n          />\r\n          <Body\r\n            days={timetable?.days}\r\n            subjects={subjects}\r\n            onPress={onSessionPress}\r\n            start={start}\r\n            end={end}\r\n            onLayout={bodyLayout.onLayout}\r\n          />\r\n        </View>\r\n        <TimeIndicator style={styles.float} />\r\n      </ScrollView>\r\n    </View>\r\n  )\r\n}\r\nexport default TimetableView\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  scroll: {\r\n    flex: 1,\r\n  },\r\n  bodyContainer: {\r\n    flexDirection: 'row',\r\n  },\r\n  float: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n  },\r\n})\r\n","import { fonts, spacing } from '@constants'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { IconButton, RadioButton, Text } from 'react-native-paper'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  title?: string\r\n  onSelect?: () => void\r\n  onEdit?: () => void\r\n  onDelete?: () => void\r\n  selected?: boolean\r\n}\r\n\r\nconst Item: FC<Props> = ({ style, onDelete, onEdit, onSelect, title, selected }) => {\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      <RadioButton value=\"\" onPress={onSelect} status={selected ? 'checked' : 'unchecked'} />\r\n      <Text style={styles.title} numberOfLines={2}>\r\n        {title}\r\n      </Text>\r\n      <View style={{ flex: 1 }} />\r\n      <IconButton icon=\"edit\" onPress={onEdit} />\r\n      <IconButton icon=\"delete-outline\" onPress={onDelete} />\r\n    </View>\r\n  )\r\n}\r\nexport default Item\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    padding: spacing.l,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  title: {\r\n    fontSize: fonts.sizes.regular,\r\n    marginHorizontal: spacing.l,\r\n    flexShrink: 1,\r\n  },\r\n})\r\n","import { Timetable } from '@models/Timetable'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport Item from './Item'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  timetables?: Omit<Timetable<'dynamic'>, 'sessions'>[]\r\n  activeTimetableId?: string\r\n  onSelect?: (id: string) => void\r\n  onEdit?: (id: string) => void\r\n  onDelete?: (id: string) => void\r\n}\r\n\r\nconst TimetablesList: FC<Props> = ({\r\n  style,\r\n  activeTimetableId,\r\n  timetables,\r\n  onSelect,\r\n  onEdit,\r\n  onDelete,\r\n}) => {\r\n  return (\r\n    <View style={[styles.container, style]}>\r\n      {timetables?.map((timetable, index) => (\r\n        <Item\r\n          key={index}\r\n          title={timetable.title}\r\n          selected={activeTimetableId === timetable.id}\r\n          onSelect={() => onSelect?.(timetable.id)}\r\n          onEdit={() => onEdit?.(timetable.id)}\r\n          onDelete={() => onDelete?.(timetable.id)}\r\n        />\r\n      ))}\r\n    </View>\r\n  )\r\n}\r\nexport default TimetablesList\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignItems: 'stretch',\r\n  },\r\n})\r\n","import { FC, useState } from 'react'\r\nimport { StyleProp, StyleSheet, ViewStyle } from 'react-native'\r\nimport { Button, Dialog, Divider, Portal } from 'react-native-paper'\r\nimport { TextInput } from './UI'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  visible?: boolean\r\n  onDismiss?: () => void\r\n  onConfirm?: (title: string) => void\r\n  defaultValue?: string\r\n  mode?: 'new' | 'edit'\r\n}\r\n\r\nconst ConfirmationDialog: FC<Props> = ({\r\n  style,\r\n  onConfirm,\r\n  onDismiss,\r\n  visible = false,\r\n  defaultValue,\r\n  mode = 'new',\r\n}) => {\r\n  const [value, setValue] = useState(defaultValue ?? '')\r\n  return (\r\n    <Portal>\r\n      <Dialog style={style} visible={visible} onDismiss={onDismiss}>\r\n        <Dialog.Title>{mode === 'new' ? 'New timetable' : 'Edit timetable'}</Dialog.Title>\r\n        <Dialog.Content>\r\n          <Divider />\r\n          <TextInput icon=\"title\" placeholder=\"Title\" value={value} onChangeText={setValue} />\r\n          <Divider />\r\n        </Dialog.Content>\r\n        <Dialog.Actions style={styles.actions}>\r\n          <Button\r\n            onPress={() => {\r\n              value && onConfirm?.(value)\r\n              onDismiss?.()\r\n            }}>\r\n            {mode === 'new' ? 'Add' : 'Edit'}\r\n          </Button>\r\n          <Button onPress={onDismiss}>Cancel</Button>\r\n        </Dialog.Actions>\r\n      </Dialog>\r\n    </Portal>\r\n  )\r\n}\r\nexport default ConfirmationDialog\r\nconst styles = StyleSheet.create({\r\n  actions: {\r\n    justifyContent: 'space-between',\r\n  },\r\n})\r\n","import Subject from '@models/Subject'\r\nimport { Session } from '@models/Timetable'\r\nimport { paperTheme } from '@utils/theme'\r\nimport { format, formatDuration, hoursToMinutes, intervalToDuration } from 'date-fns'\r\nimport { FC } from 'react'\r\nimport { StyleProp, StyleSheet, View, ViewStyle } from 'react-native'\r\nimport { Button, Dialog, IconButton, Portal, Text, useTheme } from 'react-native-paper'\r\n\r\ntype Props = {\r\n  style?: StyleProp<ViewStyle>\r\n  visible?: boolean\r\n  session?: Session<'dynamic'>\r\n  subject?: Subject\r\n  onDismiss?: () => void\r\n  onEdit?: () => void\r\n  onDelete?: () => void\r\n}\r\n\r\nconst SessionDetailsView: FC<Props> = ({\r\n  style,\r\n  visible = false,\r\n  session,\r\n  subject,\r\n  onDismiss,\r\n  onDelete,\r\n  onEdit,\r\n}) => {\r\n  const { colors } = useTheme()\r\n  if (!session) return null\r\n  const startDate = new Date(0, 0, 0, 0, hoursToMinutes(session.start))\r\n  const endDate = new Date(0, 0, 0, 0, hoursToMinutes(session.end))\r\n  const formatDate = (date: Date) => format(date, 'h:mm a').toLowerCase()\r\n  return (\r\n    <Portal>\r\n      <Dialog style={style} visible={visible} onDismiss={onDismiss}>\r\n        <Dialog.Title>\r\n          <Text>{subject?.name}</Text>\r\n        </Dialog.Title>\r\n        <Dialog.Content>\r\n          <Text>{format(new Date(0, 0, session.dayIndex), 'EEEE')}</Text>\r\n          <Text>\r\n            from <Text style={styles.coloredText}>{formatDate(startDate)}</Text> to{' '}\r\n            <Text style={styles.coloredText}>{formatDate(endDate)}</Text>\r\n          </Text>\r\n          <Text>{`${formatDuration(\r\n            intervalToDuration({\r\n              start: startDate,\r\n              end: endDate,\r\n            }),\r\n          )} long`}</Text>\r\n        </Dialog.Content>\r\n        <Dialog.Actions style={styles.actions}>\r\n          <View style={styles.subActions}>\r\n            <IconButton\r\n              icon=\"delete\"\r\n              color={colors.error}\r\n              onPress={() => {\r\n                onDismiss?.()\r\n                onDelete?.()\r\n              }}\r\n            />\r\n            <IconButton\r\n              icon=\"edit\"\r\n              color={colors.primary}\r\n              onPress={() => {\r\n                onDismiss?.()\r\n                onEdit?.()\r\n              }}\r\n            />\r\n          </View>\r\n          <Button onPress={onDismiss}>Close</Button>\r\n        </Dialog.Actions>\r\n      </Dialog>\r\n    </Portal>\r\n  )\r\n}\r\nexport default SessionDetailsView\r\nconst styles = StyleSheet.create({\r\n  actions: {\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  subActions: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  coloredText: {\r\n    color: paperTheme.colors.accent,\r\n  },\r\n})\r\n","import { SubjectPicker } from '@components'\r\nimport { DatePicker, DayPicker, HeaderButton, Screen, Space, TimePicker } from '@components/UI'\r\nimport { useSubjectsState, useTimetablesState } from '@hooks'\r\nimport { MainStackParamList } from '@navigation/MainNavigator'\r\nimport { NativeStackScreenProps } from '@react-navigation/native-stack'\r\nimport { compareAsc, hoursToMinutes, parseJSON } from 'date-fns'\r\nimport { Formik, FormikProps, FormikValues } from 'formik'\r\nimport { FC, useCallback, useEffect, useRef } from 'react'\r\nimport { Divider } from 'react-native-paper'\r\nimport uuid from 'react-native-uuid'\r\nimport { HeaderButtons, Item } from 'react-navigation-header-buttons'\r\nimport * as Yup from 'yup'\r\n\r\ntype Props = NativeStackScreenProps<MainStackParamList, 'NewSessionScreen'>\r\ntype Values = {\r\n  subjectId?: string\r\n  dayIndex?: string\r\n  start?: string\r\n  end?: string\r\n  shelfLifeStart?: string\r\n  shelfLifeEnd?: string\r\n}\r\n\r\nconst NewSessionScreen: FC<Props> = ({ navigation: { setOptions, goBack }, route: { params } }) => {\r\n  const { action, sessionId } = params\r\n  const { getSessionById, editSession } = useTimetablesState()\r\n  const session = action === 'edit' && sessionId ? getSessionById(sessionId) : undefined\r\n  const { addSession } = useTimetablesState()\r\n  const { subjects } = useSubjectsState()\r\n  const formSubmitHandler = useCallback<(values: Values) => void>(\r\n    ({ subjectId, dayIndex, start, end, shelfLifeStart, shelfLifeEnd }) => {\r\n      if (\r\n        dayIndex != undefined &&\r\n        subjectId != undefined &&\r\n        start != undefined &&\r\n        end != undefined\r\n      ) {\r\n        const startDate = parseJSON(start)\r\n        const endDate = parseJSON(end)\r\n        const convertedValues = {\r\n          dayIndex: parseInt(dayIndex),\r\n          subjectId,\r\n          start: startDate.getHours() + startDate.getMinutes() / 60,\r\n          end: endDate.getHours() + endDate.getMinutes() / 60,\r\n          shelfLife: {\r\n            start: shelfLifeStart ? parseJSON(shelfLifeStart) : null,\r\n            end: shelfLifeEnd ? parseJSON(shelfLifeEnd) : null,\r\n          },\r\n        }\r\n        if (action === 'edit' && sessionId) editSession(sessionId, convertedValues)\r\n        else\r\n          addSession({\r\n            id: uuid.v4(),\r\n            ...convertedValues,\r\n          })\r\n      }\r\n      goBack()\r\n    },\r\n    [action, addSession, editSession, goBack, sessionId],\r\n  )\r\n  const formRef = useRef<FormikProps<FormikValues>>(null)\r\n  useEffect(() => {\r\n    setOptions({\r\n      headerRight: () => (\r\n        <HeaderButtons HeaderButtonComponent={HeaderButton}>\r\n          <Item title=\"Add new session\" iconName=\"done\" onPress={formRef.current?.handleSubmit} />\r\n        </HeaderButtons>\r\n      ),\r\n    })\r\n  }, [setOptions])\r\n  const validationSchema = Yup.object().shape(\r\n    {\r\n      subjectId: Yup.string().required(),\r\n      dayIndex: Yup.string().required(),\r\n      start: Yup.string()\r\n        // using when to access end\r\n        .when(['end'], end =>\r\n          // using schema with test to access start\r\n          Yup.string().test(\r\n            // the start should be before the end\r\n            // if end is undefined the first statement will return false even if start is set\r\n            // (!end && start) prevent that\r\n            start =>\r\n              (start && end && compareAsc(parseJSON(end), parseJSON(start)) === 1) ||\r\n              (start && !end),\r\n          ),\r\n        ),\r\n      end: Yup.string()\r\n        .required()\r\n        .when(['start'], start =>\r\n          Yup.string().test(\r\n            end =>\r\n              (start && end && compareAsc(parseJSON(end), parseJSON(start)) === 1) ||\r\n              (!start && end),\r\n          ),\r\n        ),\r\n      shelfLifeStart: Yup.string().when(['shelfLifeEnd'], shelfLifeEnd =>\r\n        Yup.string().test(\r\n          shelfLifeStart =>\r\n            (shelfLifeStart &&\r\n              shelfLifeEnd &&\r\n              compareAsc(parseJSON(shelfLifeEnd), parseJSON(shelfLifeStart)) === 1) ||\r\n            // not valid if shelfLifeEnd is set white shelfLifeStart is not\r\n            !shelfLifeEnd,\r\n        ),\r\n      ),\r\n      shelfLifeEnd: Yup.string().when(['shelfLifeStart'], shelfLifeStart =>\r\n        Yup.string().test(\r\n          shelfLifeEnd =>\r\n            (shelfLifeStart &&\r\n              shelfLifeEnd &&\r\n              compareAsc(parseJSON(shelfLifeEnd), parseJSON(shelfLifeStart)) === 1) ||\r\n            !shelfLifeStart,\r\n        ),\r\n      ),\r\n    },\r\n    [\r\n      // to avoid cyclic dependency\r\n      ['start', 'end'],\r\n      ['shelfLifeStart', 'shelfLifeEnd'],\r\n    ],\r\n  )\r\n  const initialValuesTimeParser = (date: number) =>\r\n    new Date(0, 0, 0, date, hoursToMinutes(date - Math.floor(date))).toISOString()\r\n  const initialValues: Values =\r\n    session != undefined\r\n      ? {\r\n          subjectId: session.subjectId,\r\n          dayIndex: session.dayIndex.toString(),\r\n          start: initialValuesTimeParser(session.start),\r\n          end: initialValuesTimeParser(session.end),\r\n          shelfLifeStart: session.shelfLife.start?.toISOString(),\r\n          shelfLifeEnd: session.shelfLife.end?.toISOString(),\r\n        }\r\n      : {}\r\n\r\n  return (\r\n    <Screen scrollable>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validationSchema={validationSchema}\r\n        onSubmit={formSubmitHandler}\r\n        validateOnBlur={false}\r\n        validateOnChange={false}\r\n        innerRef={formRef}>\r\n        {({ values, errors, handleChange }) => (\r\n          <>\r\n            <Divider />\r\n            <SubjectPicker\r\n              subjects={subjects}\r\n              onChange={handleChange('subjectId')}\r\n              value={values.subjectId}\r\n              error={!!errors.subjectId}\r\n            />\r\n            <Space topDivider bottomDivider />\r\n            <DayPicker\r\n              value={values.dayIndex}\r\n              onChange={handleChange('dayIndex')}\r\n              error={!!errors.dayIndex}\r\n            />\r\n            <Divider />\r\n            <TimePicker\r\n              label=\"Start\"\r\n              value={values.start}\r\n              onChange={handleChange('start')}\r\n              error={!!errors.start}\r\n            />\r\n            <Divider />\r\n            <TimePicker\r\n              label=\"End\"\r\n              value={values.end}\r\n              onChange={handleChange('end')}\r\n              error={!!errors.end}\r\n            />\r\n            <Space topDivider bottomDivider />\r\n            <DatePicker\r\n              label=\"First\"\r\n              value={values.shelfLifeStart}\r\n              onChange={handleChange('shelfLifeStart')}\r\n              error={!!errors.shelfLifeStart}\r\n            />\r\n            <Divider />\r\n            <DatePicker\r\n              label=\"Last\"\r\n              value={values.shelfLifeEnd}\r\n              onChange={handleChange('shelfLifeEnd')}\r\n              error={!!errors.shelfLifeEnd}\r\n            />\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </Screen>\r\n  )\r\n}\r\nexport default NewSessionScreen\r\n","import SubjectForm, { SubjectFormValues } from '@components/SubjectForm'\r\nimport { HeaderButton, Screen } from '@components/UI'\r\nimport useSubjectsState from '@hooks/useSubjectsState'\r\nimport { MainStackParamList } from '@navigation/MainNavigator'\r\nimport { NativeStackScreenProps } from '@react-navigation/native-stack'\r\nimport { FormikProps, FormikValues } from 'formik'\r\nimport { FC, useCallback, useEffect, useRef } from 'react'\r\nimport { HeaderButtons, Item } from 'react-navigation-header-buttons'\r\n\r\ntype Props = NativeStackScreenProps<MainStackParamList, 'NewSubjectScreen'>\r\n\r\nconst NewSubjectScreen: FC<Props> = ({\r\n  navigation: { setOptions, goBack, navigate },\r\n  route: { params },\r\n}) => {\r\n  const { action, subjectId } = params\r\n  const isEdit = action === 'edit'\r\n  const { addSubject, getSubjectById, editSubject } = useSubjectsState()\r\n  const formRef = useRef<FormikProps<FormikValues>>(null)\r\n  const subject = isEdit && subjectId ? getSubjectById(subjectId) : undefined\r\n  const initialValues = isEdit ? subject : undefined\r\n  useEffect(() => {\r\n    setOptions({\r\n      headerTitle: isEdit ? subject?.name : undefined,\r\n      headerRight: () => (\r\n        <HeaderButtons HeaderButtonComponent={HeaderButton}>\r\n          <Item title=\"Add new subject\" iconName=\"done\" onPress={formRef.current?.submitForm} />\r\n        </HeaderButtons>\r\n      ),\r\n    })\r\n  }, [isEdit, setOptions, subject?.name])\r\n  const addSubjectHandler = useCallback<(values: SubjectFormValues) => void>(\r\n    ({ name, color, teacher, room }) => {\r\n      if (name && color) {\r\n        const subject = {\r\n          name: name.trim(),\r\n          color,\r\n          teacher: teacher?.trim(),\r\n          room: room?.trim(),\r\n          id: name,\r\n        }\r\n        if (action === 'new') {\r\n          addSubject(subject)\r\n          goBack()\r\n        } else if (subjectId) {\r\n          editSubject(subjectId, subject)\r\n          navigate('SubjectDetailsScreen', { subjectId })\r\n        }\r\n      }\r\n    },\r\n    [action, addSubject, editSubject, goBack, navigate, subjectId],\r\n  )\r\n\r\n  return (\r\n    <Screen scrollable>\r\n      <SubjectForm ref={formRef} onSubmit={addSubjectHandler} initialValues={initialValues} />\r\n    </Screen>\r\n  )\r\n}\r\n\r\nexport default NewSubjectScreen\r\n","import { Screen } from '@components/UI'\r\nimport { DrawerParamList } from '@navigation/DrawerNavigator'\r\nimport { DrawerScreenProps } from '@react-navigation/drawer'\r\nimport { FC } from 'react'\r\nimport { Text } from 'react-native-paper'\r\n\r\ntype Props = DrawerScreenProps<DrawerParamList, 'OverviewScreen'>\r\n\r\nconst OverviewScreen: FC<Props> = () => {\r\n  return (\r\n    <Screen scrollable>\r\n      <Text>OverviewScreen</Text>\r\n    </Screen>\r\n  )\r\n}\r\nexport default OverviewScreen\r\n","/* eslint-disable react-native/no-unused-styles */\r\nimport { DayPicker, Icon, RadioPicker, Screen, WideButton } from '@components/UI'\r\nimport spacing from '@constants/spacing'\r\nimport { useSettingsState } from '@hooks'\r\nimport { AllParamsList } from '@navigation'\r\nimport { DrawerScreenProps } from '@react-navigation/drawer'\r\nimport { FC, useMemo } from 'react'\r\nimport { StyleSheet } from 'react-native'\r\nimport { Button, Divider, Text, useTheme } from 'react-native-paper'\r\n\r\ntype Props = DrawerScreenProps<AllParamsList, 'SettingsScreen'>\r\n\r\nconst SettingsScreen: FC<Props> = ({ navigation: { navigate } }) => {\r\n  const { colors } = useTheme()\r\n  const styles = useMemo(\r\n    () =>\r\n      StyleSheet.create({\r\n        title: {\r\n          color: colors.primary,\r\n          marginHorizontal: spacing.l,\r\n          marginVertical: spacing.m,\r\n        },\r\n        picker: {\r\n          paddingVertical: spacing.m,\r\n        },\r\n      }),\r\n    [colors.primary],\r\n  )\r\n  const { settings, updateSettings, resetState } = useSettingsState()\r\n  return (\r\n    <Screen scrollable>\r\n      <Text style={styles.title}>General</Text>\r\n      <RadioPicker\r\n        style={styles.picker}\r\n        label=\"App theme\"\r\n        title=\"App theme\"\r\n        contentAlignment=\"vertical\"\r\n        icon={<Icon pack=\"MaterialCommunityIcons\" icon=\"theme-light-dark\" />}\r\n        onChange={newValue =>\r\n          updateSettings(oldSettings => (oldSettings.general.theme = newValue as any))\r\n        }\r\n        value={settings.general.theme}>\r\n        <RadioPicker.Item label=\"System preference\" value=\"System preference\" />\r\n        <RadioPicker.Item label=\"Light\" value=\"Light\" />\r\n        <RadioPicker.Item label=\"Dark\" value=\"Dark\" />\r\n      </RadioPicker>\r\n      <Divider />\r\n      <RadioPicker\r\n        style={styles.picker}\r\n        label=\"Hour format\"\r\n        title=\"Hour format\"\r\n        contentAlignment=\"vertical\"\r\n        onChange={newValue =>\r\n          updateSettings(oldSettings => (oldSettings.general.hourFormat = newValue as any))\r\n        }\r\n        icon={<Icon pack=\"MaterialCommunityIcons\" icon=\"hours-24\" />}\r\n        value={settings.general.hourFormat}>\r\n        <RadioPicker.Item label=\"24-hour\" value=\"24-hour\" />\r\n        <RadioPicker.Item label=\"12-hour\" value=\"12-hour\" />\r\n      </RadioPicker>\r\n      <Text style={styles.title}>Timetable</Text>\r\n      <DayPicker\r\n        style={styles.picker}\r\n        label=\"First week day\"\r\n        title=\"First week day\"\r\n        value={settings.timetable.firstDayIndex}\r\n        onChange={newValue =>\r\n          updateSettings(oldSettings => (oldSettings.timetable.firstDayIndex = newValue))\r\n        }\r\n        contentAlignment=\"vertical\"\r\n        maxValue={settings.timetable.lastDayIndex}\r\n        icon={<Icon pack=\"MaterialCommunityIcons\" icon=\"calendar-week-begin\" />}\r\n      />\r\n      <Divider />\r\n      <DayPicker\r\n        style={styles.picker}\r\n        label=\"Last week day\"\r\n        title=\"First week day\"\r\n        value={settings.timetable.lastDayIndex.toString()}\r\n        onChange={newValue =>\r\n          updateSettings(oldSettings => (oldSettings.timetable.lastDayIndex = newValue))\r\n        }\r\n        contentAlignment=\"vertical\"\r\n        minValue={settings.timetable.firstDayIndex}\r\n        icon={\r\n          <Icon\r\n            pack=\"MaterialCommunityIcons\"\r\n            icon=\"calendar-week-begin\"\r\n            style={{ transform: [{ rotateY: '180deg' }] }}\r\n          />\r\n        }\r\n      />\r\n      <Divider />\r\n      <WideButton\r\n        title=\"Manage timetables\"\r\n        style={styles.picker}\r\n        icon={<Icon pack=\"MaterialCommunityIcons\" icon=\"table-settings\" />}\r\n        onPress={() => navigate('ManageTimetablesScreen')}\r\n      />\r\n      <Text style={styles.title}>Subjects</Text>\r\n      <RadioPicker\r\n        style={styles.picker}\r\n        label=\"Dumb picker\"\r\n        title=\"Opp\"\r\n        contentAlignment=\"vertical\"\r\n        icon={<Icon pack=\"MaterialCommunityIcons\" icon=\"alpha-c-circle\" />}\r\n        value=\"Value\"\r\n      />\r\n      <Text style={styles.title}>Calendar</Text>\r\n      <RadioPicker\r\n        style={styles.picker}\r\n        label=\"Dumb picker\"\r\n        title=\"Opp\"\r\n        contentAlignment=\"vertical\"\r\n        icon={<Icon pack=\"MaterialCommunityIcons\" icon=\"calendar-account\" />}\r\n        value=\"Value\"\r\n      />\r\n      <Button onPress={resetState}>Reset state</Button>\r\n    </Screen>\r\n  )\r\n}\r\nexport default SettingsScreen\r\n","/* eslint-disable react/prop-types */\r\nimport { createContext, FC, useContext, useState } from 'react'\r\nimport { Menu, withTheme } from 'react-native-paper'\r\nimport { Item as HeaderItem } from 'react-navigation-header-buttons'\r\n\r\ntype Props = {\r\n  title?: string\r\n}\r\n\r\nconst MenuVisibleContext = createContext<React.Dispatch<React.SetStateAction<boolean>> | null>(null)\r\n\r\nconst MoreMenu: FC<Props> & { Item: typeof Menu.Item } = ({ title = 'Options', children }) => {\r\n  const [menuVisible, setMenuVisible] = useState(false)\r\n  return (\r\n    <Menu\r\n      visible={menuVisible}\r\n      onDismiss={() => setMenuVisible(false)}\r\n      anchor={\r\n        <HeaderItem title={title} iconName={'more-vert'} onPress={() => setMenuVisible(true)} />\r\n      }>\r\n      <MenuVisibleContext.Provider value={setMenuVisible}>{children}</MenuVisibleContext.Provider>\r\n    </Menu>\r\n  )\r\n}\r\n\r\nconst Item: typeof Menu.Item = ({ onPress, ...rest }) => {\r\n  const setMenuVisible = useContext(MenuVisibleContext)\r\n  return (\r\n    <Menu.Item\r\n      onPress={() => {\r\n        onPress?.()\r\n        setMenuVisible?.(false)\r\n      }}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\n\r\nMoreMenu.Item = Item\r\nexport default withTheme(MoreMenu as any) as typeof MoreMenu\r\n","import { SubjectsView } from '@components'\r\nimport { HeaderButton, Screen } from '@components/UI'\r\nimport { MoreMenu } from '@components/UI/HeaderButtons'\r\nimport useSubjectsState from '@hooks/useSubjectsState'\r\nimport { DrawerParamList } from '@navigation/DrawerNavigator'\r\nimport { MainStackParamList } from '@navigation/MainNavigator'\r\nimport { DrawerScreenProps } from '@react-navigation/drawer'\r\nimport { FC, useCallback, useEffect } from 'react'\r\nimport { HeaderButtons, Item } from 'react-navigation-header-buttons'\r\n\r\ntype Props = DrawerScreenProps<DrawerParamList & MainStackParamList, 'SubjectsScreen'>\r\n\r\nconst SubjectsScreen: FC<Props> = ({ navigation: { setOptions, navigate } }) => {\r\n  const { subjects, resetState } = useSubjectsState()\r\n  useEffect(() => {\r\n    setOptions({\r\n      headerRight: () => (\r\n        <HeaderButtons HeaderButtonComponent={HeaderButton}>\r\n          <Item\r\n            title=\"Add new session\"\r\n            iconName={'add'}\r\n            onPress={() => navigate('NewSubjectScreen', { action: 'new' })}\r\n          />\r\n          <MoreMenu>\r\n            <MoreMenu.Item onPress={resetState} title=\"Reset\" />\r\n          </MoreMenu>\r\n        </HeaderButtons>\r\n      ),\r\n    })\r\n  }, [navigate, resetState, setOptions])\r\n  const itemPressHandler = useCallback(\r\n    (subjectId: string) => {\r\n      navigate('SubjectDetailsScreen', { subjectId })\r\n    },\r\n    [navigate],\r\n  )\r\n  return (\r\n    <Screen>\r\n      <SubjectsView subjects={subjects} onItemPress={itemPressHandler} />\r\n    </Screen>\r\n  )\r\n}\r\nexport default SubjectsScreen\r\n","import { TimetableView, SessionDetailsView } from '@components'\r\nimport { HeaderButton, Screen } from '@components/UI'\r\nimport { MoreMenu } from '@components/UI/HeaderButtons'\r\nimport { useSubjectsState, useTimetablesState } from '@hooks'\r\nimport { DrawerParamList } from '@navigation/DrawerNavigator'\r\nimport { MainStackParamList } from '@navigation/MainNavigator'\r\nimport { DrawerScreenProps } from '@react-navigation/drawer'\r\nimport { FC, useCallback, useEffect, useMemo, useState } from 'react'\r\nimport { HeaderButtons, Item } from 'react-navigation-header-buttons'\r\n\r\ntype Props = DrawerScreenProps<DrawerParamList & MainStackParamList, 'TimetableScreen'>\r\n\r\nconst TimetableScreen: FC<Props> = ({ navigation: { setOptions, navigate } }) => {\r\n  const { activeStaticTimetable, resetTimetablesState, getSessionById, deleteSession } =\r\n    useTimetablesState()\r\n  const { subjects, getSubjectById } = useSubjectsState()\r\n  const [sessionDetailsVisible, setSessionDetailsVisible] = useState(false)\r\n  const [selectedSessionId, setSelectedSessionId] = useState<string | number[]>()\r\n  const selectedSession = useMemo(\r\n    () => (selectedSessionId ? getSessionById(selectedSessionId) : undefined),\r\n    [getSessionById, selectedSessionId],\r\n  )\r\n  const selectedSessionSubject = useMemo(\r\n    () => (selectedSession ? getSubjectById(selectedSession?.subjectId) : undefined),\r\n    [getSubjectById, selectedSession],\r\n  )\r\n  useEffect(() => {\r\n    setOptions({\r\n      headerRight: () => (\r\n        <HeaderButtons HeaderButtonComponent={HeaderButton}>\r\n          <Item\r\n            title=\"Add new session\"\r\n            iconName={'add'}\r\n            onPress={() => navigate('NewSessionScreen', { action: 'new' })}\r\n          />\r\n          <MoreMenu>\r\n            <MoreMenu.Item\r\n              onPress={() => navigate('ManageTimetablesScreen')}\r\n              title=\"Manage timetables\"\r\n            />\r\n            <MoreMenu.Item onPress={resetTimetablesState} title=\"Reset\" />\r\n          </MoreMenu>\r\n        </HeaderButtons>\r\n      ),\r\n    })\r\n  }, [navigate, setOptions, resetTimetablesState, activeStaticTimetable?.title])\r\n  const sessionPressedHandler = useCallback((sessionId: string | number[]) => {\r\n    setSelectedSessionId(sessionId)\r\n    setSessionDetailsVisible(true)\r\n  }, [])\r\n\r\n  return (\r\n    <Screen>\r\n      <TimetableView\r\n        timetable={activeStaticTimetable}\r\n        subjects={subjects}\r\n        onSessionPress={sessionPressedHandler}\r\n      />\r\n      <SessionDetailsView\r\n        session={selectedSession}\r\n        subject={selectedSessionSubject}\r\n        visible={sessionDetailsVisible}\r\n        onDismiss={() => setSessionDetailsVisible(false)}\r\n        onDelete={() => selectedSessionId && deleteSession(selectedSessionId)}\r\n        onEdit={() =>\r\n          selectedSessionId &&\r\n          navigate('NewSessionScreen', {\r\n            action: 'edit',\r\n            sessionId: selectedSessionId,\r\n          })\r\n        }\r\n      />\r\n    </Screen>\r\n  )\r\n}\r\nexport default TimetableScreen\r\n","import { NewTimetableDialog, TimetablesList } from '@components'\r\nimport { ConfirmationDialog, HeaderButton, Screen } from '@components/UI'\r\nimport { spacing } from '@constants'\r\nimport { useTimetablesState } from '@hooks'\r\nimport { Timetable } from '@models/Timetable'\r\nimport { MainStackParamList } from '@navigation/MainNavigator'\r\nimport { NativeStackScreenProps } from '@react-navigation/native-stack'\r\nimport { FC, useCallback, useEffect, useState } from 'react'\r\nimport { StyleSheet } from 'react-native'\r\nimport { Text } from 'react-native-paper'\r\nimport { HeaderButtons, Item } from 'react-navigation-header-buttons'\r\n\r\ntype Props = NativeStackScreenProps<MainStackParamList, 'ManageTimetablesScreen'>\r\n\r\nconst ManageTimetablesScreen: FC<Props> = ({ navigation: { setOptions, navigate } }) => {\r\n  const {\r\n    timetables,\r\n    activeTimetableId,\r\n    editTimetableTitle,\r\n    deleteTimetable,\r\n    getTimetableById,\r\n    setActiveTimetableId,\r\n    addTimetable,\r\n  } = useTimetablesState()\r\n  const [deleteDialogVisible, setDeleteDialogVisible] = useState(false)\r\n  const [timetableToDelete, setTimetableToDelete] = useState<Timetable<'dynamic'>>()\r\n  const [newTimetableDialogVisible, setNewTimetableDialogVisible] = useState(false)\r\n  const [timetableToEdit, setTimetableToEdit] = useState<Timetable<'dynamic'>>()\r\n  const [editTimetableDialogVisible, setEditTimetableDialogVisible] = useState(false)\r\n\r\n  const editHandler = useCallback(\r\n    (id: string) => {\r\n      setTimetableToEdit(getTimetableById(id))\r\n      setEditTimetableDialogVisible(true)\r\n    },\r\n    [getTimetableById],\r\n  )\r\n  const confirmedEditHandler = useCallback(\r\n    (title: string) => {\r\n      if (timetableToEdit) {\r\n        editTimetableTitle(timetableToEdit.id, title)\r\n      }\r\n    },\r\n    [editTimetableTitle, timetableToEdit],\r\n  )\r\n  const deleteHandler = useCallback(\r\n    (id: string) => {\r\n      setTimetableToDelete(getTimetableById(id))\r\n      setDeleteDialogVisible(true)\r\n    },\r\n    [getTimetableById],\r\n  )\r\n  const confirmedDeleteHandler = useCallback(() => {\r\n    if (timetableToDelete) {\r\n      deleteTimetable(timetableToDelete.id)\r\n      setActiveTimetableId(idsList => idsList[0])\r\n    }\r\n  }, [deleteTimetable, setActiveTimetableId, timetableToDelete])\r\n  const addTimetableHandler = useCallback(\r\n    (title: string) => {\r\n      addTimetable({\r\n        title,\r\n        id: title,\r\n        sessions: [],\r\n      })\r\n    },\r\n    [addTimetable],\r\n  )\r\n\r\n  useEffect(() => {\r\n    setOptions({\r\n      headerRight: () => (\r\n        <HeaderButtons HeaderButtonComponent={HeaderButton}>\r\n          <Item\r\n            title=\"Add new timetable\"\r\n            iconName={'add'}\r\n            onPress={() => setNewTimetableDialogVisible(true)}\r\n          />\r\n        </HeaderButtons>\r\n      ),\r\n    })\r\n  }, [navigate, setOptions])\r\n\r\n  return (\r\n    <Screen style={styles.screen}>\r\n      <TimetablesList\r\n        timetables={timetables}\r\n        activeTimetableId={activeTimetableId}\r\n        onDelete={deleteHandler}\r\n        onSelect={setActiveTimetableId}\r\n        onEdit={editHandler}\r\n      />\r\n      <ConfirmationDialog\r\n        visible={deleteDialogVisible}\r\n        onDismiss={() => setDeleteDialogVisible(false)}\r\n        title=\"Delete Timetable\"\r\n        onConfirm={confirmedDeleteHandler}\r\n        deleteButton>\r\n        <Text>\r\n          Are you sure you want to delete{' '}\r\n          <Text style={{ fontWeight: 'bold' }}>{timetableToDelete?.title}</Text> timetable?\r\n        </Text>\r\n      </ConfirmationDialog>\r\n      <NewTimetableDialog\r\n        visible={newTimetableDialogVisible}\r\n        onConfirm={addTimetableHandler}\r\n        onDismiss={() => setNewTimetableDialogVisible(false)}\r\n      />\r\n      <NewTimetableDialog\r\n        defaultValue={timetableToEdit?.title}\r\n        mode=\"edit\"\r\n        visible={editTimetableDialogVisible}\r\n        onConfirm={confirmedEditHandler}\r\n        onDismiss={() => setEditTimetableDialogVisible(false)}\r\n      />\r\n    </Screen>\r\n  )\r\n}\r\nexport default ManageTimetablesScreen\r\n\r\nconst styles = StyleSheet.create({\r\n  screen: {\r\n    padding: spacing.l,\r\n  },\r\n})\r\n","import { Content } from '@components/Drawer'\r\nimport { colors } from '@constants'\r\nimport { useDynamicDimensions } from '@hooks'\r\nimport { createDrawerNavigator } from '@react-navigation/drawer'\r\nimport {\r\n  AgendaScreen,\r\n  CalendarScreen,\r\n  OverviewScreen,\r\n  SettingsScreen,\r\n  SubjectsScreen,\r\n  TimetableScreen,\r\n} from '@screens'\r\nimport { paperTheme } from '@utils/theme'\r\n\r\nexport type DrawerParamList = {\r\n  OverviewScreen: undefined\r\n  TimetableScreen: undefined\r\n  CalendarScreen: undefined\r\n  AgendaScreen: undefined\r\n  SubjectsScreen: undefined\r\n  SettingsScreen: undefined\r\n}\r\n\r\nconst Drawer = createDrawerNavigator<DrawerParamList>()\r\n\r\nconst DrawerNavigator = () => {\r\n  const { width } = useDynamicDimensions('window')\r\n  const transformThreshold = 800\r\n\r\n  return (\r\n    <Drawer.Navigator\r\n      initialRouteName=\"CalendarScreen\"\r\n      drawerContent={props => <Content {...props} />}\r\n      useLegacyImplementation\r\n      screenOptions={{\r\n        headerTintColor: colors.primary,\r\n        headerShadowVisible: false,\r\n        drawerType: width > transformThreshold ? 'permanent' : undefined,\r\n        lazy: false,\r\n        headerTitleStyle: {\r\n          ...paperTheme.fonts.medium,\r\n        },\r\n      }}>\r\n      <Drawer.Screen\r\n        name=\"OverviewScreen\"\r\n        component={OverviewScreen}\r\n        options={{ title: 'Overview' }}\r\n      />\r\n      <Drawer.Screen\r\n        name=\"TimetableScreen\"\r\n        component={TimetableScreen}\r\n        options={{ title: 'Timetable' }}\r\n      />\r\n      <Drawer.Screen\r\n        name=\"CalendarScreen\"\r\n        component={CalendarScreen}\r\n        options={{ title: 'Calendar' }}\r\n      />\r\n      <Drawer.Screen name=\"AgendaScreen\" component={AgendaScreen} options={{ title: 'Agenda' }} />\r\n      <Drawer.Screen\r\n        name=\"SubjectsScreen\"\r\n        component={SubjectsScreen}\r\n        options={{ title: 'Subjects' }}\r\n      />\r\n      <Drawer.Screen\r\n        name=\"SettingsScreen\"\r\n        component={SettingsScreen}\r\n        options={{ title: 'Settings' }}\r\n      />\r\n    </Drawer.Navigator>\r\n  )\r\n}\r\n\r\nexport default DrawerNavigator\r\n","import { ConfirmationDialog, HeaderButton, Icon, Screen, Space } from '@components/UI'\r\nimport { MoreMenu } from '@components/UI/HeaderButtons'\r\nimport { fonts, spacing } from '@constants'\r\nimport { useSubjectsState } from '@hooks'\r\nimport { MainStackParamList } from '@navigation/MainNavigator'\r\nimport { NativeStackScreenProps } from '@react-navigation/native-stack'\r\nimport { FC, useCallback, useEffect, useState } from 'react'\r\nimport { StyleSheet, View } from 'react-native'\r\nimport { Divider, Text, Title } from 'react-native-paper'\r\nimport { HeaderButtons } from 'react-navigation-header-buttons'\r\n\r\ntype Props = NativeStackScreenProps<MainStackParamList, 'SubjectDetailsScreen'>\r\n\r\nconst SubjectDetailsScreen: FC<Props> = ({\r\n  navigation: { setOptions, navigate, goBack },\r\n  route: { params },\r\n}) => {\r\n  const { subjectId } = params\r\n  const { getSubjectById, deleteSubject } = useSubjectsState()\r\n  const [deleteDialogVisible, setDeleteDialogVisible] = useState(false)\r\n  const subject = getSubjectById(subjectId)\r\n  const deleteHandler = useCallback(() => {\r\n    deleteSubject(subjectId)\r\n    goBack()\r\n  }, [deleteSubject, goBack, subjectId])\r\n  useEffect(() => {\r\n    setOptions({\r\n      headerTitle: subject?.name,\r\n      headerRight: () => (\r\n        <HeaderButtons HeaderButtonComponent={HeaderButton}>\r\n          <MoreMenu>\r\n            <MoreMenu.Item\r\n              title=\"Edit\"\r\n              onPress={() => navigate('NewSubjectScreen', { action: 'edit', subjectId })}\r\n            />\r\n            <MoreMenu.Item title=\"Delete\" onPress={() => setDeleteDialogVisible(true)} />\r\n          </MoreMenu>\r\n        </HeaderButtons>\r\n      ),\r\n    })\r\n  }, [deleteHandler, navigate, setOptions, subject?.name, subjectId])\r\n\r\n  if (!subject) return null\r\n  return (\r\n    <Screen scrollable style={styles.screen}>\r\n      <View style={styles.attributeContainer}>\r\n        <Icon pack=\"MaterialIcons\" icon=\"colorize\" />\r\n        <View style={[styles.colorView, { backgroundColor: subject.color }]} />\r\n      </View>\r\n      <Divider />\r\n      <View style={styles.attributeContainer}>\r\n        <Icon pack=\"MaterialIcons\" icon=\"room\" />\r\n        <Text style={styles.text}>{subject.room}</Text>\r\n      </View>\r\n      <Divider />\r\n      <View style={styles.attributeContainer}>\r\n        <Icon pack=\"MaterialIcons\" icon=\"person\" />\r\n        <Text style={styles.text}>{subject.teacher}</Text>\r\n      </View>\r\n      <Space bottomDivider />\r\n      <Title style={styles.title}>Next session</Title>\r\n      <Space height={200} bottomDivider />\r\n      <Title style={styles.title}>Upcoming events</Title>\r\n      <Space height={200} />\r\n      <ConfirmationDialog\r\n        title=\"Delete subject\"\r\n        deleteButton\r\n        style={styles.dialog}\r\n        visible={deleteDialogVisible}\r\n        onConfirm={deleteHandler}\r\n        onDismiss={() => setDeleteDialogVisible(false)}>\r\n        <Text>\r\n          Are you sure you want to delete <Text style={{ fontWeight: 'bold' }}>{subject.name}</Text>\r\n          ?\r\n        </Text>\r\n      </ConfirmationDialog>\r\n    </Screen>\r\n  )\r\n}\r\nexport default SubjectDetailsScreen\r\nconst styles = StyleSheet.create({\r\n  screen: {\r\n    padding: spacing.l,\r\n  },\r\n  attributeContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginVertical: spacing.l,\r\n  },\r\n  text: {\r\n    fontSize: fonts.sizes.regular,\r\n    marginLeft: spacing.l,\r\n  },\r\n  colorView: {\r\n    marginLeft: spacing.l,\r\n    height: 24,\r\n    aspectRatio: 4,\r\n    borderRadius: 12,\r\n  },\r\n  title: {\r\n    fontSize: fonts.sizes.title,\r\n  },\r\n  dialog: {\r\n    alignSelf: 'center',\r\n  },\r\n})\r\n","import { Session } from '@models/Timetable'\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack'\r\nimport { ManageTimetablesScreen, NewSessionScreen, NewSubjectScreen } from '@screens'\r\nimport SubjectDetailsScreen from '@screens/SubjectDetailsScreen'\r\nimport { paperTheme } from '@utils/theme'\r\nimport DrawerNavigator from './DrawerNavigator'\r\n\r\nexport type MainStackParamList = {\r\n  DrawerNavigator: undefined\r\n  LoginScreen: undefined\r\n  SetupScreen: undefined\r\n  NewSessionScreen: {\r\n    action: 'edit' | 'new'\r\n    sessionId?: Session<'dynamic'>['id']\r\n  }\r\n  NewSubjectScreen: {\r\n    action: 'edit' | 'new'\r\n    subjectId?: string\r\n  }\r\n  SubjectDetailsScreen: { subjectId: string }\r\n  ManageTimetablesScreen: undefined\r\n}\r\n\r\nconst Stack = createNativeStackNavigator<MainStackParamList>()\r\n\r\nconst MainNavigator = () => (\r\n  <Stack.Navigator\r\n    initialRouteName=\"DrawerNavigator\"\r\n    screenOptions={{\r\n      headerShadowVisible: false,\r\n      headerTitleStyle: {\r\n        ...paperTheme.fonts.medium,\r\n      },\r\n    }}>\r\n    <Stack.Screen\r\n      name=\"DrawerNavigator\"\r\n      component={DrawerNavigator}\r\n      options={{ headerShown: false }}\r\n    />\r\n    <Stack.Screen\r\n      name=\"NewSessionScreen\"\r\n      component={NewSessionScreen}\r\n      options={{ headerTitle: 'New session' }}\r\n    />\r\n    <Stack.Screen\r\n      name=\"NewSubjectScreen\"\r\n      component={NewSubjectScreen}\r\n      options={{ title: 'New subject' }}\r\n    />\r\n    <Stack.Screen\r\n      name=\"SubjectDetailsScreen\"\r\n      component={SubjectDetailsScreen}\r\n      options={{ headerTitle: '' }}\r\n    />\r\n    <Stack.Screen\r\n      name=\"ManageTimetablesScreen\"\r\n      component={ManageTimetablesScreen}\r\n      options={{ headerTitle: 'Manage timetables' }}\r\n    />\r\n  </Stack.Navigator>\r\n)\r\n\r\nexport default MainNavigator\r\n","import { MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons'\r\nimport { useFlipper } from '@react-navigation/devtools'\r\nimport { NavigationContainer, useNavigationContainerRef } from '@react-navigation/native'\r\nimport { navigationTheme, paperTheme } from '@utils/theme'\r\nimport AppLoading from 'expo-app-loading'\r\nimport { FC, Suspense } from 'react'\r\n//@ts-ignore\r\nimport { connectToDevTools } from 'react-devtools-core'\r\nimport { LogBox } from 'react-native'\r\nimport { Provider as PaperProvider } from 'react-native-paper'\r\nimport { RecoilRoot } from 'recoil'\r\n//@ts-ignore\r\nimport FlipperAsyncStorage from 'rn-flipper-async-storage-advanced'\r\nimport {\r\n  useFonts,\r\n  Poppins_200ExtraLight,\r\n  Poppins_400Regular,\r\n  Poppins_500Medium,\r\n  Poppins_100Thin,\r\n} from '@expo-google-fonts/poppins'\r\n\r\nif (__DEV__) {\r\n  connectToDevTools({\r\n    host: 'localhost',\r\n    port: 8097,\r\n  })\r\n  //@ts-ignore\r\n  import('react-native-console-time-polyfill')\r\n}\r\nLogBox.ignoreLogs(['timer', 'The native module for Flipper seems unavailable.'])\r\n\r\nconst Providers: FC = ({ children }) => {\r\n  const navigationRef = useNavigationContainerRef()\r\n  useFlipper(navigationRef)\r\n  const [fontsLoaded] = useFonts({\r\n    Poppins_200ExtraLight,\r\n    Poppins_400Regular,\r\n    Poppins_500Medium,\r\n    Poppins_100Thin,\r\n  })\r\n\r\n  if (!fontsLoaded) {\r\n    return <AppLoading />\r\n  }\r\n  return (\r\n    <>\r\n      <FlipperAsyncStorage />\r\n      <PaperProvider\r\n        theme={paperTheme}\r\n        settings={{\r\n          icon: props => {\r\n            if (Object.keys(MaterialIcons.glyphMap).includes(props.name))\r\n              return <MaterialIcons {...props} name={props.name as any} />\r\n            else if (Object.keys(MaterialCommunityIcons.glyphMap).includes(props.name))\r\n              return <MaterialCommunityIcons {...props} name={props.name as any} />\r\n          },\r\n        }}>\r\n        <Suspense fallback={<AppLoading />}>\r\n          <RecoilRoot>\r\n            <NavigationContainer theme={navigationTheme} ref={navigationRef}>\r\n              {children}\r\n            </NavigationContainer>\r\n          </RecoilRoot>\r\n        </Suspense>\r\n      </PaperProvider>\r\n    </>\r\n  )\r\n}\r\nexport default Providers\r\n","import { MainNavigator } from '@navigation'\r\nimport { Providers } from '@utils'\r\nimport { StatusBar } from 'expo-status-bar'\r\nimport { StyleSheet, View } from 'react-native'\r\n\r\n/* TODO-Features:\r\n /////* dynamic timetable (changes based on current date)\r\n * swipe horizontally to navigate between weeks {TimetableView}\r\n * export and import states\r\n * use recoil selector to wrap active timetable logic\r\n /////* add horizontal line to indicate current time in timetable\r\n * add web support for time and date pickers\r\n * optimize initial render\r\n * (lazy render drawer screens or render after initial screen)\r\n */\r\n/* TODO-Bugs:\r\n /////! can't access header buttons when header is not shown\r\n /////! statusbar overlaps with content on landscape mode\r\n /////! scroll wheel disalign TimetableView body and header\r\n /////! static timetable gets outdated\r\n ! sessions intersection not handled\r\n */\r\n\r\nexport default function App() {\r\n  return (\r\n    <Providers>\r\n      <View style={styles.container}>\r\n        <StatusBar style=\"auto\" />\r\n        <MainNavigator />\r\n      </View>\r\n    </Providers>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n})\r\n","var map = {\n\t\"./af\": 409,\n\t\"./af.js\": 409,\n\t\"./ar\": 410,\n\t\"./ar-dz\": 411,\n\t\"./ar-dz.js\": 411,\n\t\"./ar-kw\": 412,\n\t\"./ar-kw.js\": 412,\n\t\"./ar-ly\": 413,\n\t\"./ar-ly.js\": 413,\n\t\"./ar-ma\": 414,\n\t\"./ar-ma.js\": 414,\n\t\"./ar-sa\": 415,\n\t\"./ar-sa.js\": 415,\n\t\"./ar-tn\": 416,\n\t\"./ar-tn.js\": 416,\n\t\"./ar.js\": 410,\n\t\"./az\": 417,\n\t\"./az.js\": 417,\n\t\"./be\": 418,\n\t\"./be.js\": 418,\n\t\"./bg\": 419,\n\t\"./bg.js\": 419,\n\t\"./bm\": 420,\n\t\"./bm.js\": 420,\n\t\"./bn\": 421,\n\t\"./bn-bd\": 422,\n\t\"./bn-bd.js\": 422,\n\t\"./bn.js\": 421,\n\t\"./bo\": 423,\n\t\"./bo.js\": 423,\n\t\"./br\": 424,\n\t\"./br.js\": 424,\n\t\"./bs\": 425,\n\t\"./bs.js\": 425,\n\t\"./ca\": 426,\n\t\"./ca.js\": 426,\n\t\"./cs\": 427,\n\t\"./cs.js\": 427,\n\t\"./cv\": 428,\n\t\"./cv.js\": 428,\n\t\"./cy\": 429,\n\t\"./cy.js\": 429,\n\t\"./da\": 430,\n\t\"./da.js\": 430,\n\t\"./de\": 431,\n\t\"./de-at\": 432,\n\t\"./de-at.js\": 432,\n\t\"./de-ch\": 433,\n\t\"./de-ch.js\": 433,\n\t\"./de.js\": 431,\n\t\"./dv\": 434,\n\t\"./dv.js\": 434,\n\t\"./el\": 435,\n\t\"./el.js\": 435,\n\t\"./en-au\": 436,\n\t\"./en-au.js\": 436,\n\t\"./en-ca\": 437,\n\t\"./en-ca.js\": 437,\n\t\"./en-gb\": 438,\n\t\"./en-gb.js\": 438,\n\t\"./en-ie\": 439,\n\t\"./en-ie.js\": 439,\n\t\"./en-il\": 440,\n\t\"./en-il.js\": 440,\n\t\"./en-in\": 441,\n\t\"./en-in.js\": 441,\n\t\"./en-nz\": 442,\n\t\"./en-nz.js\": 442,\n\t\"./en-sg\": 443,\n\t\"./en-sg.js\": 443,\n\t\"./eo\": 444,\n\t\"./eo.js\": 444,\n\t\"./es\": 445,\n\t\"./es-do\": 446,\n\t\"./es-do.js\": 446,\n\t\"./es-mx\": 447,\n\t\"./es-mx.js\": 447,\n\t\"./es-us\": 448,\n\t\"./es-us.js\": 448,\n\t\"./es.js\": 445,\n\t\"./et\": 449,\n\t\"./et.js\": 449,\n\t\"./eu\": 450,\n\t\"./eu.js\": 450,\n\t\"./fa\": 451,\n\t\"./fa.js\": 451,\n\t\"./fi\": 452,\n\t\"./fi.js\": 452,\n\t\"./fil\": 453,\n\t\"./fil.js\": 453,\n\t\"./fo\": 454,\n\t\"./fo.js\": 454,\n\t\"./fr\": 455,\n\t\"./fr-ca\": 456,\n\t\"./fr-ca.js\": 456,\n\t\"./fr-ch\": 457,\n\t\"./fr-ch.js\": 457,\n\t\"./fr.js\": 455,\n\t\"./fy\": 458,\n\t\"./fy.js\": 458,\n\t\"./ga\": 459,\n\t\"./ga.js\": 459,\n\t\"./gd\": 460,\n\t\"./gd.js\": 460,\n\t\"./gl\": 461,\n\t\"./gl.js\": 461,\n\t\"./gom-deva\": 462,\n\t\"./gom-deva.js\": 462,\n\t\"./gom-latn\": 463,\n\t\"./gom-latn.js\": 463,\n\t\"./gu\": 464,\n\t\"./gu.js\": 464,\n\t\"./he\": 465,\n\t\"./he.js\": 465,\n\t\"./hi\": 466,\n\t\"./hi.js\": 466,\n\t\"./hr\": 467,\n\t\"./hr.js\": 467,\n\t\"./hu\": 468,\n\t\"./hu.js\": 468,\n\t\"./hy-am\": 469,\n\t\"./hy-am.js\": 469,\n\t\"./id\": 470,\n\t\"./id.js\": 470,\n\t\"./is\": 471,\n\t\"./is.js\": 471,\n\t\"./it\": 472,\n\t\"./it-ch\": 473,\n\t\"./it-ch.js\": 473,\n\t\"./it.js\": 472,\n\t\"./ja\": 474,\n\t\"./ja.js\": 474,\n\t\"./jv\": 475,\n\t\"./jv.js\": 475,\n\t\"./ka\": 476,\n\t\"./ka.js\": 476,\n\t\"./kk\": 477,\n\t\"./kk.js\": 477,\n\t\"./km\": 478,\n\t\"./km.js\": 478,\n\t\"./kn\": 479,\n\t\"./kn.js\": 479,\n\t\"./ko\": 480,\n\t\"./ko.js\": 480,\n\t\"./ku\": 481,\n\t\"./ku.js\": 481,\n\t\"./ky\": 482,\n\t\"./ky.js\": 482,\n\t\"./lb\": 483,\n\t\"./lb.js\": 483,\n\t\"./lo\": 484,\n\t\"./lo.js\": 484,\n\t\"./lt\": 485,\n\t\"./lt.js\": 485,\n\t\"./lv\": 486,\n\t\"./lv.js\": 486,\n\t\"./me\": 487,\n\t\"./me.js\": 487,\n\t\"./mi\": 488,\n\t\"./mi.js\": 488,\n\t\"./mk\": 489,\n\t\"./mk.js\": 489,\n\t\"./ml\": 490,\n\t\"./ml.js\": 490,\n\t\"./mn\": 491,\n\t\"./mn.js\": 491,\n\t\"./mr\": 492,\n\t\"./mr.js\": 492,\n\t\"./ms\": 493,\n\t\"./ms-my\": 494,\n\t\"./ms-my.js\": 494,\n\t\"./ms.js\": 493,\n\t\"./mt\": 495,\n\t\"./mt.js\": 495,\n\t\"./my\": 496,\n\t\"./my.js\": 496,\n\t\"./nb\": 497,\n\t\"./nb.js\": 497,\n\t\"./ne\": 498,\n\t\"./ne.js\": 498,\n\t\"./nl\": 499,\n\t\"./nl-be\": 500,\n\t\"./nl-be.js\": 500,\n\t\"./nl.js\": 499,\n\t\"./nn\": 501,\n\t\"./nn.js\": 501,\n\t\"./oc-lnc\": 502,\n\t\"./oc-lnc.js\": 502,\n\t\"./pa-in\": 503,\n\t\"./pa-in.js\": 503,\n\t\"./pl\": 504,\n\t\"./pl.js\": 504,\n\t\"./pt\": 505,\n\t\"./pt-br\": 506,\n\t\"./pt-br.js\": 506,\n\t\"./pt.js\": 505,\n\t\"./ro\": 507,\n\t\"./ro.js\": 507,\n\t\"./ru\": 508,\n\t\"./ru.js\": 508,\n\t\"./sd\": 509,\n\t\"./sd.js\": 509,\n\t\"./se\": 510,\n\t\"./se.js\": 510,\n\t\"./si\": 511,\n\t\"./si.js\": 511,\n\t\"./sk\": 512,\n\t\"./sk.js\": 512,\n\t\"./sl\": 513,\n\t\"./sl.js\": 513,\n\t\"./sq\": 514,\n\t\"./sq.js\": 514,\n\t\"./sr\": 515,\n\t\"./sr-cyrl\": 516,\n\t\"./sr-cyrl.js\": 516,\n\t\"./sr.js\": 515,\n\t\"./ss\": 517,\n\t\"./ss.js\": 517,\n\t\"./sv\": 518,\n\t\"./sv.js\": 518,\n\t\"./sw\": 519,\n\t\"./sw.js\": 519,\n\t\"./ta\": 520,\n\t\"./ta.js\": 520,\n\t\"./te\": 521,\n\t\"./te.js\": 521,\n\t\"./tet\": 522,\n\t\"./tet.js\": 522,\n\t\"./tg\": 523,\n\t\"./tg.js\": 523,\n\t\"./th\": 524,\n\t\"./th.js\": 524,\n\t\"./tk\": 525,\n\t\"./tk.js\": 525,\n\t\"./tl-ph\": 526,\n\t\"./tl-ph.js\": 526,\n\t\"./tlh\": 527,\n\t\"./tlh.js\": 527,\n\t\"./tr\": 528,\n\t\"./tr.js\": 528,\n\t\"./tzl\": 529,\n\t\"./tzl.js\": 529,\n\t\"./tzm\": 530,\n\t\"./tzm-latn\": 531,\n\t\"./tzm-latn.js\": 531,\n\t\"./tzm.js\": 530,\n\t\"./ug-cn\": 532,\n\t\"./ug-cn.js\": 532,\n\t\"./uk\": 533,\n\t\"./uk.js\": 533,\n\t\"./ur\": 534,\n\t\"./ur.js\": 534,\n\t\"./uz\": 535,\n\t\"./uz-latn\": 536,\n\t\"./uz-latn.js\": 536,\n\t\"./uz.js\": 535,\n\t\"./vi\": 537,\n\t\"./vi.js\": 537,\n\t\"./x-pseudo\": 538,\n\t\"./x-pseudo.js\": 538,\n\t\"./yo\": 539,\n\t\"./yo.js\": 539,\n\t\"./zh-cn\": 540,\n\t\"./zh-cn.js\": 540,\n\t\"./zh-hk\": 541,\n\t\"./zh-hk.js\": 541,\n\t\"./zh-mo\": 542,\n\t\"./zh-mo.js\": 542,\n\t\"./zh-tw\": 543,\n\t\"./zh-tw.js\": 543\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 865;"],"sourceRoot":""}