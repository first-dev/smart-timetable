(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{613:function(e,t,n){"use strict";n.d(t,"a",(function(){return en}));var r=n(615),a=n(2),c=n(7),o=n(6),s=n.n(o),i=n(101),l=n(254),j=n(875),u=n(123),b=n(323),d=n(874),O=n(543),f=n(38),h={background:f.a.grey100,primary:f.a.amber800,accent:f.a.deepOrange300,highlight:f.a.amber600,blackFont:f.a.black,text:f.a.grey700,secondaryText:f.a.grey600,faintText:f.a.grey400,error:f.a.red800},g=16,m=24,y={regular:16},p=n(1);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=x(x({},u.a),{},{colors:x(x({},u.a.colors),{},{primary:h.primary,accent:h.accent,text:h.text,placeholder:h.faintText})}),S=x(x({},l.a),{},{colors:x(x({},l.a.colors),{},{primary:h.primary,text:h.primary,background:"white",border:"transparent"})}),P=function(e){var t=e.children;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.a,{theme:w,settings:{icon:function(e){return Object.keys(d.a.glyphMap).includes(e.name)?Object(p.jsx)(d.a,x(x({},e),{},{name:e.name})):Object.keys(O.a.glyphMap).includes(e.name)?Object(p.jsx)(O.a,x(x({},e),{},{name:e.name})):void 0}},children:Object(p.jsx)(i.b,{children:Object(p.jsx)(j.a,{theme:S,children:t})})})})},I=n(892),D=n(0),C=n(558),k=n(229),A=n(244),E=function(){return Object(p.jsx)(a.a,{style:L.container,children:Object(p.jsx)(A.a,{style:L.text,children:"Smart Timetable"})})},L=c.a.create({container:{flex:1,justifyContent:"center",alignItems:"flex-start",padding:20},text:{flex:1,color:h.primary}}),M=function(e){switch(e){case"OverviewScreen":return"home";case"TimetableScreen":return"timetable";case"CalendarScreen":return"calendar-today";case"AgendaScreen":return"view-agenda";case"SubjectsScreen":return"school";case"SettingsScreen":return"settings"}},z=c.a.create({container:{borderRightWidth:1,borderRightColor:f.a.grey200},item:{paddingVertical:4},divider:{marginHorizontal:8}}),H=function(e){return Object(p.jsxs)(C.a,{style:z.container,children:[Object(p.jsx)(E,{}),Object(p.jsx)(k.a,{style:z.divider}),e.state.routes.map((function(t){var n=t.key,r=t.name;return Object(p.jsxs)(D.Fragment,{children:["AgendaScreen"===r&&Object(p.jsx)(k.a,{style:z.divider}),Object(p.jsx)(f.b.Item,{style:z.item,label:r,icon:M(r),onPress:function(){return e.navigation.navigate(r)},active:e.descriptors[n].navigation.isFocused(),theme:{colors:{text:h.blackFont}}})]},n)}))]})},T=n(13),F=n.n(T),B=n(33),N=function(e){var t=Object(D.useState)(B.a.get(e)),n=F()(t,2),r=n[0],a=n[1],c=function(t){var n=t.window,r=t.screen;a("window"===e?n:r)};return Object(D.useEffect)((function(){return B.a.addEventListener("change",c),function(){B.a.removeEventListener("change",c)}}),[]),r},R=function(e){var t=Object(D.useState)(e(B.a.get("window"),B.a.get("screen"))),n=F()(t,2),r=n[0],a=n[1],c=function(t){var n=t.window,r=t.screen;a(e(n,r))};return Object(D.useEffect)((function(){return B.a.addEventListener("change",c),function(){B.a.removeEventListener("change",c)}}),[]),r},V=(n(115),n(88)),U=n(367);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){return Object(p.jsx)(V.a,q(q({},e),{},{iconSize:24,IconComponent:d.a,color:h.primary}))},J=n(876),K=n(877),Y=n(878),_=n(879),Z=n(880),Q=n(894),X=n(881),$=n(882),ee=n(883),te=n(884),ne=n(885),re=n(886),ae=n(37),ce={AntDesign:J.a,Entypo:K.a,EvilIcons:Y.a,Feather:_.a,FontAwesome:Z.a,FontAwesome5:Q.a,Fontisto:X.a,Foundation:$.a,Ionicons:ee.a,MaterialCommunityIcons:O.a,MaterialIcons:d.a,Octicons:te.a,SimpleLineIcons:ne.a,Zocial:re.a},oe=function(e){var t=e.icon,n=e.pack,r=e.color,a=e.size,c=void 0===a?24:a,o=e.style,s=Object(ae.b)().colors,i=ce[n];return Object(p.jsx)(i,{name:t,color:null!=r?r:s.text,size:c,style:o})},se=(n(77),J.a,K.a,Y.a,_.a,Z.a,Q.a,X.a,$.a,ee.a,O.a,d.a,te.a,ne.a,re.a,c.a.create({container:{justifyContent:"center",alignItems:"center"}}),n(17)),ie=n.n(se),le=n(270),je=n(887),ue=n(891),be=n(117),de=n(103),Oe=["value","label","style","placeholder","icon","error"];function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=c.a.create({container:{paddingVertical:m,paddingHorizontal:g,flexDirection:"row",alignItems:"center",flexShrink:1},iconContainer:{paddingRight:g},labelContainer:{width:60},label:{fontSize:y.regular},valueContainer:{flex:1},value:{flexShrink:1,fontSize:y.regular},errorContainer:{}}),me=Object(be.d)((function(e){var t=e.value,n=e.label,r=e.style,c=e.placeholder,o=e.icon,s=e.error,i=ie()(e,Oe),l=Object(ae.b)().colors.placeholder;return Object(p.jsxs)(be.c,he(he({style:[ge.container,r]},i),{},{children:[Object(p.jsx)(a.a,{style:ge.iconContainer,children:o}),n&&Object(p.jsx)(a.a,{style:ge.labelContainer,children:Object(p.jsx)(de.a,{style:ge.label,children:n})}),Object(p.jsx)(a.a,{style:ge.valueContainer,children:Object(p.jsx)(de.a,{style:ge.value,children:null!=t?t:Object(p.jsx)(de.a,{style:{color:l},children:c})})}),Object(p.jsx)(a.a,{style:ge.errorContainer,children:s&&Object(p.jsx)(oe,{pack:"MaterialCommunityIcons",icon:"close-circle",color:h.error})})]}))}),{flex:void 0}),ye=["value","label","style","placeholder","onChange"];function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){var t=e.value,n=e.label,r=e.style,a=e.placeholder,c=void 0===a?"Pick a time":a,o=e.onChange,s=ie()(e,ye),i=Object(D.useState)(!1),l=F()(i,2),j=l[0],u=l[1],b=void 0!=t?Object(je.a)(t):void 0;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(me,ve({value:b&&Object(ue.a)(b,"h:m a"),onPress:function(){return u(!0)},icon:Object(p.jsx)(oe,{pack:"MaterialIcons",icon:"access-time"}),placeholder:c,label:n,style:r},s)),j&&Object(p.jsx)(le.a,{value:null!=b?b:new Date,mode:"time",onChange:function(e,t){u(!1),t&&(null==o||o(t.toISOString()))},textColor:"red"})]})},we=n(524),Se=["style"];function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(be.d)((function(e){var t=e.style,n=ie()(e,Se);return Object(p.jsx)(be.c,{style:[De.container,t],onPress:n.onPress,children:Object(p.jsxs)(a.a,{style:De.innerContainer,pointerEvents:"none",children:[Object(p.jsx)(de.a,{style:void 0,children:n.label}),Object(p.jsx)(we.a.Item,Ie(Ie({},n),{},{style:De.radioItem,onPress:void 0,position:"leading"}))]})})}),{flex:0});var De=c.a.create({container:{padding:24,flexShrink:1},innerContainer:{flexDirection:"row",alignItems:"center",backgroundColor:"red"},radioItem:{padding:0,margin:0,backgroundColor:"blue"}}),Ce=function(e){var t=e.height,n=void 0===t?40:t,r=e.topDivider,c=e.bottomDivider;return Object(p.jsxs)(p.Fragment,{children:[r&&Object(p.jsx)(k.a,{}),Object(p.jsx)(a.a,{style:{alignSelf:"stretch",height:n}}),c&&Object(p.jsx)(k.a,{})]})},ke=n(56),Ae=n(245),Ee=n(525),Le=["style","placeholder","value","onChange"];function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Te=function(e){var t,n=e.style,r=e.placeholder,a=void 0===r?"Pick a day":r,c=e.value,o=e.onChange,s=ie()(e,Le),i=Object(D.useState)(!1),l=F()(i,2),j=l[0],u=l[1],b=function(){return u(!1)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(me,ze({value:void 0!=c?He[parseInt(c)]:void 0,onPress:function(){return u(!0)},icon:Object(p.jsx)(oe,{pack:"MaterialCommunityIcons",icon:"calendar"}),placeholder:a,style:n},s)),Object(p.jsx)(Ae.a,{children:Object(p.jsxs)(Ee.a,{visible:j,onDismiss:b,style:Fe.dialog,children:[Object(p.jsx)(Ee.a.Title,{children:"Pick a day"}),Object(p.jsx)(Ee.a.ScrollArea,{style:{paddingHorizontal:0},children:Object(p.jsx)(ke.a,{children:Object(p.jsx)(we.a.Group,{value:null!=(t=String(c))?t:"",onValueChange:function(e){null==o||o(e),b()},children:He.map((function(e,t){return Object(p.jsx)(we.a.Item,{label:e,value:String(t),position:"leading",labelStyle:{textAlign:void 0},style:{backgroundColor:void 0,marginHorizontal:0}},t)}))})})})]})})]})},Fe=c.a.create({dialog:{marginVertical:200}}),Be=["value","label","style","placeholder","onChange"];function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=function(e){var t=e.value,n=e.label,r=e.style,a=e.placeholder,c=void 0===a?"Pick a date":a,o=e.onChange,s=ie()(e,Be),i=Object(D.useState)(!1),l=F()(i,2),j=l[0],u=l[1],b=void 0!=t?Object(je.a)(t):void 0;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(me,Re({value:b&&Object(ue.a)(b,"yyyy / MM / dd"),onPress:function(){return u(!0)},icon:Object(p.jsx)(oe,{pack:"MaterialCommunityIcons",icon:"calendar-range"}),placeholder:c,label:n,style:r},s)),j&&Object(p.jsx)(le.a,{value:null!=b?b:new Date,mode:"date",onChange:function(e,t){u(!1),t&&(null==o||o(t.toISOString()))},textColor:"red"})]})},Ue=n(62),We=function(){var e=Object(D.useState)(!1),t=F()(e,2),n=t[0],r=t[1],a=Object(Ue.p)().navigate;return Object(p.jsxs)(V.b,{HeaderButtonComponent:G,children:[Object(p.jsx)(V.c,{title:"Add new session",iconName:"add",onPress:function(){return a("NewSessionScreen")}}),Object(p.jsxs)(U.a,{visible:n,onDismiss:function(){return r(!1)},anchor:Object(p.jsx)(V.c,{title:"More options",iconName:"more-vert",onPress:function(){return r(!0)}}),children:[Object(p.jsx)(U.a.Item,{onPress:function(){return console.log("Item 1 pressed")},title:"Item 1"}),Object(p.jsx)(U.a.Item,{onPress:function(){return console.log("Item 2 pressed")},title:"Item 2"}),Object(p.jsx)(k.a,{}),Object(p.jsx)(U.a.Item,{onPress:function(){return console.log("Item 3 pressed")},title:"Item 1"})]})]})},qe=n(30),Ge=c.a.create({screen:{flex:1}}),Je=function(){return Object(p.jsx)(a.a,{style:Ge.screen,children:Object(p.jsx)(qe.a,{children:"AgendaScreen"})})},Ke=n(614),Ye=c.a.create({screen:{flex:1}}),_e=function(){return Object(p.jsx)(a.a,{style:Ye.screen,children:Object(p.jsx)(Ke.a,{renderArrow:function(e){return Object(p.jsx)(d.a,{name:"arrow-"+("left"===e?"back":"forward")+"-ios",size:18})}})})},Ze=(c.a.create({screen:{flex:1}}),c.a.create({screen:{flex:1}})),Qe=function(){return Object(p.jsx)(a.a,{style:Ze.screen,children:Object(p.jsx)(qe.a,{children:"OverviewScreen"})})},Xe=c.a.create({screen:{flex:1}}),$e=function(){return Object(p.jsx)(a.a,{style:Xe.screen,children:Object(p.jsx)(qe.a,{children:"SettingsScreen"})})},et=(c.a.create({screen:{flex:1}}),n(83)),tt=function(e){var t=e.subject,n=t.name,r=t.color,c=e.style;return Object(p.jsx)(a.a,{style:[nt.container,c],children:Object(p.jsx)(a.a,{style:[nt.inner,{backgroundColor:r}],children:Object(p.jsx)(a.a,{style:nt.header,children:Object(p.jsx)(qe.a,{style:nt.text,numberOfLines:2,children:n})})})})},nt=c.a.create({container:{flex:1,alignItems:"stretch"},inner:{flex:1,alignItems:"stretch",margin:2,borderRadius:4,overflow:"hidden"},header:{alignItems:"center",padding:4},text:{color:"white"}}),rt=function(e){var t=e.subjects,n=Object(D.useState)(B.a.get("window").width),r=F()(n,2),c=r[0],o=r[1],s=Math.round(c/250)||1;return Object(p.jsx)(a.a,{style:at.container,children:Object(p.jsx)(et.a,{style:at.list,numColumns:s,data:t,renderItem:function(e){var t=e.item;return Object(p.jsx)(tt,{subject:t,style:{flex:1/s}})},onLayout:function(e){var t=e.nativeEvent.layout.width;o(t)}},s)})},at=c.a.create({container:{flex:1},list:{}}),ct=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ot=function(e){var t=e.start,n=e.end,r=e.style,c=e.highlightedDay;return Object(p.jsx)(a.a,{style:[st.container,r],children:ct.map((function(e,r){return r>=t&&r<=n&&Object(p.jsx)(a.a,{style:st.element,children:Object(p.jsx)(qe.a,{style:[st.text,r===c?st.highlighted:void 0],children:e})},e)}))})},st=c.a.create({container:{flexDirection:"row",justifyContent:"space-evenly",borderBottomWidth:1,borderBottomColor:f.a.grey200},element:{flex:1,alignItems:"center",paddingVertical:4},text:{fontSize:12,color:h.text},highlighted:{color:h.highlight,fontWeight:"bold"}}),it=function(e){var t,n=e.session,r=n.start,c=n.end,o=n.subjectId,s=e.subjects,i=e.style,l=e.highlighted,j=null!=(t=s.find((function(e){return e.id===o})))?t:{name:"",color:f.a.grey600},u=j.name,b=j.color;return Object(p.jsx)(a.a,{style:[lt.container,{height:(c-r)/24*100+"%"},i],children:Object(p.jsx)(a.a,{style:[lt.inner,{backgroundColor:b},l?lt.highlighted:void 0],children:Object(p.jsx)(qe.a,{style:lt.text,children:u})})})},lt=c.a.create({container:{alignItems:"stretch"},inner:{flex:1,padding:6,margin:2,borderRadius:4},text:{color:"white",fontSize:14},highlighted:{borderWidth:2,borderColor:h.highlight,shadowColor:h.highlight,shadowOpacity:1,shadowRadius:16,elevation:16}}),jt=function(e){var t=e.gap;return Object(p.jsx)(a.a,{style:{height:t/24*100+"%"}})},ut=function(e){var t=e.style,n=e.day,r=e.subjects;return n.sessions.sort((function(e,t){return e.start-t.start})),Object(p.jsx)(a.a,{style:[bt.container,t],children:n.sessions.map((function(e,t,n){var a,c=(null==(a=n[t+1])?void 0:a.start)-e.end;return Object(p.jsxs)(D.Fragment,{children:[0==t&&0!=e.start&&Object(p.jsx)(jt,{gap:e.start}),Object(p.jsx)(it,{session:e,subjects:r,highlighted:e.highlighted}),c>0&&Object(p.jsx)(jt,{gap:c})]},t)}))})},bt=c.a.create({container:{flex:1,justifyContent:"flex-start",alignItems:"stretch"}}),dt=n(80),Ot=function(e){var t=e.columns,n=e.rows,r=e.halves,c=void 0!==r&&r,o=e.style;return Object(p.jsxs)(a.a,{style:[ft.container,o],children:[Object(p.jsx)(a.a,{style:[ft.line,ft.columns],children:Object(dt.range)(t-1).map((function(e){return Object(p.jsx)(a.a,{style:ft.columnBorder},e)}))}),Object(p.jsx)(a.a,{style:[ft.line,ft.rows],children:Object(dt.range)((c?2*n:n)-1).map((function(e){return Object(p.jsx)(a.a,{style:[ft.rowBorder,e%2||!c?void 0:ft.faint]},e)}))})]})},ft=c.a.create({container:{flex:1,width:"100%"},line:{position:"absolute",top:0,right:0,bottom:0,left:0,justifyContent:"space-evenly",alignItems:"center"},columns:{flexDirection:"row",paddingHorizontal:.5},columnBorder:{width:1,height:"100%",backgroundColor:f.a.grey200},rows:{flexDirection:"column",paddingVertical:.5},rowBorder:{height:1,width:"100%",backgroundColor:f.a.grey200},faint:{backgroundColor:f.a.grey50}}),ht=function(e){var t,n=e.days,r=e.subjects;return Object(p.jsxs)(a.a,{style:gt.container,children:[Object(p.jsx)(Ot,{style:gt.float,columns:null!=(t=null==n?void 0:n.length)?t:6,rows:24,halves:!0}),Object(p.jsx)(a.a,{style:[gt.float,gt.columnsContainer],children:null==n?void 0:n.map((function(e,t){return Object(p.jsx)(ut,{day:e,subjects:r},t)}))})]})},gt=c.a.create({container:{flex:1},float:{position:"absolute",top:0,right:0,bottom:0,left:0},columnsContainer:{flexDirection:"row"}}),mt=function(e){var t=e.start,n=e.end,r=e.AmPm,c=void 0!==r&&r,o=e.style;return Object(p.jsx)(a.a,{style:[yt.container,o],children:Object(dt.range)(t,n+1).map((function(e){return Object(p.jsx)(a.a,{style:yt.cell,children:Object(p.jsx)(qe.a,{style:yt.text,children:Object(ue.a)(new Date(0,0,0,e),c?"h a":"H").toLowerCase()})},e)}))})},yt=c.a.create({container:{paddingVertical:10,width:40,justifyContent:"space-evenly",alignItems:"stretch"},cell:{height:20,justifyContent:"center",alignItems:"center"},text:{fontSize:12,color:h.text}}),pt=function(e){var t,n=e.timetable,r=e.subjects,c=R((function(e){return{scrollContainerStyle:{height:e.height>300?2*e.height:600}}})).scrollContainerStyle,o=null==n||null==(t=n.days.find((function(e){return e.highlighted})))?void 0:t.index;return Object(p.jsxs)(a.a,{style:vt.container,children:[Object(p.jsx)(ot,{start:1,end:5,style:vt.header,highlightedDay:o}),Object(p.jsxs)(ke.a,{style:vt.scroll,contentContainerStyle:[c,vt.scrollContainer],children:[Object(p.jsx)(mt,{start:1,end:23,AmPm:!0,style:vt.sidebar}),Object(p.jsx)(ht,{days:null==n?void 0:n.days,subjects:r})]})]})},vt=c.a.create({container:{flex:1},scroll:{flex:1},scrollContainer:{flexDirection:"row"},header:{paddingLeft:40},sidebar:{width:40}}),xt=["style","placeholder","value","subjects","onChange"];function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=function(e){var t=e.style,n=e.placeholder,r=void 0===n?"Pick a subject":n,a=e.value,c=e.subjects,o=e.onChange,s=ie()(e,xt),i=Object(D.useState)(!1),l=F()(i,2),j=l[0],u=l[1],b=function(){return u(!1)},d=c.find((function(e){return e.id===a}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(me,St({value:null==d?void 0:d.name,onPress:function(){return u(!0)},icon:Object(p.jsx)(oe,{pack:"MaterialIcons",icon:"school"}),placeholder:r,style:t},s)),Object(p.jsx)(Ae.a,{children:Object(p.jsxs)(Ee.a,{visible:j,onDismiss:b,style:It.dialog,children:[Object(p.jsx)(Ee.a.Title,{children:"Pick a subject"}),Object(p.jsx)(Ee.a.ScrollArea,{style:{paddingHorizontal:0},children:Object(p.jsx)(ke.a,{children:Object(p.jsx)(we.a.Group,{value:null!=a?a:"",onValueChange:function(e){null==o||o(e),b()},children:c.map((function(e,t){var n=e.id,r=e.name;return Object(p.jsx)(we.a.Item,{label:r,value:n,position:"leading",labelStyle:{textAlign:void 0},style:{backgroundColor:void 0,marginHorizontal:0}},t)}))})})})]})})]})},It=c.a.create({dialog:{marginVertical:200}}),Dt=(new Date(2022,1,1),new Date(2023,1,1),new Date(2022,1,1),new Date(2023,1,1),{id:"S2",sessions:[{dayIndex:1,subjectId:"M9",start:8,end:12,shelfLife:{start:new Date(2022,1,1),end:new Date(2023,1,1)}},{dayIndex:3,subjectId:"M12-1",start:8,end:12,shelfLife:{start:new Date(2022,1,1),end:new Date(2023,1,1)}}]}),Ct=[{id:"M11-1",name:"CAO",room:"Salle1",color:f.a.purple400,teacher:"Y. FARHANE"},{id:"M12-1",name:"Circuits reprogrammables",room:"Salle1",color:f.a.red400,teacher:"A. MANSOURI"},{id:"M12-2",name:"Conception des C.I par langage VHDL",room:"Salle1",color:f.a.cyan400,teacher:"A. MANSOURI"},{id:"M9",name:"Recherche op\xe9rationnelle",room:"Salle1",color:f.a.indigoA400,teacher:"S. ELHAJ-BEN-ALI"},{id:"M16-1",name:"Anglais",room:"Salle1",color:f.a.teal400,teacher:"DAHBI"},{id:"M16-2",name:"TEC2",room:"Salle1",color:f.a.brown400,teacher:"KHADIJA ALAOUI"},{id:"M13-1",name:"Microcontr\xf4leur avanc\xe9",room:"Salle1",color:f.a.redA400,teacher:"A. MANSOURI"},{id:"M13-2",name:"Automate programmable API",room:"Salle1",color:f.a.blue400,teacher:"A.ELBDOURI"},{id:"M10-1",name:"Syst\xe8me d'Information : Conception des syst\xe8mes d'information",room:"Salle1",color:f.a.pinkA400,teacher:"L. OUGHDIR"},{id:"M10-2",name:"Syst\xe8me d'Information : Bases de donn\xe9es",room:"Salle1",color:f.a.lightGreenA400,teacher:"A.BOULAALAM"},{id:"M14",name:"JAVA, API",room:"Salle1",color:f.a.deepPurpleA400,teacher:"Y. KHAMLICHI"},{id:"M15-1",name:"Gestion comptable",room:"Salle1",color:f.a.deepOrangeA400,teacher:"BOULAICH"},{id:"M15-2",name:"Droit des soci\xe9t\xe9s",room:"Salle1",color:f.a.lightBlue400,teacher:"BOULAICH"},{id:"M11-2",name:"Traitement du Signal",room:"Salle1",color:f.a.orangeA400,teacher:"H.BELKBIR"}],kt=c.a.create({screen:{flex:1}}),At=function(){return Object(p.jsx)(a.a,{style:kt.screen,children:Object(p.jsx)(rt,{subjects:Ct})})},Et=n(888),Lt=function(e){var t=e.id,n=e.sessions;return{id:t,days:Object(dt.range)(1,6).map((function(e){return Mt({index:e,sessions:n.filter((function(t){return t.dayIndex===e}))})}))}},Mt=function(e){var t=e.index,n=e.sessions;return{index:t,sessions:n.filter((function(e){var t=e.shelfLife,n=t.start,r=t.end;return Object(Et.a)((new Date).getTime(),{start:null!=n?n:0,end:null!=r?r:1e15})})).map((function(e){var n=e.start,r=e.end;return{start:n,end:r,subjectId:e.subjectId,highlighted:zt(n,r)&&Ht(t)}})),highlighted:Ht(t)}},zt=function(e,t){var n=new Date,r=n.getHours()+n.getMinutes()/60;return e<=r&&r<=t},Ht=function(e){return e===(new Date).getDay()};function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=Object(i.c)({key:"timetablesState",default:{active:"S2",timetables:[Dt]}}),Nt=Object(i.d)({key:"activeTimetableState",get:function(e){var t=e.get,n=t(Bt).timetables,r=t(Rt);return n.find((function(e){return e.id===r}))},set:function(e,t){var n=e.set,r=e.get;return n(Bt,(function(e){var n=Object(dt.cloneDeep)(e),a=Object(dt.findIndex)(n.timetables,(function(e){return e.id===r(Rt)}));return-1===a||t instanceof i.a||void 0==t?e:(n.timetables[a]=t,n)}))}}),Rt=Object(i.d)({key:"setActiveTimetable",get:function(e){return(0,e.get)(Bt).active},set:function(e,t){return(0,e.set)(Bt,(function(e){return t instanceof i.a?e:Ft(Ft({},e),{},{active:t})}))}}),Vt=(Object(i.d)({key:"compiledTimetableState",get:function(e){var t=(0,e.get)(Nt);return t?Lt(t):void 0}}),c.a.create({screen:{flex:1}})),Ut=function(e){var t=e.navigation,n=t.setOptions,r=t.navigate,c=Object(D.useState)(!1),o=F()(c,2),s=o[0],l=o[1],j=Object(i.f)(Nt),u=j?Lt(j):void 0;return Object(D.useEffect)((function(){n({headerTitle:null==u?void 0:u.id,headerRight:function(){return Object(p.jsxs)(V.b,{HeaderButtonComponent:G,children:[Object(p.jsx)(V.c,{title:"Add new session",iconName:"add",onPress:function(){return r("NewSessionScreen")}}),Object(p.jsxs)(U.a,{visible:s,onDismiss:function(){return l(!1)},anchor:Object(p.jsx)(V.c,{title:"Options",iconName:"more-vert",onPress:function(){return l(!0)}}),children:[Object(p.jsx)(U.a.Item,{onPress:function(){return console.log("Item 1 pressed")},title:"Item 1"}),Object(p.jsx)(U.a.Item,{onPress:function(){return console.log("Item 2 pressed")},title:"Item 2"}),Object(p.jsx)(k.a,{}),Object(p.jsx)(U.a.Item,{onPress:function(){return console.log("Item 3 pressed")},title:"Item 1"})]})]})}})}),[s,r,n,null==u?void 0:u.id]),Object(p.jsx)(a.a,{style:Vt.screen,children:Object(p.jsx)(pt,{timetable:u,subjects:Ct})})},Wt=n(612),qt=n(889),Gt=n(110),Jt=c.a.create({screen:{flex:1}}),Kt=function(e){var t=e.navigation,n=t.setOptions,r=t.goBack,c=Object(i.e)(Nt),o=F()(c,2)[1],s=Object(D.useCallback)((function(e){var t=e.subjectId,n=e.dayIndex,a=e.start,c=e.end,s=e.shelfLifeStart,i=e.shelfLifeEnd;if(void 0!=n&&void 0!=t&&void 0!=a&&void 0!=c){var l=Object(je.a)(a),j=Object(je.a)(c);o((function(e){return e&&function(e,t){var n=Object(dt.cloneDeep)(e);return n.sessions.push(t),n}(e,{dayIndex:parseInt(n),subjectId:t,start:l.getHours()+l.getMinutes()/60,end:j.getHours()+j.getMinutes()/60,shelfLife:{start:s?Object(je.a)(s):null,end:i?Object(je.a)(i):null}})}))}r()}),[r,o]),l=Object(D.useRef)(null);Object(D.useEffect)((function(){n({headerRight:function(){var e;return Object(p.jsx)(V.b,{HeaderButtonComponent:G,children:Object(p.jsx)(V.c,{title:"Add new session",iconName:"done",onPress:null==(e=l.current)?void 0:e.handleSubmit})})}})}),[n]);var j=Gt.a().shape({subjectId:Gt.b().required(),dayIndex:Gt.b().required(),start:Gt.b().when(["end"],(function(e){return Gt.b().test((function(t){return t&&e&&1===Object(qt.a)(Object(je.a)(e),Object(je.a)(t))||t&&!e}))})),end:Gt.b().required().when(["start"],(function(e){return Gt.b().test((function(t){return e&&t&&1===Object(qt.a)(Object(je.a)(t),Object(je.a)(e))||!e&&t}))})),shelfLifeStart:Gt.b().when(["shelfLifeEnd"],(function(e){return Gt.b().test((function(t){return t&&e&&1===Object(qt.a)(Object(je.a)(e),Object(je.a)(t))||!e}))})),shelfLifeEnd:Gt.b().when(["shelfLifeStart"],(function(e){return Gt.b().test((function(t){return e&&t&&1===Object(qt.a)(Object(je.a)(t),Object(je.a)(e))||!e}))}))},[["start","end"],["shelfLifeStart","shelfLifeEnd"]]);return Object(p.jsx)(a.a,{style:Jt.screen,children:Object(p.jsx)(Wt.a,{initialValues:{},validationSchema:j,onSubmit:s,validateOnBlur:!1,validateOnChange:!1,innerRef:l,children:function(e){var t=e.values,n=e.errors,r=e.handleChange;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k.a,{}),Object(p.jsx)(Pt,{subjects:Ct,onChange:r("subjectId"),value:t.subjectId,error:!!n.subjectId}),Object(p.jsx)(Ce,{topDivider:!0,bottomDivider:!0}),Object(p.jsx)(Te,{value:t.dayIndex,onChange:r("dayIndex"),error:!!n.dayIndex}),Object(p.jsx)(k.a,{}),Object(p.jsx)(xe,{label:"Start",value:t.start,onChange:r("start"),error:!!n.start}),Object(p.jsx)(k.a,{}),Object(p.jsx)(xe,{label:"End",value:t.end,onChange:r("end"),error:!!n.end}),Object(p.jsx)(Ce,{topDivider:!0,bottomDivider:!0}),Object(p.jsx)(Ve,{label:"First",value:t.shelfLifeStart,onChange:r("shelfLifeStart"),error:!!n.shelfLifeStart}),Object(p.jsx)(k.a,{}),Object(p.jsx)(Ve,{label:"Last",value:t.shelfLifeEnd,onChange:r("shelfLifeEnd"),error:!!n.shelfLifeEnd})]})}})})};function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _t=Object(I.a)(),Zt=function(){var e=N("window").width;return Object(p.jsxs)(_t.Navigator,{initialRouteName:"TimetableScreen",drawerContent:function(e){return Object(p.jsx)(H,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},screenOptions:{headerTintColor:h.primary,headerShadowVisible:!1,drawerType:e>800?"permanent":"front",headerShown:e<=800},children:[Object(p.jsx)(_t.Screen,{name:"OverviewScreen",component:Qe}),Object(p.jsx)(_t.Screen,{name:"TimetableScreen",component:Ut,options:{headerRight:We}}),Object(p.jsx)(_t.Screen,{name:"CalendarScreen",component:_e}),Object(p.jsx)(_t.Screen,{name:"AgendaScreen",component:Je}),Object(p.jsx)(_t.Screen,{name:"SubjectsScreen",component:At}),Object(p.jsx)(_t.Screen,{name:"SettingsScreen",component:$e})]})},Qt=n(893),Xt=Object(Qt.a)(),$t=function(){return Object(p.jsxs)(Xt.Navigator,{initialRouteName:"DrawerNavigator",screenOptions:{headerShadowVisible:!1},children:[Object(p.jsx)(Xt.Screen,{name:"DrawerNavigator",component:Zt,options:{headerShown:!1}}),Object(p.jsx)(Xt.Screen,{name:"NewSessionScreen",component:Kt,options:{headerTitle:""}})]})};n(860);function en(){return Object(p.jsx)(P,{children:Object(p.jsxs)(a.a,{style:tn.container,children:[Object(p.jsx)(r.a,{style:"auto"}),Object(p.jsx)($t,{})]})})}var tn=c.a.create({container:{flex:1}})},646:function(e,t,n){e.exports=n(864)},830:function(e,t,n){var r={"./af":386,"./af.js":386,"./ar":387,"./ar-dz":388,"./ar-dz.js":388,"./ar-kw":389,"./ar-kw.js":389,"./ar-ly":390,"./ar-ly.js":390,"./ar-ma":391,"./ar-ma.js":391,"./ar-sa":392,"./ar-sa.js":392,"./ar-tn":393,"./ar-tn.js":393,"./ar.js":387,"./az":394,"./az.js":394,"./be":395,"./be.js":395,"./bg":396,"./bg.js":396,"./bm":397,"./bm.js":397,"./bn":398,"./bn-bd":399,"./bn-bd.js":399,"./bn.js":398,"./bo":400,"./bo.js":400,"./br":401,"./br.js":401,"./bs":402,"./bs.js":402,"./ca":403,"./ca.js":403,"./cs":404,"./cs.js":404,"./cv":405,"./cv.js":405,"./cy":406,"./cy.js":406,"./da":407,"./da.js":407,"./de":408,"./de-at":409,"./de-at.js":409,"./de-ch":410,"./de-ch.js":410,"./de.js":408,"./dv":411,"./dv.js":411,"./el":412,"./el.js":412,"./en-au":413,"./en-au.js":413,"./en-ca":414,"./en-ca.js":414,"./en-gb":415,"./en-gb.js":415,"./en-ie":416,"./en-ie.js":416,"./en-il":417,"./en-il.js":417,"./en-in":418,"./en-in.js":418,"./en-nz":419,"./en-nz.js":419,"./en-sg":420,"./en-sg.js":420,"./eo":421,"./eo.js":421,"./es":422,"./es-do":423,"./es-do.js":423,"./es-mx":424,"./es-mx.js":424,"./es-us":425,"./es-us.js":425,"./es.js":422,"./et":426,"./et.js":426,"./eu":427,"./eu.js":427,"./fa":428,"./fa.js":428,"./fi":429,"./fi.js":429,"./fil":430,"./fil.js":430,"./fo":431,"./fo.js":431,"./fr":432,"./fr-ca":433,"./fr-ca.js":433,"./fr-ch":434,"./fr-ch.js":434,"./fr.js":432,"./fy":435,"./fy.js":435,"./ga":436,"./ga.js":436,"./gd":437,"./gd.js":437,"./gl":438,"./gl.js":438,"./gom-deva":439,"./gom-deva.js":439,"./gom-latn":440,"./gom-latn.js":440,"./gu":441,"./gu.js":441,"./he":442,"./he.js":442,"./hi":443,"./hi.js":443,"./hr":444,"./hr.js":444,"./hu":445,"./hu.js":445,"./hy-am":446,"./hy-am.js":446,"./id":447,"./id.js":447,"./is":448,"./is.js":448,"./it":449,"./it-ch":450,"./it-ch.js":450,"./it.js":449,"./ja":451,"./ja.js":451,"./jv":452,"./jv.js":452,"./ka":453,"./ka.js":453,"./kk":454,"./kk.js":454,"./km":455,"./km.js":455,"./kn":456,"./kn.js":456,"./ko":457,"./ko.js":457,"./ku":458,"./ku.js":458,"./ky":459,"./ky.js":459,"./lb":460,"./lb.js":460,"./lo":461,"./lo.js":461,"./lt":462,"./lt.js":462,"./lv":463,"./lv.js":463,"./me":464,"./me.js":464,"./mi":465,"./mi.js":465,"./mk":466,"./mk.js":466,"./ml":467,"./ml.js":467,"./mn":468,"./mn.js":468,"./mr":469,"./mr.js":469,"./ms":470,"./ms-my":471,"./ms-my.js":471,"./ms.js":470,"./mt":472,"./mt.js":472,"./my":473,"./my.js":473,"./nb":474,"./nb.js":474,"./ne":475,"./ne.js":475,"./nl":476,"./nl-be":477,"./nl-be.js":477,"./nl.js":476,"./nn":478,"./nn.js":478,"./oc-lnc":479,"./oc-lnc.js":479,"./pa-in":480,"./pa-in.js":480,"./pl":481,"./pl.js":481,"./pt":482,"./pt-br":483,"./pt-br.js":483,"./pt.js":482,"./ro":484,"./ro.js":484,"./ru":485,"./ru.js":485,"./sd":486,"./sd.js":486,"./se":487,"./se.js":487,"./si":488,"./si.js":488,"./sk":489,"./sk.js":489,"./sl":490,"./sl.js":490,"./sq":491,"./sq.js":491,"./sr":492,"./sr-cyrl":493,"./sr-cyrl.js":493,"./sr.js":492,"./ss":494,"./ss.js":494,"./sv":495,"./sv.js":495,"./sw":496,"./sw.js":496,"./ta":497,"./ta.js":497,"./te":498,"./te.js":498,"./tet":499,"./tet.js":499,"./tg":500,"./tg.js":500,"./th":501,"./th.js":501,"./tk":502,"./tk.js":502,"./tl-ph":503,"./tl-ph.js":503,"./tlh":504,"./tlh.js":504,"./tr":505,"./tr.js":505,"./tzl":506,"./tzl.js":506,"./tzm":507,"./tzm-latn":508,"./tzm-latn.js":508,"./tzm.js":507,"./ug-cn":509,"./ug-cn.js":509,"./uk":510,"./uk.js":510,"./ur":511,"./ur.js":511,"./uz":512,"./uz-latn":513,"./uz-latn.js":513,"./uz.js":512,"./vi":514,"./vi.js":514,"./x-pseudo":515,"./x-pseudo.js":515,"./yo":516,"./yo.js":516,"./zh-cn":517,"./zh-cn.js":517,"./zh-hk":518,"./zh-hk.js":518,"./zh-mo":519,"./zh-mo.js":519,"./zh-tw":520,"./zh-tw.js":520};function a(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id=830}},[[646,1,2]]]);
//# sourceMappingURL=app.936cf6b3.chunk.js.map